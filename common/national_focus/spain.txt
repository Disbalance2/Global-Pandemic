# Author(s): Angriest Bird, The_GhosT, DrCthulhuFace
# Last Modified by 03/11/2023
focus_tree = {
	id = spanish_focus
	country = {
		factor = 0
		modifier = {
			tag = SPR
			add = 10
		}
	}

	# Sets Camera to Opening of the Political Tree
	initial_show_position = { x = 2 y = 0 }
	shared_focus = EU001
	continuous_focus_position = { x = 200 y = 1200 }

	# Political Tree
	focus = {
		id = SPR_the_political_sphere
		icon = Election_graphics
		x = 2
		y = 0

		cost = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_political_sphere"
			add_political_power = 75
			custom_effect_tooltip = SPR_explain_politics_tt
		}

		ai_will_do = {
			factor = 10
		}
	}

	focus = {
		id = SPR_the_republic
		icon = Election

		x = -1
		y = 1
		relative_position_id = SPR_the_political_sphere

		cost = 4

		prerequisite = { focus = SPR_the_political_sphere }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_republic"
			add_stability = 0.025
			add_war_support = 0.025
			unlock_decision_category_tooltip = SPR_political_policy_category
		}

		ai_will_do = {
			factor = 10
		}
	}

	focus = {
		id = SPR_faith_in_the_constitution
		icon = government_beu

		x = 1
		y = 1
		relative_position_id = SPR_the_political_sphere

		cost = 4

		prerequisite = { focus = SPR_the_political_sphere }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_faith_in_the_constitution"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.015 }
			add_relative_party_popularity = yes
			add_political_power = 75
		}

		ai_will_do = {
			factor = 10
		}
	}

	## Separatist Factions
	focus = {
		id = SPR_nuestra_identidad
		icon = SPR_nuestra_identidad

		x = -20
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 4 #28

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nuestra_identidad"
			custom_effect_tooltip = SPR_all_culture_increase_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 5 }
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	## Euskara
	focus = {
		id = SPR_euskara
		icon = align_to_basque

		x = -10
		y = 1
		relative_position_id = SPR_nuestra_identidad

		cost = 2

		available = {
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = { focus = SPR_nuestra_identidad }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_euskara"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 2 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_adopt_basque
		icon = adopt_basque
		x = -12
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = { focus = SPR_euskara }
		mutually_exclusive = { focus = SPR_tolerate_the_euskara }
		mutually_exclusive = { focus = SPR_ban_the_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_adopt_basque"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tolerate_the_euskara
		icon = basque_republic # TODO
		x = -10
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		prerequisite = { focus = SPR_euskara }
		mutually_exclusive = { focus = SPR_ban_the_basque }
		mutually_exclusive = { focus = SPR_adopt_basque }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tolerate_the_euskara"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ban_the_basque
		icon = attack_basque_country
		x = -8
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			20_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
			NOT = { has_completed_focus = SPR_one_with_the_basque }
		}

		prerequisite = { focus = SPR_euskara }
		mutually_exclusive = { focus = SPR_tolerate_the_euskara }
		mutually_exclusive = { focus = SPR_adopt_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ban_the_basque"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_integrate_basque
		icon = align_to_basque # TODO
		x = -12
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = { focus = SPR_adopt_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_integrate_basque"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_konpromisoa
		icon = union_negotiations
		x = -10
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = {
			focus = SPR_adopt_basque
			focus = SPR_tolerate_the_euskara
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_konpromisoa"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_the_bilbao_convention
		icon = attack_basque_country # TODO
		x = -8
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
			NOT = { has_completed_focus = SPR_one_with_the_basque }
		}

		prerequisite = { focus = SPR_ban_the_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_bilbao_convention"
			country_event = { id = spain.2 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_country_for_all
		icon = align_to_basque # TODO
		x = -12
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
			NOT = {
				has_idea = SPR_idea_the_eta_1
				has_idea = SPR_idea_the_eta_2
				has_idea = SPR_idea_the_eta_3
				has_idea = SPR_idea_the_eta_4
			}
		}

		prerequisite = { focus = SPR_integrate_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_country_for_all"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mano_a_mano
		icon = national_unity
		x = -10
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = {
			focus = SPR_integrate_basque
			focus = SPR_konpromisoa
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mano_a_mano"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_vascos_espanol_solidarity
		icon = diplomatic_treaty
		x = -9
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			has_country_flag = SPR_bilbao_convention_limit_freedoms
			NOT = { country_exists = NAV }
			owns_state = 88
		}

		prerequisite = {
			focus = SPR_konpromisoa
			focus = SPR_the_bilbao_convention
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_vascos_espanol_solidarity"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_no_spainard_is_a_basque
		icon = attack_basque_country # TODO
		x = -8
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			50_percent_government_popularity = yes
			has_country_flag = SPR_bilbao_convention_crush_basque
			NOT = { country_exists = NAV }
			owns_state = 88
			NOT = { has_completed_focus = SPR_one_with_the_basque }
		}

		prerequisite = { focus = SPR_the_bilbao_convention }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_no_spainard_is_a_basque"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
			if = { limit = { has_idea = SPR_idea_unsettled_minorities }
				modify_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			88 = {
				remove_dynamic_modifier = {
					modifier = SPR_euskara_state
				}
			}
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	## Galegos
	focus = {
		id = SPR_galegos
		icon = align_to_galicia

		x = -4
		y = 1
		relative_position_id = SPR_nuestra_identidad

		cost = 2

		available = {
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_nuestra_identidad }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_galegos"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 2 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ban_galician
		icon = attack_galicia

		x = -6
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			20_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_galegos }
		mutually_exclusive = { focus = SPR_tolerate_the_galegos }
		mutually_exclusive = { focus = SPR_adopt_galician }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ban_galician"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_lugo_list
		icon = attack_galicia # TODO

		x = -6
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_ban_galician }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_lugo_list"
			country_event = { id = spain.3 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_decimate_galician_culture
		icon = attack_galicia # TODO

		x = -6
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			50_percent_government_popularity = yes
			has_country_flag = SPR_lugo_convention_crush_galegos
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_the_lugo_list }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_decimate_galician_culture"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
			if = { limit = { has_idea = SPR_idea_unsettled_minorities }
				modify_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			if = { limit = { owns_state = 944 }
				944 = {
					remove_dynamic_modifier = {
						modifier = SPR_galegos_state
					}
				}
			}
			if = { limit = { owns_state = 1055 }
				1055 = {
					remove_dynamic_modifier = {
						modifier = SPR_galegos_state
					}
				}
			}
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_northern_citizenship_question
		icon = northern_citizenship_question
		x = -7
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 10

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
			has_country_flag = SPR_bilbao_convention_crush_basque
			has_country_flag = SPR_lugo_convention_crush_galegos
			NOT = { has_completed_focus = SPR_one_with_the_basque }
			NOT = {
				country_exists = NAV
				country_exists = GAL
			}
		}

		prerequisite = { focus = SPR_decimate_galician_culture }
		prerequisite = { focus = SPR_no_spainard_is_a_basque }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_northern_citizenship_question"
			country_event = { id = spain.6 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tolerate_the_galegos
		icon = galician_republic

		x = -4
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_galegos }
		mutually_exclusive = { focus = SPR_ban_galician }
		mutually_exclusive = { focus = SPR_adopt_galician }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tolerate_the_galegos"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_adopt_galician
		icon = adopt_galicia

		x = -2
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_galegos }
		mutually_exclusive = { focus = SPR_ban_galician }
		mutually_exclusive = { focus = SPR_tolerate_the_galegos }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_adopt_galician"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_compromiso
		icon = union_negotiations

		x = -4
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = {
			focus = SPR_tolerate_the_galegos
			focus = SPR_adopt_galician
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_compromiso"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_galician_integration
		icon = align_to_galicia # TODO

		x = -2
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_adopt_galician }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_galician_integration"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_gallegos_espanol_solidarity
		icon = diplomatic_treaty

		x = -5
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			has_country_flag = SPR_lugo_convention_limit_freedoms
		}

		prerequisite = {
			focus = SPR_compromiso
			focus = SPR_the_lugo_list
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_gallegos_espanol_solidarity"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_our_celtic_brothers
		icon = national_unity

		x = -4
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}
		prerequisite = { focus = SPR_compromiso }
		prerequisite = { focus = SPR_galician_integration }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_our_celtic_brothers"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_our_people_together
		icon = align_to_galicia # TODO

		x = -2
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			NOT = { country_exists = GAL }
			OR = {
				owns_state = 944
				owns_state = 1055
			}
		}

		prerequisite = { focus = SPR_galician_integration }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_our_people_together"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}


	# Canary Islands
	focus = {
		id = SPR_canary_islands
		icon = align_to_canarios

		x = 0
		y = 1
		relative_position_id = SPR_nuestra_identidad

		cost = 5

		available = {
			30_percent_government_popularity = yes
			owns_state = 95
			NOT = { country_exists = CNR }
		}

		prerequisite = { focus = SPR_nuestra_identidad }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_canary_islands"
			set_temp_variable = { culture_index = 4 }
			set_temp_variable = { cultural_opinion = 2 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_canaries_movement
		icon = spr_canaries_movement

		x = 0
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			30_percent_government_popularity = yes
			owns_state = 95
			NOT = { country_exists = CNR }
		}

		prerequisite = { focus = SPR_canary_islands }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_canary_islands"
			country_event = { id = spain.1 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_tax_haven
		icon = spanish_tax_haven

		x = 0
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			NOT = { has_country_flag = SPR_stifled_canarios_movement }
			40_percent_government_popularity = yes
			owns_state = 95
			NOT = { country_exists = CNR }
		}

		prerequisite = { focus = SPR_the_canaries_movement }

		search_filters = { FOCUS_FILTER_SPR_CULTURE FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_tax_haven"
			add_ideas = SPR_idea_spanish_tax_haven
		}

		ai_will_do = {
			factor = 1
		}
	}
	## Catalans

	focus = {
		id = SPR_catalans
		icon = align_to_catalonia

		x = 4
		y = 1
		relative_position_id = SPR_nuestra_identidad

		cost = 2

		prerequisite = { focus = SPR_nuestra_identidad }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalans"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 2 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_adopt_catalan
		icon = adopt_catalonia

		x = 2
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = { focus = SPR_catalans }
		mutually_exclusive = { focus = SPR_tolerate_the_catalanes }
		mutually_exclusive = { focus = SPR_ban_catalan }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_adopt_catalan"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_catalan_inclusion
		icon = align_to_catalonia

		x = 2
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = { focus = SPR_adopt_catalan }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalan_inclusion"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_catala_i_espanyol
		icon = align_to_catalonia

		x = 2
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = { focus = SPR_catalan_inclusion }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catala_i_espanyol"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tolerate_the_catalanes
		icon = catalonian_republic

		x = 4
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = { focus = SPR_catalans }

		mutually_exclusive = { focus = SPR_adopt_catalan }
		mutually_exclusive = { focus = SPR_ban_catalan }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tolerate_the_catalanes"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_compromis
		icon = union_negotiations

		x = 4
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = {
			focus = SPR_tolerate_the_catalanes
			focus = SPR_adopt_catalan
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_compromis"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_catalanes_agreements
		icon = national_unity

		x = 4
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = { focus = SPR_compromis }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalanes_agreements"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_catalan_espanol_solidarity
		icon = diplomatic_treaty

		x = 5
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			has_country_flag = SPR_barcelona_convention_limit_freedoms
			owns_state = 86
			NOT = { has_completed_focus = SPR_the_catalonian_cancer }
		}

		prerequisite = {
			focus = SPR_compromis
			focus = SPR_barcelonian_reconciliation
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalan_espanol_solidarity"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ban_catalan
		icon = attack_catalonia

		x = 6
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			20_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_catalonian_concessions }
		}

		prerequisite = { focus = SPR_catalans }

		mutually_exclusive = { focus = SPR_tolerate_the_catalanes }
		mutually_exclusive = { focus = SPR_adopt_catalan }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ban_catalan"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_barcelonian_reconciliation
		icon = attack_catalonia

		x = 6
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
			owns_state = 86
			NOT = { has_completed_focus = SPR_catalonian_concessions }
		}

		prerequisite = { focus = SPR_ban_catalan }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_barcelonian_reconciliation"
			country_event = { id = spain.4 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_castilian_barcelona
		icon = attack_catalonia

		x = 6
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			50_percent_government_popularity = yes
			has_country_flag = SPR_barcelona_crush_the_catalans
			owns_state = 86
			NOT = { has_completed_focus = SPR_catalonian_concessions }
		}

		prerequisite = { focus = SPR_barcelonian_reconciliation }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_castilian_barcelona"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
			if = { limit = { has_idea = SPR_idea_unsettled_minorities }
				modify_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			86 = {
				remove_dynamic_modifier = {
					modifier = SPR_catalans_state
				}
			}
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}
	## Andaluces

	focus = {
		id = SPR_andaluces
		icon = align_to_andalucia

		x = 10
		y = 1
		relative_position_id = SPR_nuestra_identidad

		cost = 2

		available = {
			NOT = { country_exists = SPA }
			owns_state = 93
		}

		prerequisite = { focus = SPR_nuestra_identidad }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalans"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 2 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ban_andalucian
		icon = attack_andalucia

		x = 8
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			20_percent_government_popularity = yes
			owns_state = 93
		}

		prerequisite = { focus = SPR_andaluces }
		mutually_exclusive = {
			focus = SPR_tolerate_the_andaluces
			focus = SPR_adopt_andalucian
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ban_andalucian"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_seville_pact
		icon = attack_andalucia

		x = 8
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
			owns_state = 93
		}

		prerequisite = { focus = SPR_ban_andalucian }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seville_pact"
			country_event = { id = spain.5 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eliminate_the_andaluces
		icon = attack_andalucia

		x = 8
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			50_percent_government_popularity = yes
			has_country_flag = SPR_seville_crush_the_andalucia
			owns_state = 93
		}

		prerequisite = { focus = SPR_seville_pact }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eliminate_the_andaluces"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = -10 }
			SPR_modify_cultural_opinion = yes
			if = { limit = { has_idea = SPR_idea_unsettled_minorities }
				modify_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_idea_unsettled_minorities
					days = 180
				}
			}
			93 = {
				remove_dynamic_modifier = {
					modifier = SPR_andaluces_state
				}
			}
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_south_citizenship_reform
		icon = southern_citizenship_question

		x = 7
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
			has_country_flag = SPR_barcelona_crush_the_catalans
			has_country_flag = SPR_seville_crush_the_andalucia
			NOT = { has_completed_focus = SPR_catalonian_concessions }
			NOT = {
				country_exists = CAT
				country_exists = SPA
			}
		}

		prerequisite = { focus = SPR_eliminate_the_andaluces }
		prerequisite = { focus = SPR_castilian_barcelona }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_south_citizenship_reform"
			country_event = { id = spain.7 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tolerate_the_andaluces
		icon = andalusia_republic

		x = 10
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 93
		}
		prerequisite = { focus = SPR_andaluces }

		mutually_exclusive = { focus = SPR_ban_andalucian }
		mutually_exclusive = { focus = SPR_adopt_andalucian }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tolerate_the_andaluces"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_compromico
		icon = union_negotiations

		x = 10
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 93
		}
		prerequisite = {
			focus = SPR_tolerate_the_andaluces
			focus = SPR_adopt_andalucian
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_compromico"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_andalucian_compromise
		icon = national_unity

		x = 10
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			30_percent_government_popularity = yes
			owns_state = 93
		}
		prerequisite = { focus = SPR_compromico }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_andalucian_compromise"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_andaluces_espanol_solidarity
		icon = diplomatic_treaty

		x = 9
		y = 5
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			has_country_flag = SPR_seville_convention_limit_freedoms
			owns_state = 93
		}

		prerequisite = {
			focus = SPR_seville_pact
			focus = SPR_compromico
		}

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_andaluces_espanol_solidarity"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_adopt_andalucian
		icon = adopt_andalucia

		x = 12
		y = 2
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 93
		}
		prerequisite = { focus = SPR_andaluces }

		mutually_exclusive = { focus = SPR_ban_andalucian }
		mutually_exclusive = { focus = SPR_tolerate_the_andaluces }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_adopt_andalucian"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_andalucian_assimilation
		icon = align_to_andalucia

		x = 12
		y = 3
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 93
		}

		prerequisite = { focus = SPR_adopt_andalucian }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_andalucian_assimilation"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_union_of_languages
		icon = align_to_andalucia

		x = 12
		y = 4
		relative_position_id = SPR_nuestra_identidad

		cost = 7.8 # 55 Days

		available = {
			nationalist_fascists_are_not_in_power_or_coalition = yes
			nationalist_right_wing_populists_are_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
			owns_state = 93
		}

		prerequisite = { focus = SPR_andalucian_assimilation }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_union_of_languages"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	##Old Ways

	focus = {
		id = SPR_the_old_ways
		icon = monarchism

		x = 1
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			emerging_anarchist_communism_not_in_power_or_coalition = yes
			emerging_communist_state_not_in_power_or_coalition = yes
			neutrality_neutral_communism_not_in_power_or_coalition = yes
			NOT = { has_global_flag = SPR_french_execution_gangnam_flag }
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_old_ways"
			set_temp_variable = { party_index = 0 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
			modifier = { # Killswitch
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 100
				has_global_flag = SPR_THE_OLD_WAYS_PATH
			}
		}
	}

	focus = {
		id = SPR_question_of_thrones
		icon = regency
		x = -2
		y = 1
		relative_position_id = SPR_the_old_ways

		cost = 5

		prerequisite = { focus = SPR_the_old_ways }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_question_of_thrones"
			country_event = { id = spain.57 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_emphasize_the_throne
		icon = royal_wedding
		x = -2
		y = 2
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		prerequisite = { focus = SPR_question_of_thrones }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_emphasize_the_throne"
			set_temp_variable = { party_index = 0 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_monarcho_revisionism
		icon = monarchism3
		x = 2
		y = 1
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		prerequisite = { focus = SPR_the_old_ways }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_monarcho_revisionism"
			add_timed_idea = {
				idea = SPR_idea_monarcho_revisionism
				days = 180
			}
			set_temp_variable = { party_index = 0 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_rights_of_the_king
		icon = checkmate
		x = 2
		y = 2
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		prerequisite = { focus = SPR_monarcho_revisionism }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_rights_of_the_king"
			add_ideas = SPR_idea_rights_of_the_king
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_undermine_the_republic
		icon = anti_democracy3
		x = 0
		y = 1
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		prerequisite = { focus = SPR_the_old_ways }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_undermine_the_republic"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = -0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = -0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = -0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_constitution_reformed
		icon = pass_legislation
		x = 0
		y = 2
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			if = { limit = { has_country_flag = SPR_carlists_chosen }
				has_country_flag = SPR_carlist_rising
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = western_autocrats_have_more_than_25_tt
					check_variable = { party_pop_array^0 > 0.249 }
				}
				custom_trigger_tooltip = {
					tooltip = nationalist_monarchists_have_more_than_25_tt
					check_variable = { party_pop_array^23 > 0.249 }
				}
			}
			has_completed_focus = SPR_rights_of_the_king
			has_completed_focus = SPR_emphasize_the_throne
		}

		prerequisite = { focus = SPR_undermine_the_republic }
		prerequisite = { focus = SPR_question_of_thrones }
		prerequisite = { focus = SPR_monarcho_revisionism }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_undermine_the_republic"
			country_event = { id = spain.58 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_expand_royal_guard
		icon = conquistadores
		x = 2
		y = 3
		relative_position_id = SPR_the_old_ways

		cost = 10

		available = {
			OR = {
				nationalist_monarchists_are_in_power = yes
				western_autocrats_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_constitution_reformed }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expand_royal_guard"
			set_temp_variable = { treasury_change = -10.00 }
			modify_treasury_effect = yes
			add_ideas = SPR_idea_guardia_real
			SPR = {
				division_template = {
					name = "Guardia Real"
					is_locked = yes
					regiments = {
						Special_Forces = { x = 0 y = 0 }
						Special_Forces = { x = 0 y = 1 }
						Special_Forces = { x = 0 y = 2 }
						Special_Forces = { x = 0 y = 3 }
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Guardia Real\" division_template = \"Guardia Real\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 3938
				}
				create_unit = {
					division = "name = \"Guardia Real\" division_template = \"Guardia Real\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 3938
				}
			}
			unlock_decision_tooltip = SPR_spawn_new_guardia_real_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_constitutional_monarchy
		icon = election3
		x = -1
		y = 3
		relative_position_id = SPR_the_old_ways

		cost = 10

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
			has_country_flag = SPR_constitutional_monarchy_flag
		}

		prerequisite = { focus = SPR_the_constitution_reformed }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_constitutional_monarchy"
			set_temp_variable = { party_index = 0 }
			set_temp_variable = { party_popularity_increase = 0.10 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_retain_democracy
		icon = parliament_box
		x = -3
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_constitutional_monarchy }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_retain_democracy"
			country_event = { id = spain.59 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revise_the_process
		icon = government_beu
		x = -3
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_retain_democracy }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revise_the_process"
			increase_centralization = yes
			add_stability = 0.03
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_benevolent_monarch
		icon = bread_and_peace
		x = -1
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_constitutional_monarchy }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_benevolent_monarch"
			add_ideas = SPR_a_benevolent_monarch_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_solidify_positioning
		icon = neutrality
		x = -1
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_a_benevolent_monarch }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_solidify_positioning"
			swap_ideas = {
				remove_idea = SPR_a_benevolent_monarch_idea
				add_idea = SPR_a_benevolent_monarch_idea2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_throne_for_people
		icon = autonomy
		x = 1
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_constitutional_monarchy }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_throne_for_people"
			set_temp_variable = { party_index = 0 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_every_man_a_king
		icon = bread_and_peace
		x = 1
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_a_throne_for_people }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_every_man_a_king"
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_new_elections
		icon = election2
		x = -1
		y = 6
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			western_autocrats_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_solidify_positioning }
		prerequisite = { focus = SPR_revise_the_process }
		prerequisite = { focus = SPR_every_man_a_king }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_elections"
			add_political_power = 100
			custom_effect_tooltip = SPR_the_new_elections_tt
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_throne_and_the_state
		icon = carlism
		x = 5
		y = 3
		relative_position_id = SPR_the_old_ways

		cost = 7.86 # 55 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
			has_country_flag = SPR_absolutist_monarchy_flag
		}

		prerequisite = { focus = SPR_the_constitution_reformed }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_elections"
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			unlock_decision_tooltip = SPR_a_just_tax_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_annihilate_parliament
		icon = authoritarian_democracy
		x = 3
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 5 # 35 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_throne_and_the_state }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_annihilate_parliament"
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			recalculate_party = yes
			add_stability = -0.025
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_heads_will_roll
		icon = executions
		x = 3
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_annihilate_parliament }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_heads_will_roll"
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			recalculate_party = yes
			add_stability = -0.025
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_royal_academies
		icon = research2
		x = 3
		y = 6
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_heads_will_roll }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_royal_academies"
			if = { limit = { has_idea = SPR_idea_monarcho_research_investments }
				swap_ideas = {
					remove_idea = SPR_idea_monarcho_research_investments
					add_idea = SPR_idea_monarcho_research_investments2
				}
			}
			else = {
				add_ideas = SPR_idea_monarcho_research_investments
				if = { limit = { NOT = { has_idea = edu_05 } }
					increase_education_budget = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_lord_wills_it
		icon = catholicism_new
		x = 5
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 7.86 # 55 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_throne_and_the_state }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_lord_wills_it"
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
			change_oligarchs_opinion = yes
			change_landowners_opinion = yes

			add_opinion_modifier = { target = HLS modifier = SPR_a_holy_monarchy }
			reverse_add_opinion_modifier = { target = HLS modifier = SPR_a_holy_monarchy }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_divine_right
		icon = focus_bible
		x = 5
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 7.86

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_lord_wills_it }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_divine_right"
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
			change_oligarchs_opinion = yes
			change_landowners_opinion = yes

			unlock_decision_tooltip = SPR_a_divine_right_decision
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_horizon_never_sets
		icon = strengthen_the_supreme_reality_of_spain
		x = 5
		y = 6
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_divine_right }
		prerequisite = { focus = SPR_heads_will_roll }
		prerequisite = { focus = SPR_reinforce_the_throne }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_horizon_never_sets"
			add_war_support = 0.05
			add_timed_idea = {
				idea = SPR_the_horizon_never_sets_idea
				days = 730
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_supremacy
		icon = reactionary # TODO
		x = 7
		y = 4
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
		}

		prerequisite = { focus = SPR_the_throne_and_the_state }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_supremacy"
			add_ideas = SPR_idea_the_new_spanish_monarchy
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reinforce_the_throne
		icon = monarchism2 # TODO
		x = 7
		y = 5
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
		}

		prerequisite = { focus = SPR_spanish_supremacy }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_the_throne"
			swap_ideas = {
				remove_idea = SPR_idea_the_new_spanish_monarchy
				add_idea = SPR_idea_the_new_spanish_monarchy2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_estatuto_fundamental_de_la_monarquia
		icon = Generic_Ultranationalist_Monarchy
		x = 7
		y = 6
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			30_percent_government_popularity = yes
		}
		prerequisite = { focus = SPR_reinforce_the_throne }

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_estatuto_fundamental_de_la_monarquia"
			if = { limit = { has_idea = SPR_idea_monarcho_research_investments }
				swap_ideas = {
					remove_idea = SPR_idea_monarcho_research_investments
					add_idea = SPR_idea_monarcho_research_investments2
				}
			}
			else = {
				add_ideas = SPR_idea_monarcho_research_investments
				if = { limit = { NOT = { has_idea = edu_05 } }
					increase_education_budget = yes
				}
			}
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_declare_the_iberian_union
		icon = iberian_union_monarchy
		x = 5
		y = 7
		relative_position_id = SPR_the_old_ways

		cost = 5 # 35 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_horizon_never_sets }

		search_filters = { FOCUS_FILTER_FOREIGN_POLICY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_declare_the_iberian_union"
			if = { limit = { NOT = { has_country_flag = is_IBR } }
				set_global_flag = IBR_exists
			}
			country_event = { id = spain.60 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reform_the_military
		icon = army_reform
		x = 7
		y = 7
		relative_position_id = SPR_the_old_ways

		cost = 5 # 35 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			NOT = { has_idea = no_military }
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_horizon_never_sets }

		search_filters = { FOCUS_FILTER_EXPENDITURE FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reform_the_military"
			increase_military_spending = yes
			if = { limit = { has_idea = SPR_the_horizon_never_sets_idea }
				modify_timed_idea = {
					idea = SPR_the_horizon_never_sets_idea
					days = 365
				}
			}
			add_ideas = SPR_the_a_loyal_military_idea
			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
			change_intelligence_community_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_king_for_every_spaniard
		icon = Generic_Crown_Box
		x = 3
		y = 7
		relative_position_id = SPR_the_old_ways

		cost = 5 # 35 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			20_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_horizon_never_sets }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_king_for_every_spaniard"
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.075 }
			set_temp_variable = { temp_outlook_increase = 0.075 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_demand_andorra
		icon = attack_andorra
		x = 6
		y = 8
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		bypass = {
			OR = {
				owns_state = 945
				ADO = { is_subject_of = SPR }
			}
		}

		will_lead_to_war_with = ADO

		prerequisite = { focus = SPR_reform_the_military }
		prerequisite = { focus = SPR_declare_the_iberian_union }

		search_filters = { FOCUS_FILTER_FOREIGN_POLICY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_demand_andorra"
			ADO = { country_event = { id = spain.65 } }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_seize_the_portuguese_throne
		icon = spr_take_por
		x = 4
		y = 8
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}
		bypass = {
			OR = {
				POR = { is_subject_of = SPR }
				AND = {
					1055 = { is_owned_by = SPR }
					97 = { is_owned_by = SPR }
					96 = { is_owned_by = SPR }
					1056 = { is_owned_by = SPR }
					1057 = { is_owned_by = SPR }
					98 = { is_owned_by = SPR }
					99 = { is_owned_by = SPR }
				}
			}
		}

		will_lead_to_war_with = POR

		prerequisite = { focus = SPR_declare_the_iberian_union }
		prerequisite = { focus = SPR_a_king_for_every_spaniard }

		search_filters = { FOCUS_FILTER_FOREIGN_POLICY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seize_the_portuguese_throne"
			if = { limit = { country_exists = POR NOT = { POR = { is_subject = yes } } }
				POR = { country_event = { id = spain.62 } }
			}
			else_if = { limit = { country_exists = POR POR = { is_subject = yes } }
				POR = {
					OVERLORD = {
						country_event = { id = spain.62 }
					}
				}
			}
			else = {
				random_country = {
					limit = {
						owns_state = 96
					}
					PREV = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}

	}
	focus = {
		id = SPR_the_new_nobility
		icon = champagne_purple
		x = 7
		y = 9
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_demand_andorra }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_nobility"
			set_temp_variable = { temp_opinion = 5 }
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes
			if = { limit = { has_idea = SPR_the_new_nobility_idea }
				swap_ideas = {
					remove_idea = SPR_the_new_nobility_idea
					add_idea = SPR_the_new_nobility_idea2
				}
			}
			else = {
				add_ideas = SPR_the_new_nobility_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_royal_oligarchy
		icon = aristocratic_funding
		x = 3
		y = 9
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_seize_the_portuguese_throne }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_nobility"
			set_temp_variable = { temp_opinion = 5 }
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes
			if = { limit = { has_idea = SPR_the_new_nobility_idea }
				swap_ideas = {
					remove_idea = SPR_the_new_nobility_idea
					add_idea = SPR_the_new_nobility_idea2
				}
			}
			else = {
				add_ideas = SPR_the_new_nobility_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_solidify_the_iberian_union
		icon = neo_jingo
		x = 5
		y = 9
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			50_percent_government_popularity = yes
		}
		bypass = {
			# Andorra
			945 = { is_core_of = SPR }
			# Portugal
			1055 = { is_core_of = SPR }
			97 = { is_core_of = SPR }
			96 = { is_core_of = SPR }
			1056 = { is_core_of = SPR }
			1057 = { is_core_of = SPR }
			98 = { is_core_of = SPR }
			99 = { is_core_of = SPR }
		}

		prerequisite = { focus = SPR_seize_the_portuguese_throne }
		prerequisite = { focus = SPR_demand_andorra }

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_solidify_the_iberian_union"
			hidden_effect = {
				# Utilizing the Array here cuz it's a lighter every_core_state call
				for_each_scope_loop = {
					array = POR.core_states
					add_core_of = SPR
				}
				for_each_scope_loop = {
					array = ADO.core_states
					add_core_of = SPR
				}
			}
			custom_effect_tooltip = SPR_solidify_the_iberian_union_tt
			if = { limit = { POR = { is_subject_of = SPR } }
				annex_country = {
					target = POR
					transfer_troops = yes
				}
				POR = {
					every_unit_leader = {
						set_nationality = SPR
					}
				}
				hidden_effect = {
					every_country = {
						limit = {
							OR = {
								check_variable = { influence_array^0 = POR.id }
								check_variable = { influence_array^1 = POR.id }
								check_variable = { influence_array^2 = POR.id }
								check_variable = { influence_array^3 = POR.id }
								check_variable = { influence_array^4 = POR.id }
								check_variable = { influence_array^5 = POR.id }
								check_variable = { influence_array^6 = POR.id }
							}
						}
						recalculate_influence = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reinforce_melilla
		icon = military_fort
		x = 7
		y = 10
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			owns_state = 632
		}

		bypass = {
			NOT = { owns_state = 632 }
		}

		prerequisite = { focus = SPR_solidify_the_iberian_union }

		search_filters = { FOCUS_FILTER_FOREIGN_POLICY FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_melilla"
			set_temp_variable = { treasury_change = -0.5 }
			modify_treasury_effect = yes
			632 = {
				add_building_construction = {
					type = bunker
					level = 1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_entrench_ceuta
		icon = military_bases
		x = 3
		y = 10
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			owns_state = 495
		}

		bypass = {
			NOT = { owns_state = 495 }
		}

		prerequisite = { focus = SPR_solidify_the_iberian_union }

		search_filters = { FOCUS_FILTER_FOREIGN_POLICY FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_entrench_ceuta"
			set_temp_variable = { treasury_change = -0.5 }
			modify_treasury_effect = yes
			495 = {
				add_building_construction = {
					type = bunker
					level = 1
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_demand_the_rock
		icon = gibrock
		x = 5
		y = 10
		relative_position_id = SPR_the_old_ways

		cost = 5 # 35 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			has_army_manpower = {
				size > 250000
			}
		}

		bypass = {
			owns_state = 19
		}

		will_lead_to_war_with = ENG

		prerequisite = { focus = SPR_solidify_the_iberian_union }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_demand_the_rock"
			hidden_effect = {
				19 = {
					OWNER = {
						country_event = { id = spain.68 }
					}
				}
			}
			custom_effect_tooltip = SPR_demand_the_rock_TT
			add_war_support = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_plus_ultra
		icon = supremacy_of_the_communion
		x = 5
		y = 11
		relative_position_id = SPR_the_old_ways

		cost = 8.58 # 60 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_demand_the_rock }
		prerequisite = { focus = SPR_entrench_ceuta }
		prerequisite = { focus = SPR_reinforce_melilla }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_plus_ultra"
			increase_intervention_law_effect = yes
			increase_military_spending = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_grand_conquista
		icon = Generic_Invasion2
		x = 7
		y = 12
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_plus_ultra }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_grand_conquista"
			if = { limit = { has_idea = SPR_a_great_victory_for_spain_idea }
				modify_timed_idea = {
					idea = SPR_a_great_victory_for_spain_idea
					days = 180
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_a_great_victory_for_spain_idea
					days = 180
				}
			}
			set_temp_variable = { party_index = 23 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_guardia_real
		icon = ejercito_guardia_real
		x = 3
		y = 12
		relative_position_id = SPR_the_old_ways

		cost = 7.5

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			has_completed_focus = SPR_expand_royal_guard
			NOT = { has_idea = no_military }
		}

		prerequisite = { focus = SPR_plus_ultra }

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_guardia_real"
			hidden_effect = {
				delete_unit_template_and_units = { division_template = "Guardia Real" }
			}
			division_template = {
				name = "Expanded Guardia Real"
				is_locked = yes
				regiments = {
					Special_Forces = { x = 0 y = 0 }
					Special_Forces = { x = 0 y = 1 }
					Special_Forces = { x = 0 y = 2 }
					Special_Forces = { x = 0 y = 3 }
					Special_Forces = { x = 1 y = 0 }
					Special_Forces = { x = 1 y = 1 }
				}
			}
			swap_ideas = {
				remove_idea = SPR_idea_guardia_real
				add_idea = SPR_idea_guardia_real2
			}
			capital_scope = {
				create_unit = {
					division = " name = \"Guardia Real\" division_template = \"Expanded Guardia Real\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 3938
				}
				create_unit = {
					division = " name = \"Guardia Real\" division_template = \"Expanded Guardia Real\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 3938
				}
				create_unit = {
					division = " name = \"Guardia Real\" division_template = \"Expanded Guardia Real\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 3938
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_spanish_empire_revived
		icon = iberian_union_monarchy
		x = 5
		y = 12
		relative_position_id = SPR_the_old_ways

		cost = 5

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_plus_ultra }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_FOREIGN_POLICY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_spanish_empire_revived"
			add_political_power = 150
			custom_effect_tooltip = SPR_the_spanish_empire_revived_TT
			news_event = { id = spain.71 }
			hidden_effect = {
				set_cosmetic_tag = SPR_EMPIRE
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_hand_that_reaches
		icon = focus_CHL_restore_the_old_kingdom
		x = 5
		y = 13
		relative_position_id = SPR_the_old_ways

		cost = 2 # 14 Days

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_spanish_empire_revived }
		prerequisite = { focus = SPR_guardia_real }
		prerequisite = { focus = SPR_the_grand_conquista }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_hand_that_reaches"
			add_war_support = 0.05
			add_stability = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_seize_the_maghreb
		icon = Influence_North_Africa
		x = 6
		y = 14
		relative_position_id = SPR_the_old_ways

		cost = 10

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			is_subject = no
			OR = {
				country_exists = SHA
				country_exists = MAU
				country_exists = MOR
				country_exists = ALG
			}
		}
		bypass = {
			OR = {
				AND = {
					has_war_with = SHA
					has_war_with = MOR
					has_war_with = MAU
					has_war_with = ALG
				}
				AND = {
					NOT = { country_exists = SHA }
					NOT = { country_exists = MAU }
					NOT = { country_exists = MOR }
					NOT = { country_exists = ALG }
				}
				AND = {
					SHA = { is_subject_of = SPR }
					MAU = { is_subject_of = SPR }
					MOR = { is_subject_of = SPR }
					ALG = { is_subject_of = SPR }
				}
			}
		}

		prerequisite = { focus = SPR_the_hand_that_reaches }

		will_lead_to_war_with = MOR
		will_lead_to_war_with = MAU
		will_lead_to_war_with = SHA
		will_lead_to_war_with = ALG

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seize_the_maghreb"
			if = {
				limit = {
					NOT = { MOR = { is_subject_of = SPR } }
					country_exists = MOR
				}
				create_wargoal = {
					type = annex_everything
					target = MOR
				}
			}
			if = {
				limit = {
					NOT = { MAU = { is_subject_of = SPR } }
					country_exists = MAU
				}
				create_wargoal = {
					type = annex_everything
					target = MAU
				}
			}
			if = {
				limit = {
					NOT = { SHA = { is_subject_of = SPR } }
					country_exists = SHA
				}
				create_wargoal = {
					type = annex_everything
					target = SHA
				}
			}
			if = {
				limit = {
					NOT = { ALG = { is_subject_of = SPR } }
					country_exists = ALG
				}
				create_wargoal = {
					type = annex_everything
					target = ALG
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_burn_buenos_aires
		icon = attack_argentina
		x = 6
		y = 15
		relative_position_id = SPR_the_old_ways

		cost = 10

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			is_subject = no
		}

		bypass = {
			OR = {
				has_war_with = ARG
				NOT = { country_exists = ARG }
			}
		}

		prerequisite = { focus = SPR_seize_the_maghreb }

		will_lead_to_war_with = ARG

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_burn_buenos_aires"
			if = { limit = { ARG = { is_subject_of = SPR } }
				set_temp_variable = { treasury_change = -7.5 }
				modify_treasury_effect = yes
				ARG = {
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ARG
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reach_for_cuba
		icon = attack_cuba
		x = 4
		y = 14
		relative_position_id = SPR_the_old_ways

		cost = 10

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			is_subject = no
		}

		prerequisite = { focus = SPR_the_hand_that_reaches }

		will_lead_to_war_with = CUB

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reach_for_cuba"
			if = { limit = { country_exists = CUB  }
				if = { limit = { CUB = { is_subject_of = SPR } }
					set_temp_variable = { treasury_change = -7.5 }
					modify_treasury_effect = yes
					CUB = {
						capital_scope = {
							add_extra_state_shared_building_slots = 1
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
						}
					}
				}
				else = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = CUB
					}
				}
			}
			else = {
				random_country = {
					limit = { owns_state = 854 }
					SPR = {
						create_wargoal = {
							type = puppet_wargoal_focus
							target = PREV
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_seize_colombia
		icon = attack_colombia
		x = 4
		y = 15
		relative_position_id = SPR_the_old_ways

		prerequisite = { focus = SPR_reach_for_cuba }

		cost = 10

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			is_subject = no
			country_exists = COL
		}

		bypass = {
			OR = {
				has_war_with = COL
				NOT = { country_exists = COL }
			}
		}

		will_lead_to_war_with = COL

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seize_colombia"
			if = { limit = { COL = { is_subject_of = SPR } }
				set_temp_variable = { treasury_change = -7.5 }
				modify_treasury_effect = yes
				ARG = {
					capital_scope = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			else = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = COL
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_crown_jewel
		icon = attack_mexico
		x = 5
		y = 16
		relative_position_id = SPR_the_old_ways

		prerequisite = { focus = SPR_seize_colombia }
		prerequisite = { focus = SPR_burn_buenos_aires }

		cost = 10

		available = {
			nationalist_monarchists_are_in_power = yes
			40_percent_government_popularity = yes
			is_subject = no
		}

		bypass = {
			has_war_with = MEX
			has_war_with = GUA
			has_war_with = BLZ
			has_war_with = HON
			has_war_with = ELS
			has_war_with = NIC
			has_war_with = COS
			has_war_with = DOM
			has_war_with = HAI
			has_war_with = VEN
			has_war_with = PAN
			has_war_with = CHL
			has_war_with = PRU
			has_war_with = ECU
			has_war_with = BOL
		}
		will_lead_to_war_with = MEX
		will_lead_to_war_with = GUA
		will_lead_to_war_with = BLZ
		will_lead_to_war_with = HON
		will_lead_to_war_with = ELS
		will_lead_to_war_with = NIC
		will_lead_to_war_with = COS
		will_lead_to_war_with = DOM
		will_lead_to_war_with = HAI
		will_lead_to_war_with = VEN
		will_lead_to_war_with = PAN
		will_lead_to_war_with = CHL
		will_lead_to_war_with = PRU
		will_lead_to_war_with = ECU
		will_lead_to_war_with = BOL

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_crown_jewel"
			if = {
				limit = {
					NOT = { MEX = { is_subject_of = SPR } }
					country_exists = MEX
				}
				create_wargoal = {
					type = annex_everything
					target = MEX
				}
			}
			if = {
				limit = {
					NOT = { GUA = { is_subject_of = SPR } }
					country_exists = GUA
				}
				create_wargoal = {
					type = annex_everything
					target = GUA
				}
			}
			if = {
				limit = {
					NOT = { BLZ = { is_subject_of = SPR } }
					country_exists = BLZ
				}
				create_wargoal = {
					type = annex_everything
					target = BLZ
				}
			}
			if = {
				limit = {
					NOT = { HON = { is_subject_of = SPR } }
					country_exists = HON
				}
				create_wargoal = {
					type = annex_everything
					target = HON
				}
			}
			if = {
				limit = {
					NOT = { ELS = { is_subject_of = SPR } }
					country_exists = ELS
				}
				create_wargoal = {
					type = annex_everything
					target = ELS
				}
			}
			if = {
				limit = {
					NOT = { NIC = { is_subject_of = SPR } }
					country_exists = NIC
				}
				create_wargoal = {
					type = annex_everything
					target = NIC
				}
			}
			if = {
				limit = {
					NOT = { COS = { is_subject_of = SPR } }
					country_exists = COS
				}
				create_wargoal = {
					type = annex_everything
					target = COS
				}
			}
			if = {
				limit = {
					NOT = { DOM = { is_subject_of = SPR } }
					country_exists = DOM
				}
				create_wargoal = {
					type = annex_everything
					target = DOM
				}
			}
			if = {
				limit = {
					NOT = { HAI = { is_subject_of = SPR } }
					country_exists = HAI
				}
				create_wargoal = {
					type = annex_everything
					target = HAI
				}
			}
			if = {
				limit = {
					NOT = { VEN = { is_subject_of = SPR } }
					country_exists = VEN
				}
				create_wargoal = {
					type = annex_everything
					target = VEN
				}
			}
			if = {
				limit = {
					NOT = { PAN = { is_subject_of = SPR } }
					country_exists = PAN
				}
				create_wargoal = {
					type = annex_everything
					target = PAN
				}
			}
			if = {
				limit = {
					NOT = { CHL = { is_subject_of = SPR } }
					country_exists = CHL
				}
				create_wargoal = {
					type = annex_everything
					target = CHL
				}
			}
			if = {
				limit = {
					NOT = { PRU = { is_subject_of = SPR } }
					country_exists = PRU
				}
				create_wargoal = {
					type = annex_everything
					target = PRU
				}
			}
			if = {
				limit = {
					NOT = { ECU = { is_subject_of = SPR } }
					country_exists = ECU
				}
				create_wargoal = {
					type = annex_everything
					target = ECU
				}
			}
			if = {
				limit = {
					NOT = { BOL = { is_subject_of = SPR } }
					country_exists = BOL
				}
				create_wargoal = {
					type = annex_everything
					target = BOL
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	## Spain has no corruption. None whatsoever.
	##corruption?? wtf is this bird
	focus = {
		id = SPR_anti_corruption_campaigns
		icon = political_arrests2
		x = 6
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 10

		available = {
			neutrality_neutral_oligarch_are_not_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_CORRUPTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_undermine_the_republic"
			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 5
		}
	}

	focus = {
		id = SPR_the_underhanded_deals
		icon = concessions
		x = 8
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 10

		available = {
			has_elections = no
			30_percent_government_popularity = yes
			OR = {
				nationalist_monarchists_are_in_power_or_coalition = yes
				nationalist_fascists_are_in_power_or_coalition = yes
				western_autocrats_are_in_power = yes
				neutrality_neutral_autocracy_are_in_power = yes
				emerging_autocracy_are_in_power = yes
			}
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_CORRUPTION FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_undermine_the_republic"
			add_political_power = 100
			set_temp_variable = { temp_opinion = 15 }
			change_industrial_conglomerates_opinion = yes
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes
			change_farmers_opinion = yes
			increase_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_faith_in_the_system
		icon = judiciary
		x = 7
		y = 3
		relative_position_id = SPR_the_political_sphere

		cost = 5

		prerequisite = {
			focus = SPR_anti_corruption_campaigns
			focus = SPR_the_underhanded_deals
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_faith_in_the_system"
			add_stability = 0.03
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	##conservative

	focus = {
		id = SPR_conservative_leanings
		icon = conservative
		x = 13
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					western_conservatism_are_in_power_or_coalition = yes
					neutrality_neutral_conservatism_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
				}
			}
			else = {
				OR = {
					western_conservatism_are_in_power_or_coalition = yes
					neutrality_neutral_conservatism_in_power_or_coalition = yes
				}
			}

			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_conservative_leanings"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 14 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_global_flag = SPR_CONSERVATIVE_LEANINGS_PATH
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = SPR_RENACIMIENTO_NACIONALISTA_PATH
					has_global_flag = SPR_NACION_UNIDAD_IMPERIO_PATH
					has_global_flag = SPR_SOCIALISM_RISING_PATH
					has_global_flag = SPR_COMMUNIST_REVISIONISM_PATH
					has_global_flag = SPR_THE_OLD_WAYS_PATH
				}
			}
		}
	}

	focus = {
		id = SPR_the_welfare_state
		icon = welfare
		x = 1
		y = 1
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_conservative_leanings }

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_welfare_state"
			if = { limit = { NOT = { has_idea = social_06 } }
				increase_social_spending = yes
				block_social_change = yes
			}
			add_ideas = SPR_the_conservative_welfare_state_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_coalition_of_conservatives
		icon = stability
		x = 3
		y = 1
		relative_position_id = SPR_conservative_leanings

		cost = 10

		available = {
			OR = {
				western_conservatism_are_in_power_or_coalition = yes
				neutrality_neutral_conservatism_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				if = { limit = { has_completed_focus = SPR_the_new_elections }
					western_autocrats_are_in_power = yes
				}
			}
		}

		prerequisite = {
			focus = SPR_conservative_leanings
			focus = SPR_renacimiento_nacionalista
		}

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_coalition_of_conservatives"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 14 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_economic_deregulation
		icon = GENERIC_austerity_measures
		x = 3
		y = 2
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_welfare_state }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_ECONOMY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_economic_deregulation"
			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes
			change_maritime_industry_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_small_medium_business_owners_opinion = yes
			change_international_bankers_opinion = yes
			change_landowners_opinion = yes
			set_temp_Variable = { temp_opinion = -10 }
			change_labour_unions_opinion = yes
			change_farmers_opinion = yes
			add_timed_idea = {
				idea = SPR_spanish_deregulation_idea
				days = 365
			}
			one_random_industrial_complex = yes
			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = -0.035 }
			set_temp_variable = { temp_outlook_increase = -0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_family_first
		icon = family
		x = 1
		y = 2
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_welfare_state }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_family_first"
			add_ideas = SPR_family_first_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_labour_unions
		icon = union_negotiations
		x = 2
		y = 3
		relative_position_id = SPR_conservative_leanings

		cost = 5 # Reduced form 7.86 - 09/02

		available = {
			conservative_focus_available_trigger = yes
			OR = {
				has_idea = labour_unions
				has_idea = communist_cadres
			}
		}
		bypass = {
			NOT = {
				OR = {
					has_idea = labour_unions
					has_idea = communist_cadres
				}
			}
		}

		prerequisite = { focus = SPR_family_first }
		prerequisite = { focus = SPR_economic_deregulation }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_labour_unions"
			set_temp_variable = { temp_opinion = 7 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_party_of_the_people
		icon = conservative # TODO
		x = -2
		y = 1
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_conservative_leanings }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_party_of_the_people"
			add_ideas = SPR_a_party_of_the_people_idea
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 14 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_corporate_tax_heaven
		icon = radical_tax_reform
		x = -1
		y = 2
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_party_of_the_people }

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_corporate_tax_heaven"
			set_temp_variable = { corp_change = -5 }
			modify_corporate_tax_rate_effect = yes
			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_defense_industry_opinion = yes
			change_small_medium_business_owners_opinion = yes
			set_temp_variable = { temp_opinion = -10 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spain_is_catholic
		icon = catholicism
		x = 0
		y = 3
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			conservative_focus_available_trigger = yes
			has_idea = christian
		}
		bypass = {
			NOT = { has_idea = christian }
		}

		prerequisite = { focus = SPR_family_first }
		prerequisite = { focus = SPR_corporate_tax_heaven }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spain_is_catholic"
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes

			if = { limit = { country_exists = HLS }
				add_opinion_modifier = { target = HLS modifier = SPR_support_of_the_pope }
				reverse_add_opinion_modifier = { target = HLS modifier = SPR_support_of_the_pope }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_lgbtqa_stance
		icon = pro_lgbt
		x = -3
		y = 2
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_party_of_the_people }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_lgbtqa_stance"
			country_event = { id = spain.72 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reinforce_the_spanish_identity
		icon = spanish_identity_reinf
		x = -4
		y = 3
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_lgbtqa_stance }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_the_spanish_identity"
			add_stability = 0.05
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_minimize_bureaucracy
		icon = centralization
		x = -2
		y = 3
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_corporate_tax_heaven }
		prerequisite = { focus = SPR_the_lgbtqa_stance }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EXPENDITURE }

 		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_minimize_bureaucracy"
			if = { limit = { has_idea = bureau_01 }
				decrease_centralization = yes
				block_bureau_change = yes
			}
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_conservative_education_reforms
		icon = nationalist_education
		x = -3
		y = 4
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			conservative_focus_available_trigger = yes
		}

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		prerequisite = { focus = SPR_minimize_bureaucracy }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_conservative_education_reforms"
			add_ideas = SPR_conservative_education_reforms_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_environmental_deregulations
		icon = BRA_deregulation_new
		x = -1
		y = 4
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_minimize_bureaucracy }
		prerequisite = { focus = SPR_spain_is_catholic }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_environmental_deregulations"
			if = { limit = { has_idea = SPR_spanish_deregulation_idea }
				modify_timed_idea = {
					idea = SPR_spanish_deregulation_idea
					days = 365
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_spanish_deregulation_idea
					days = 365
				}
			}
			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = -0.035 }
			set_temp_variable = { temp_outlook_increase = -0.035 }
			add_relative_party_popularity = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.03 }
			set_temp_variable = { temp_outlook_increase = -0.03 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bible_study
		icon = focus_bible
		x = 1
		y = 4
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
			has_idea = christian
		}
		bypass = {
			NOT = { has_idea = christian }
		}

		prerequisite = { focus = SPR_spain_is_catholic }
		prerequisite = { focus = SPR_the_labour_unions }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bible_study"
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 14 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_the_unions
		icon = national_unity
		x = 3
		y = 4
		relative_position_id = SPR_conservative_leanings

		cost = 5 # Reduced from 7.86 to 5 - 09/02

		available = {
			conservative_focus_available_trigger = yes
			OR = {
				has_idea = labour_unions
				has_idea = communist_cadres
			}
		}
		bypass = {
			NOT = {
				OR = {
					has_idea = labour_unions
					has_idea = communist_cadres
				}
			}
		}

		prerequisite = { focus = SPR_the_labour_unions }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_labour_unions"
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_encourage_deeper_unionization
		icon = factory_planning
		x = 3
		y = 5
		relative_position_id = SPR_conservative_leanings

		prerequisite = { focus = SPR_support_the_unions }

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
			OR = {
				has_idea = labour_unions
				has_idea = communist_cadres
			}
		}
		bypass = {
			NOT = {
				OR = {
					has_idea = labour_unions
					has_idea = communist_cadres
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_encourage_deeper_unionization"
			set_temp_variable = { temp_opinion = 10 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_european_model
		icon = europe
		x = 3
		y = 6
		relative_position_id = SPR_conservative_leanings

		prerequisite = { focus = SPR_encourage_deeper_unionization }

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
			OR = {
				has_idea = labour_unions
				has_idea = communist_cadres
			}
		}
		bypass = {
			NOT = {
				OR = {
					has_idea = labour_unions
					has_idea = communist_cadres
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_european_model"
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_our_healthcare
		icon = generic_hospital
		x = 1
		y = 5
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_bible_study }

		search_filters = { FOCUS_FILTER_EXPENDITURE }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_our_healthcare"
			increase_healthcare_budget = yes
			if = { limit = { NOT = { has_idea = health_06 } }
				block_health_change = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_union_of_church_and_state
		icon = por_concordat
		x = 1
		y = 6
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
			has_idea = christian
		}
		bypass = {
			NOT = { has_idea = christian }
		}

		prerequisite = { focus = SPR_our_healthcare }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_union_of_church_and_state"
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 14 }
			set_temp_variable = { party_popularity_increase = 0.035 }
			set_temp_variable = { temp_outlook_increase = 0.035 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pull_yourself_up_by_the_bootstrap
		icon = colonial_crackdown
		x = -1
		y = 5
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_environmental_deregulations }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pull_yourself_up_by_the_bootstrap"
			add_political_power = 100
			add_stability = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_rejection_of_the_left
		icon = anti_communism2
		x = -1
		y = 6
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_pull_yourself_up_by_the_bootstrap }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_rejection_of_the_left"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			set_temp_variable = { temp_outlook_increase = -0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			set_temp_variable = { temp_outlook_increase = -0.02 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revised_military_interventionism
		icon = intervention_spain
		x = -3
		y = 5
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power_or_coalition = yes
				neutrality_neutral_conservatism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_conservative_education_reforms }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revised_military_interventionism"
			increase_intervention_law_effect = yes
			add_ideas = SPR_spanish_intervention_abroad_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_officer_investiture
		icon = Generic_Command_Power
		x = -3
		y = 6
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power_or_coalition = yes
				neutrality_neutral_conservatism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
			NOT = { has_idea = no_military }
		}

		prerequisite = { focus = SPR_revised_military_interventionism }

		search_filters = { FOCUS_FILTER_MILITARY_LAWS FOCUS_FILTER_MILITARY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_officer_investiture"
			increase_officer_training_level = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_patriot_act
		icon = investigation
		x = -2
		y = 7
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_officer_investiture }
		prerequisite = { focus = SPR_rejection_of_the_left }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_patriot_act"
			if = { limit = { has_dlc = "La Resistance" }
				add_ideas = SPR_the_spanish_patriot_act_idea_lar
				if = { limit = { has_intelligence_agency = no }
					create_intelligence_agency = {
						name = "National Intelligence Centre (CNI)"
						icon = GFX_intelligence_agency_logo_spr
					}
				}
			}
			else = {
				add_ideas = SPR_the_spanish_patriot_act_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SPR_eliminate_the_siesta
		icon = pass_legislation
		x = 2
		y = 7
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			conservative_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_union_of_church_and_state }
		prerequisite = { focus = SPR_the_european_model }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eliminate_the_siesta"
			add_timed_idea = {
				idea = SPR_longer_work_less_siesta_idea
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_viva_espana
		icon = viva_espana
		x = 0
		y = 7
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_rejection_of_the_left }
		prerequisite = { focus = SPR_union_of_church_and_state }

		search_filters = { FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_viva_espana"
			custom_effect_tooltip = SPR_all_culture_increase_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 5 }
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_europe_now_and_forever
		icon = align_to_europe
		x = -2
		y = 8
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		# Remove this Tree if Spain
		allow_branch = {
			NOT = { has_global_flag = GAME_RULE_eu_disabled }
		}

		prerequisite = { focus = SPR_viva_espana }
		mutually_exclusive = { focus = SPR_the_drift_from_europe }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_INFLUENCE }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_europe_now_and_forever"
			set_temp_variable = { modify_eurosceptic = -0.03 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SPR }
			every_country = {
				limit = {
					has_idea = EU_member
				}
				set_temp_variable = { influence_target = THIS }
				change_influence_percentage = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SPR_eu_spanish_alignment
		icon = spanish_eu_cooperation
		x = -3
		y = 9
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_europe_now_and_forever }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eu_spanish_alignment"
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SPR }
			every_country = {
				limit = { has_idea = EU_member }
				set_temp_variable = { influence_target = THIS }
				change_influence_percentage = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_first_europe_second
		icon = step_europe
		x = -3
		y = 10
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_eu_spanish_alignment }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_first_europe_second"
			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			set_temp_variable = { modify_eurosceptic = 0.03 }
			EU_eurosceptic_change = yes
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pro_eu_campaigns
		icon = propaganda
		x = -1
		y = 9
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_europe_now_and_forever }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pro_eu_campaigns"
			set_temp_variable = { modify_eurosceptic = -0.05 }
			EU_eurosceptic_change = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_western_allignment
		icon = democracy
		x = -1
		y = 10
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_pro_eu_campaigns }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_western_alignment"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			every_country = {
				limit = {
					has_government = democratic
				}
				add_opinion_modifier = { target = SPR modifier = supports_us }
				reverse_add_opinion_modifier = { target = SPR modifier = supports_us }
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_dominant_role
		icon = anti_immigration1
		x = 11
		y = 13
		relative_position_id = SPR_the_political_sphere

		cost = 10

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_spanish_first_europe_second }
		prerequisite = { focus = SPR_western_allignment }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_dominant_role"
			every_country = {
				limit = {
					has_idea = EU_member
					check_variable = { THIS.var_EUpopRatio > 0.05 }
					NOT = { TAG = ROOT }
				}
				set_temp_variable = { modify_eurosceptic = 0.10 }
				set_temp_variable = { modify_eurosceptic_target = THIS }
				eurosceptic_change = yes
			}
			every_country = {
				limit = {
					has_idea = EU_member
					check_variable = { THIS.var_EUpopRatio < 0.05 }
					NOT = { TAG = ROOT }
				}
				set_temp_variable = { modify_eurosceptic = -0.05 }
				set_temp_variable = { modify_eurosceptic_target = THIS }
				eurosceptic_change = yes
			}
			every_country = {
				limit = { has_idea = EU_member }
				set_temp_variable = { percent_change = 2 }
				set_temp_variable = { tag_index = SPR.id }
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_drift_from_europe
		icon = generic_euroscepticism
		x = 2
		y = 8
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		allow_branch = {
			NOT = { has_global_flag = GAME_RULE_eu_disabled }
		}

		prerequisite = { focus = SPR_viva_espana }
		mutually_exclusive = { focus = SPR_europe_now_and_forever }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_drift_from_europe"
			set_temp_variable = { modify_eurosceptic = 0.03 }
			EU_eurosceptic_change = yes
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_iberian_standards
		icon = gold_standard
		x = 1
		y = 9
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_drift_from_europe }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_iberian_standards"
			add_ideas = SPR_revival_of_golden_share_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revival_of_golden_shares
		icon = gold_standard2
		x = 1
		y = 10
		relative_position_id = SPR_conservative_leanings

		cost = 7.86

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_iberian_standards }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revival_of_golden_shares"
			swap_ideas = {
				remove_idea = SPR_revival_of_golden_share_idea
				add_idea = SPR_revival_of_golden_share2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_euroscepticism
		icon = refuse_treaty2
		x = 3
		y = 9
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_drift_from_europe }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_euroscepticism"
			set_temp_variable = { modify_eurosceptic = 0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_euro_more_like_europoor
		icon = break_free
		x = 3
		y = 10
		relative_position_id = SPR_conservative_leanings

		cost = 5

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_spanish_euroscepticism }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_euro_more_like_europoor"
			set_temp_variable = { modify_eurosceptic = 0.03 }
			EU_eurosceptic_change = yes
			set_temp_variable = { modify_eurosceptic = 0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spexit
		icon = attack_spain
		x = 2
		y = 11
		relative_position_id = SPR_conservative_leanings

		cost = 10

		available = {
			OR = {
				western_conservatism_are_in_power = yes
				neutrality_neutral_conservatism_are_in_power = yes
			}
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_euro_more_like_europoor }
		prerequisite = { focus = SPR_revival_of_golden_shares }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EUROPEAN_UNION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spexit"
			set_temp_variable = { modify_eurosceptic = 0.05 }
			EU_eurosceptic_change = yes
			set_temp_variable = { modify_eurosceptic = 0.20 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	# Right Wing Populists
	# Vox Party Path

	focus = {
		id = SPR_renacimiento_nacionalista
		icon = Ultranationalism
		x = 22
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					nationalist_right_wing_populists_are_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
				}
			}
			else = {
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
			}
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_renacimiento_nacionalista"
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_global_flag = SPR_RENACIMIENTO_NACIONALISTA_PATH
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = SPR_CONSERVATIVE_LEANINGS_PATH
					has_global_flag = SPR_NACION_UNIDAD_IMPERIO_PATH
					has_global_flag = SPR_SOCIALISM_RISING_PATH
					has_global_flag = SPR_COMMUNIST_REVISIONISM_PATH
					has_global_flag = SPR_THE_OLD_WAYS_PATH
				}
			}
		}
	}

	focus = {
		id = SPR_spread_right_wing_propaganda
		icon = fascism
		x = 5
		y = 1
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					nationalist_fascists_are_in_power_or_coalition = yes
					nationalist_right_wing_populists_are_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
				}
			}
			else = {
				OR = {
					nationalist_fascists_are_in_power_or_coalition = yes
					nationalist_right_wing_populists_are_in_power_or_coalition = yes
				}
			}
		}

		prerequisite = {
			focus = SPR_renacimiento_nacionalista
			focus = SPR_nacion_unidad_imperio
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spread_right_wing_propaganda"
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.04 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 22 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_of_the_right
		icon = support_the_left_right
		x = -4
		y = 1
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_renacimiento_nacionalista }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_of_the_right"
			add_timed_idea = {
				idea = SPR_support_the_nationalist_front_idea
				days = 180
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pin_parental_education
		icon = literacy_rate_improvment
		x = 0
		y = 1
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_renacimiento_nacionalista }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pin_parental_education"
			country_event = { id = spain.73 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_rise_of_nativism
		icon = Generic_Ultranat_Eagle
		x = 2
		y = 1
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_renacimiento_nacionalista }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_rise_of_nativism"
			country_event = { id = spain.74 }
			set_temp_variable = { percent_change = 2 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_natalist_view
		icon = POL_strictabortion
		x = -2
		y = 1
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_renacimiento_nacionalista }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_natalist_view"
			add_ideas = SPR_the_natalist_view_idea
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { percent_change = 2 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_anti_immigration_policies
		icon = anti_immigration3
		x = 3
		y = 2
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_natalist_view }
		prerequisite = { focus = SPR_support_of_the_right }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_anti_immigration_policies"
			add_ideas = SPR_anti_immigration_policies_idea
			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_party_with_a_union
		icon = protectionist_economics
		x = -2
		y = 3
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_reject_the_progressive_dictatorship }
		prerequisite = { focus = SPR_reinforce_the_castle_doctrine }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_renacimiento_nacionalista"
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			set_temp_variable = { temp_outlook_increase = -0.02 }
			add_relative_party_popularity = yes
			unlock_decision_tooltip = SPR_exploit_the_union_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reinforce_protectionism
		icon = protectionism
		x = -4
		y = 3
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_reject_the_progressive_dictatorship }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_protectionism"
			decrease_exports = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_state_sponsored_unions
		icon = national_protectionism
		x = -3
		y = 4
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_reinforce_protectionism }
		prerequisite = { focus = SPR_a_party_with_a_union }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_protectionism"
			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes
			change_international_bankers_opinion = yes
			change_landowners_opinion = yes
			set_temp_variable = { temp_opinion = -5 }
			change_farmers_opinion = yes
			change_labour_unions_opinion = yes
			add_ideas = SPR_state_sponsored_unions_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_our_people
		icon = tripartite_pact
		x = -1
		y = 5
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_state_sponsored_unions }
		prerequisite = { focus = SPR_the_identity_of_spain }

		search_filters = { FOCUS_FILTER_EXPENDITURE FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_our_people"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.001 }
			modify_treasury_effect = yes
			add_stability = 0.06
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_military_expansion
		icon = military_deal # TODO
		x = 0
		y = 7
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 5

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
			NOT = { has_idea = no_military }
		}

		prerequisite = {
			focus = SPR_a_softer_stance
			focus = SPR_eliminate_separatism
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_military_expansion"
			increase_intervention_law_effect = yes
			increase_military_spending = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_secure_our_borders
		icon = border_conflict_bunker
		x = -1
		y = 8
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = {
			focus = SPR_military_expansion
			focus = SPR_negotiate_with_the_parties
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_secure_our_borders"
			if = { limit = { has_idea = SPR_border_entrenchment_idea }
				swap_ideas = {
					remove_idea = SPR_border_entrenchment_idea
					add_idea = SPR_border_entrenchment2_idea
				}
			}
			else = {
				add_ideas = SPR_border_entrenchment_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_entrench_african_holdings
		icon = generic_entrenchment
		x = 1
		y = 8
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = {
			focus = SPR_military_expansion
			focus = SPR_ban_the_parties
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_entrench_african_holdings"
			if = { limit = { has_idea = SPR_border_entrenchment_idea }
				swap_ideas = {
					remove_idea = SPR_border_entrenchment_idea
					add_idea = SPR_border_entrenchment2_idea
				}
			}
			else = {
				add_ideas = SPR_border_entrenchment_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_el_problema_de_gibraltar
		icon = gibrock
		x = 0
		y = 9
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_secure_our_borders }
		prerequisite = { focus = SPR_entrench_african_holdings }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_el_problema_de_gibraltar"
			hidden_effect = {
				19 = {
					OWNER = {
						country_event = { id = spain.68 }
					}
				}
			}
			custom_effect_tooltip = SPR_demand_the_rock_TT
			add_war_support = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mobilize_the_populace
		icon = people_of_spain
		x = -1
		y = 10
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_el_problema_de_gibraltar }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mobilize_the_populace"
			if = { limit = { has_idea = SPR_glory_to_spain2_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain2_idea
					add_idea = SPR_glory_to_spain3_idea
				}
			}
			else_if = { limit = { has_idea = SPR_glory_to_spain_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain_idea
					add_idea = SPR_glory_to_spain2_idea
				}
			}
			else = {
				add_ideas = SPR_glory_to_spain_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_state_above_all
		icon = strengthen_the_supreme_reality_of_spain
		x = 1
		y = 10
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_el_problema_de_gibraltar }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_state_above_all"
			if = { limit = { has_idea = SPR_glory_to_spain2_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain2_idea
					add_idea = SPR_glory_to_spain3_idea
				}
			}
			else_if = { limit = { has_idea = SPR_glory_to_spain_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain_idea
					add_idea = SPR_glory_to_spain2_idea
				}
			}
			else = {
				add_ideas = SPR_glory_to_spain_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spain_anew
		icon = Great_spain
		x = 0
		y = 11
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_state_above_all }
		prerequisite = { focus = SPR_mobilize_the_populace }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spain_anew"
			if = { limit = { has_idea = SPR_glory_to_spain2_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain2_idea
					add_idea = SPR_glory_to_spain3_idea
				}
			}
			else_if = { limit = { has_idea = SPR_glory_to_spain_idea }
				swap_ideas = {
					remove_idea = SPR_glory_to_spain_idea
					add_idea = SPR_glory_to_spain2_idea
				}
			}
			else = {
				add_ideas = SPR_glory_to_spain_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_softer_stance
		icon = demand_territory
		x = -2
		y = 6
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 5

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		mutually_exclusive = { focus = SPR_eliminate_separatism }

		prerequisite = { focus = SPR_support_our_people }
		prerequisite = { focus = SPR_incondicionalismo }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_softer_stance"
			custom_effect_tooltip = SPR_all_culture_increase_2_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 2 }
					SPR_modify_cultural_opinion = yes
				}
			}
			add_political_power = 50
			swap_ideas = {
				remove_idea = SPR_the_true_identity_of_spain_idea
				add_idea = SPR_the_true_identity_of_spain_soft1_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_negotiate_with_the_parties
		icon = heal_spain
		x = -2
		y = 7
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_a_softer_stance }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_negotiate_with_the_parties"
			custom_effect_tooltip = SPR_all_culture_increase_2_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 2 }
					SPR_modify_cultural_opinion = yes
				}
			}
			swap_ideas = {
				remove_idea = SPR_the_true_identity_of_spain_soft1_idea
				add_idea = SPR_the_true_identity_of_spain_soft2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_catalonian_concessions
		icon = align_to_catalonia
		x = -3
		y = 8
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_negotiate_with_the_parties }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_catalonian_concessions"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
			set_country_flag = SPR_negotiate_with_catalonian_seprartists
			custom_effect_tooltip = SPR_prevents_catalonian_independence
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_one_with_the_basque
		icon = align_to_basque
		x = -3
		y = 9
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_catalonian_concessions }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_one_with_the_basque"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
			set_country_flag = SPR_eta_negotiations
			custom_effect_tooltip = SPR_prevent_breakaway_basque
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_unionization_of_faith
		icon = unionization_of_faith
		x = -4
		y = 5
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				if = { limit = { western_autocrats_are_in_power = yes }
					western_autocrats_are_in_power = yes
					OR = {
						western_conservatism_are_in_power_or_coalition = yes
						neutrality_neutral_conservatism_in_power_or_coalition = yes
						nationalist_right_wing_populists_are_in_power_or_coalition = yes
					}
					30_percent_government_popularity = yes
				}
				else = {
					OR = {
						western_conservatism_are_in_power_or_coalition = yes
						neutrality_neutral_conservatism_in_power_or_coalition = yes
						nationalist_right_wing_populists_are_in_power_or_coalition = yes
					}
					30_percent_government_popularity = yes
				}
			}
			else = {
				OR = {
					western_conservatism_are_in_power_or_coalition = yes
					neutrality_neutral_conservatism_in_power_or_coalition = yes
					nationalist_right_wing_populists_are_in_power_or_coalition = yes
				}
				30_percent_government_popularity = yes
			}
			OR = {
				has_idea = labour_unions
				has_idea = communist_cadres
			}
		}
		bypass = {
			NOT = {
				OR = {
					has_idea = labour_unions
					has_idea = communist_cadres
				}
			}
		}

		prerequisite = {
			focus = SPR_state_sponsored_unions
			focus = SPR_support_the_unions
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_unionization_of_faith"
			add_ideas = SPR_unionization_of_faith_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reinforce_the_castle_doctrine
		icon = house
		x = -1
		y = 2
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_natalist_view }
		prerequisite = { focus = SPR_pin_parental_education }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reinforce_the_castle_doctrine"
			add_ideas = SPR_the_castle_doctrine_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_funding_for_police
		icon = police_funding_bonus
		x = 0
		y = 3
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_authoritarianism_by_law }
		prerequisite = { focus = SPR_reinforce_the_castle_doctrine }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_funding_for_police"
			increase_policing_budget = yes
			add_ideas = SPR_funding_for_police_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_identity_of_spain
		icon = molotov_ribbentrop_pact #TODO
		x = 0
		y = 4
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_funding_for_police }
		prerequisite = { focus = SPR_a_party_with_a_union }
		prerequisite = { focus = SPR_minority_rights }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_CORRUPTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_identity_of_spain"
			add_ideas = SPR_the_true_identity_of_spain_idea
			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_authoritarianism_by_law
		icon = elections_rigged
		x = 1
		y = 2
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_rise_of_nativism }
		prerequisite = { focus = SPR_pin_parental_education }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_authoritarianism_by_law"
			set_temp_variable = { threshold_change = 0.03 }
			modify_election_threshold = yes
			add_ideas = SPR_rigged_elections_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_minority_rights
		icon = native_americans # TODO
		x = 2
		y = 3
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_anti_immigration_policies }
		prerequisite = { focus = SPR_authoritarianism_by_law }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_minority_rights"
			custom_effect_tooltip = SPR_all_culture_decrease_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -5 }
					SPR_modify_cultural_opinion = yes
				}
			}
			add_political_power = 150

		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SPR_reject_the_progressive_dictatorship
		icon = ban_communism
		x = -3
		y = 2
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 5

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_rise_of_nativism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reject_the_progressive_dictatorship"
			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = -0.03 }
			set_temp_variable = { temp_outlook_increase = -0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = -0.03 }
			set_temp_variable = { temp_outlook_increase = -0.03 }
			add_relative_party_popularity = yes
			add_political_power = 50
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_hispanidad
		icon = spain
		x = 4
		y = 3
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_anti_immigration_policies }

		search_filters = { FOCUS_FILTER_INFLUENCE FOCUS_FILTER_DIPLOMACY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_hispanidad"
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SPR }
			every_country = {
				limit = {
					Spanish_Speaking = yes
				}
				set_temp_variable = { influence_target = THIS }
				change_influence_percentage = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_rechazemos_los_anti_espanoles
		icon = fascism3
		x = 3
		y = 4
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 5

		available = {
			right_wing_populists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_minority_rights }
		prerequisite = { focus = SPR_hispanidad }

		search_filters = { FOCUS_FILTER_DIPLOMACY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_rechazemos_los_anti_espanoles"
			every_country = {
				limit = {
					OR = {
						has_idea = sunni
						has_idea = sufi_islam
						has_idea = ibadi
						has_idea = shia
					}
				}
				add_opinion_modifier = { target = SPR modifier = SPR_islamophobic_rhetoric }
				add_opinion_modifier = { target = SPR modifier = SPR_islamophobic_rhetoric_trade }
			}
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_incondicionalismo
		icon = align_to_spain # TODO
		x = 1
		y = 5
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_identity_of_spain }
		prerequisite = { focus = SPR_rechazemos_los_anti_espanoles }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_incondicionalismo"
			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes
			add_political_power = 50
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eliminate_separatism
		icon = political_pressure
		x = 2
		y = 6
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 5

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		mutually_exclusive = { focus = SPR_a_softer_stance }

		prerequisite = { focus = SPR_support_our_people }
		prerequisite = { focus = SPR_incondicionalismo }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eliminate_separatism"
			custom_effect_tooltip = SPR_all_culture_decrease_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -5 }
					SPR_modify_cultural_opinion = yes
				}
			}
			add_political_power = 150
			swap_ideas = {
				remove_idea = SPR_the_true_identity_of_spain_idea
				add_idea = SPR_the_true_identity_of_spain_harsh1_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ban_the_parties
		icon = shattered_espana
		x = 2
		y = 7
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_eliminate_separatism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ban_the_parties"
			custom_effect_tooltip = SPR_all_culture_decrease_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -5 }
					SPR_modify_cultural_opinion = yes
				}
			}
			swap_ideas = {
				remove_idea = SPR_the_true_identity_of_spain_harsh1_idea
				add_idea = SPR_the_true_identity_of_spain_harsh2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_reeducation
		icon = nationalist_reeduc
		x = 3
		y = 8
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_ban_the_parties }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_reeducation"
			custom_effect_tooltip = SPR_all_culture_decrease_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -5 }
					SPR_modify_cultural_opinion = yes
				}
			}
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_many_to_one
		icon = manytoone
		x = 3
		y = 9
		relative_position_id = SPR_renacimiento_nacionalista

		cost = 7.86

		available = {
			nationalist_right_wing_populists_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_spanish_reeducation }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_many_to_one"
			custom_effect_tooltip = SPR_all_culture_decrease_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -5 }
					SPR_modify_cultural_opinion = yes
				}
			}
			add_stability = 0.05
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	##nationalism 2?

	focus = {
		id = SPR_nacion_unidad_imperio
		icon = falangism
		x = 32
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					nationalist_fascists_are_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
				}
			}
			else = {
				nationalist_fascists_are_in_power_or_coalition = yes
			}
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}
		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nacion_unidad_imperio"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_global_flag = SPR_NACION_UNIDAD_IMPERIO_PATH
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = SPR_RENACIMIENTO_NACIONALISTA_PATH
					has_global_flag = SPR_CONSERVATIVE_LEANINGS_PATH
					has_global_flag = SPR_SOCIALISM_RISING_PATH
					has_global_flag = SPR_COMMUNIST_REVISIONISM_PATH
					has_global_flag = SPR_THE_OLD_WAYS_PATH
				}
			}
		}
	}

	focus = {
		id = SPR_the_youth_front
		icon = Spanish_Republic_No_Pasaran
		x = -2
		y = 1
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_nacion_unidad_imperio }

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_youth_front"
			add_ideas = SPR_the_falangist_youth_front_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_return_of_francoism
		icon = align_to_franco
		x = 0
		y = 1
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_nacion_unidad_imperio }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_return_of_francoism"
			country_event = { id = spain.75 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_first
		icon = the_phalanx_ascendant
		x = 2
		y = 1
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_nacion_unidad_imperio }

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_first"
			add_timed_idea = {
				idea = SPR_spain_first_idea
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_the_catalonian_cancer
		icon = attack_catalonia
		x = 2
		y = 3
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
			if = { limit = { is_ai = no }
				divisions_in_state = {
					size > 2
					state = 86
				}
				else = {
					# NOTHING DADDY
				}
			}
		}

		prerequisite = { focus = SPR_rebuild_our_glory }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_catalonian_cancer"
			country_event = { id = spain.86 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_unify_the_faiths
		icon = preaching
		x = 3
		y = 4
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_catalonian_cancer }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_unify_the_faiths"
			swap_ideas = {
				remove_idea = labour_unions
				add_idea = The_Clergy
			}
			set_temp_variable = { temp_opinion = 15 }
			change_the_clergy_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_missionaries
		icon = Generic_Piety
		x = 4
		y = 5
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_unify_the_faiths }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_missionaries"
			set_temp_variable = { temp_opinion = 10 }
			change_the_clergy_opinion = yes
			add_ideas = SPR_the_new_spanish_clergy_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_outlaw_non_catholic_worship
		icon = establish_a_state_religion
		x = 4
		y = 6
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_missionaries }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_outlaw_non_catholic_worship"
			set_temp_variable = { temp_opinion = 10 }
			change_the_clergy_opinion = yes
			swap_ideas = {
				remove_idea = SPR_the_new_spanish_clergy_idea
				add_idea = SPR_the_new_spanish_clergy2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_role_of_the_woman
		icon = Generic_Woman
		x = -1
		y = 2
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_return_of_francoism }
		prerequisite = { focus = SPR_the_youth_front }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_role_of_the_woman"
			country_event = { id = spain.77 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eliminate_the_euskara
		icon = attack_basque_country
		x = -2
		y = 3
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			fascists_focus_available_trigger = yes
			if = { limit = { is_ai = no }
				divisions_in_state = {
					size > 2
					state = 88
				}
				else = {
					# NOTHING DADDY
				}
			}
		}

		prerequisite = { focus = SPR_role_of_the_woman }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eliminate_the_euskara"
			country_event = { id = spain.83 random_days = 6 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_military_investitures
		icon = industry_military
		x = -1
		y = 4
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_eliminate_the_euskara }
		prerequisite = { focus = SPR_hand_in_hand }

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_military_investitures"
			add_timed_idea = {
				idea = military_industry_project2
				days = 365
			}
			increase_military_spending = yes
			add_war_support = 0.05
			one_random_arms_factory = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_end_the_class_struggle
		icon = Generic_Corporatism
		x = 0
		y = 5
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_solidify_the_paramilitaries }
		prerequisite = { focus = SPR_military_investitures }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_end_the_class_struggle"
			set_temp_variable = { temp_opinion = 5 }
			if = {
				limit = {
					has_idea = farmers
					has_idea = landowners
				}
				change_farmers_opinion = yes
				change_communist_cadres_opinion = yes
				set_temp_variable = { temp_opinion = -5 }
				change_landowners_opinion = yes
			}
			else_if = {
				limit = {
					has_idea = farmers
					NOT = { has_idea = landowners }
				}
				change_farmers_opinion = yes
			}
			else = {
				add_political_power = 100
				add_stability = 0.05
			}
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nationalize_the_banks
		icon = liberalization_policies
		x = -2
		y = 5
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_hands_of_the_few }
		prerequisite = { focus = SPR_military_investitures }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nationalize_the_banks"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.01 }
			modify_treasury_effect = yes
			set_temp_variable = { int_investment_change = treasury_change }
			multiply_temp_variable = { int_investment_change = -1.25 }
			modify_international_investment_effect = yes
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = offices
					level = 1
					instant_build = yes
				}
			}
			set_temp_variable = { temp_opinion = -20 }
			change_international_bankers_opinion = yes
			set_temp_variable = { temp_opinion = -10 }
			change_landowners_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_small_medium_business_owners_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_agrarian_reform
		icon = land_reform
		x = -2
		y = 6
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_nationalize_the_banks }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_agrarian_reform"
			if = {
				limit = {
					has_idea = farmers
					has_idea = landowners
				}
				set_temp_variable = { temp_opinion = 15 }
				change_farmers_opinion = yes
				set_temp_variable = { temp_opinion = -20 }
				change_landowners_opinion = yes
			}
			else_if = {
				limit = {
					has_idea = farmers
					NOT = { has_idea = landowners }
				}
				set_temp_variable = { temp_opinion = 5 }
				change_farmers_opinion = yes
			}
			else = {
				add_political_power = 100
				add_stability = 0.05
			}
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_el_estado_como_instrumento
		icon = Generic_Ultranationalist_Government
		x = 0
		y = 6
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			has_completed_focus = SPR_outlaw_non_catholic_worship
			has_completed_focus = SPR_declare_the_dictatorship
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_nuestra_familia }
		prerequisite = { focus = SPR_nationalize_the_banks }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_el_estado_como_instrumento"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			if = { limit = { NOT = { has_idea = police_05 } }
				increase_policing_budget = yes
				block_police_change = yes
			}
			remove_ideas = western_country
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_estado
		icon = parliament_box
		x = -2
		y = 7
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_el_estado_como_instrumento }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_estado"
			if = { limit = { NOT = { has_idea = bureau_05 } }
				increase_centralization = yes
				block_bureau_change = yes
			}
			else = {
				add_stability = 0.05
				add_political_power = 100
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_individual
		icon = self_management
		x = 0
		y = 7
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_el_estado_como_instrumento }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_individual"
			swap_ideas = {
				remove_idea = farmers
				add_idea = the_military
			}
			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_libertad
		icon = democratic_stability
		x = 2
		y = 7
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_el_estado_como_instrumento }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_libertad"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
			add_timed_idea = {
				idea = SPR_libertad_idea
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_syncretic_position
		icon = social_liberalism
		x = 0
		y = 8
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_estado }
		prerequisite = { focus = SPR_individual }
		prerequisite = { focus = SPR_libertad }

		bypass = {
			has_idea = negligible_corruption
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_syncretic_position"
			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nation_of_pride
		icon = strengthen_the_supreme_reality_of_spain
		x = -2
		y = 9
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_syncretic_position }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nation_of_pride"
			add_ideas = SPR_pride_of_the_army_idea
			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pride_in_the_army
		icon = military_stacked
		x = -2
		y = 10
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_nation_of_pride }

		search_filters = { FOCUS_FILTER_MILITARY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pride_in_the_army"
			swap_ideas = {
				remove_idea = SPR_pride_of_the_army_idea
				add_idea = SPR_pride_of_the_army2_idea
			}
			custom_effect_tooltip = SPR_increases_the_military_opinion_by_10_tt
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_in_the_interests_of_the_collective
		icon = Generic_Factionalism
		x = 2
		y = 9
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_syncretic_position }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_in_the_interests_of_the_collective"
			one_office_construction = yes
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_for_the_beneficiaries
		icon = BRA_simplify_the_tax_system
		x = 2
		y = 10
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_in_the_interests_of_the_collective }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_for_the_beneficiaries"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.05 }
			modify_treasury_effect = yes
			set_temp_variable = { int_investment_change = treasury_change }
			multiply_temp_variable = { int_investment_change = -1.25 }
			modify_international_investment_effect = yes
			set_temp_variable = { debt_change = debt }
			multiply_temp_variable = { debt_change = -0.02 }
			modify_debt_effect = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_human_divinity
		icon = Generic_Divine_Right
		x = 0
		y = 9
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_syncretic_position }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_human_divinity"
			add_political_power = 100
			add_stability = 0.02
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_freedom_is_eternal
		icon = torchbearers_of_tomorrow
		x = 0
		y = 10
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_human_divinity }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_freedom_is_eternal"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_una_espana_grande_y_libre
		icon = pollo
		x = 0
		y = 11
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_for_the_beneficiaries }
		prerequisite = { focus = SPR_pride_in_the_army }
		prerequisite = { focus = SPR_freedom_is_eternal }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_una_espana_grande_y_libre"
			increase_intervention_law_effect = yes
			increase_military_spending = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_seize_andorra
		icon = attack_andorra
		x = 0
		y = 12
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		bypass = {
			OR = {
				owns_state = 945
				NOT = { country_exists = ADO }
			}
		}

		will_lead_to_war_with = ADO

		prerequisite = { focus = SPR_una_espana_grande_y_libre }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seize_andorra"
			ADO = { country_event = { id = spain.65 } }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_push_the_envelope
		icon = a_loyal_military
		x = -2
		y = 13
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_seize_andorra }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_push_the_envelope"
			one_random_arms_factory = yes
			increase_military_spending = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_european_upheaval
		icon = attack_europe
		x = 2
		y = 13
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_seize_andorra }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_european_upheaval"
			increase_intervention_law_effect = yes
			every_country = {
				limit = {
					is_in_array = { global.EU_potential = THIS.id }
					NOT = { tag = SPR }
				}
				set_temp_variable = { party_index = 21 }
				set_temp_variable = { party_popularity_increase = 0.025 }
				set_temp_variable = { temp_outlook_increase = 0.025 }
				add_relative_party_popularity = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_what_are_you_doing_step_portugal
		icon = ohno_step_portugal
		x = 0
		y = 13
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_seize_andorra }

		will_lead_to_war_with = POR

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_what_are_you_doing_step_portugal"
			if = { limit = { country_exists = POR NOT = { POR = { is_subject = yes } } }
				POR = { country_event = { id = spain.62 } }
			}
			else_if = { limit = { country_exists = POR POR = { is_subject = yes } }
				POR = {
					OVERLORD = {
						country_event = { id = spain.62 }
					}
				}
			}
			else = {
				random_country = {
					limit = {
						owns_state = 96
					}
					PREV = {
						create_wargoal = {
							target = PREV
							type = puppet_wargoal_focus
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_glory_to_spain
		icon = viva_espana
		x = 0
		y = 14
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 8

		available = {
			nationalist_fascist_are_in_power = yes
			50_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_push_the_envelope }
		prerequisite = { focus = SPR_what_are_you_doing_step_portugal }
		prerequisite = { focus = SPR_the_european_upheaval }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_glory_to_spain"
			add_ideas = SPR_una_espana_y_granda_libre_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_hands_of_the_few
		icon = Paternal_Autocrat
		x = -3
		y = 4
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_eliminate_the_euskara }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_hands_of_the_few"
			add_ideas = SPR_the_hands_of_the_few_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_electoral_reform
		icon = authoritarian_democracy
		x = -4
		y = 5
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_hands_of_the_few }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_electoral_reform"
			add_to_variable = { election_threshold = 0.10 } # Force set the 10% minimum for government coalitions
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_declare_the_dictatorship
		icon = masters_of_our_own_fate
		x = -4
		y = 6
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			nationalist_fascist_are_in_power = yes
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_electoral_reform }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_declare_the_dictatorship"
			set_country_flag = do_not_retire
			set_politics = {
				ruling_party = nationalist
				elections_allowed = no
			}
			clr_country_flag = do_not_retire
			add_country_leader_trait = dictator
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_hand_in_hand
		icon = national_unity
		x = 0
		y = 3
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 5

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_role_of_the_woman }
		prerequisite = { focus = SPR_rebuild_our_glory }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_hand_in_hand"
			add_political_power = 100
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_solidify_the_paramilitaries
		icon = ultranationalist_volunteers
		x = 1
		y = 4
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_the_catalonian_cancer }
		prerequisite = { focus = SPR_hand_in_hand }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_solidify_the_paramilitaries"
			custom_effect_tooltip = SPR_mobilize_the_blue_shirts_tt
			SPR = {
				division_template = {
					name = "Camisas Azules"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						L_Inf_Bat = { x = 0 y = 2 }
						L_Inf_Bat = { x = 0 y = 3 }
						Mot_Inf_Bat = { x = 1 y = 0 }
						Mot_Inf_Bat = { x = 1 y = 1 }
						Mot_Inf_Bat = { x = 1 y = 2 }
						Mot_Inf_Bat = { x = 1 y = 3 }
					}

					support = {
						Arty_Battery = { x = 0 y = 0 }
					}
				}
			}
			92 = {
				create_unit = {
				division = "name = \"Camisas Azules de Valencia\" division_template = \"Camisas Azules\" start_experience_factor = 0.90"
					owner = SPR
					prioritize_location = 6906
				}
			}
			91 = {
				create_unit = {
				division = "name = \"Camisas Azules de Madrid\" division_template = \"Camisas Azules\" start_experience_factor = 0.90"
					owner = SPR
					prioritize_location = 3938
				}
			}
			93 = {
				create_unit = {
					division = "name = \"Camisas Azules de Sevilla\" division_template = \"Camisas Azules\" start_experience_factor = 0.90"
					owner = SPR
					prioritize_location = 7183
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nuestra_familia
		icon = BRA_bolsa_familia
		x = 2
		y = 5
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		bypass = {
			has_idea = negligible_corruption
			has_idea = social_06
		}

		prerequisite = { focus = SPR_solidify_the_paramilitaries }
		prerequisite = { focus = SPR_unify_the_faiths }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nuestra_familia"
			if = { limit = { NOT = { has_idea = social_06 } }
				increase_social_spending = yes
			}
			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nuestra_gente
		icon = concessions
		x = 2
		y = 6
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_nuestra_familia }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nuestra_gente"
			add_political_power = 100
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_rebuild_our_glory
		icon = arriba_spain
		x = 1
		y = 2
		relative_position_id = SPR_nacion_unidad_imperio

		cost = 7.86

		available = {
			fascists_focus_available_trigger = yes
		}

		prerequisite = { focus = SPR_return_of_francoism }
		prerequisite = { focus = SPR_spanish_first }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_rebuild_our_glory"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			add_timed_idea = {
				idea = SPR_rebuild_our_glory_idea
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	##socialism

	focus = {
		id = SPR_socialism_rising
		icon = democratic_communism
		x = 44
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					western_socialism_are_in_power_or_coalition = yes
					western_liberal_are_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
					neutrality_neutral_social_in_power_or_coalition = yes
					emerging_anarchist_communism_in_power_or_coalition = yes
				}
			}
			else = {
				OR = {
					western_socialism_are_in_power_or_coalition = yes
					western_liberal_are_in_power_or_coalition = yes
					neutrality_neutral_social_in_power_or_coalition = yes
					emerging_anarchist_communism_in_power_or_coalition = yes
				}
			}
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_socialism_rising"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_global_flag = SPR_SOCIALISM_RISING_PATH
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = SPR_RENACIMIENTO_NACIONALISTA_PATH
					has_global_flag = SPR_CONSERVATIVE_LEANINGS_PATH
					has_global_flag = SPR_NACION_UNIDAD_IMPERIO_PATH
					has_global_flag = SPR_COMMUNIST_REVISIONISM_PATH
					has_global_flag = SPR_THE_OLD_WAYS_PATH
				}
			}
		}
	}

	focus = {
		id = SPR_address_inequality
		icon = coins
		x = -6
		y = 1
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_socialism_rising }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_address_inequality"
			add_political_power = 100
			add_stability = 0.05
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_left_wing_populism
		icon = social_liberal
		x = -5
		y = 2
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_address_inequality }
		prerequisite = { focus = SPR_anti_nationalism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_left_wing_populism"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_erase_francoism
		icon = anti_nationalism
		x = -4
		y = 3
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_left_wing_populism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_erase_francoism"
			set_country_flag = party22_banned
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = party_pop_array^21 }
			multiply_temp_variable = { party_popularity_increase = -1 }
			add_relative_party_popularity = yes
			custom_effect_tooltip = SPR_bans_francoist_party_tt
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revised_immigration_rules
		icon = pro_immigration2
		x = -6
		y = 3
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_left_wing_populism }
		prerequisite = { focus = SPR_lgbtq_affirmations }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revised_immigration_rules"
			country_event = { id = spain.81 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tackle_oppression
		icon = anti_democracy3
		x = -4
		y = 4
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}
		bypass = {
			has_idea = negligible_corruption
		}

		prerequisite = { focus = SPR_revised_immigration_rules }
		prerequisite = { focus = SPR_the_peoples_government }

		search_filters = { FOCUS_FILTER_CORRUPTION FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tackle_oppression"
			decrease_corruption = yes
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = -0.03 }
			set_temp_variable = { temp_outlook_increase = -0.02 }
			add_relative_party_popularity = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_clausula_de_pobreza
		icon = democratic_communism
		x = -4
		y = 5
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_tackle_oppression }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_clausula_de_pobreza"
			custom_effect_tooltip = SPR_all_culture_increase_5_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 5 }
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_lgbtq_affirmations
		icon = pro_lgbt
		x = -7
		y = 2
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_address_inequality }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_lgbtq_affirmations"
			country_event = { id = spain.72 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_anti_nationalism
		icon = ban_fascism
		x = -4
		y = 1
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_socialism_rising }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_anti_nationalism"
			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			set_temp_variable = { temp_outlook_increase = -0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 20 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 23 }
			add_relative_party_popularity = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_post_capitalism_ideology
		icon = break_free
		x = -2
		y = 1
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_socialism_rising }

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_post_capitalism_ideology"
			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			set_temp_variable = { percent_change = 1.5 }
			set_temp_variable = { tag_index = SPR }
			every_country = {
				limit = {
					check_variable = { domestic_influence_amount < 50.00 }
					OR = {
						western_socialism_are_in_power_or_coalition = yes
						western_liberal_are_in_power_or_coalition = yes
						neutrality_neutral_social_in_power_or_coalition = yes
						emerging_anarchist_communism_in_power_or_coalition = yes
						emerging_communist_state_in_power_or_coalition = yes
						neutrality_neutral_communism_in_power_or_coalition = yes
					}
				}
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_decommodify_the_basics
		icon = export_economy
		x = -2
		y = 2
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_the_post_capitalism_ideology }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_decommodify_the_basics"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.03 }
			modify_treasury_effect = yes
			add_stability = 0.05
			add_ideas = SPR_decommdify_the_basics_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_peoples_government
		icon = liberalized_socialism
		x = -2
		y = 3
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}
		bypass = {
			has_idea = negligible_corruption
		}

		prerequisite = { focus = SPR_decommodify_the_basics }

		search_filters = { FOCUS_FILTER_CORRUPTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_peoples_government"
			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_foster_support_in_catalonia
		icon = communist_propaganda
		x = -2
		y = 4
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_the_peoples_government }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_foster_support_in_catalonia"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_socialism_support_in_spain
		icon = revolutionary_government
		x = -2
		y = 5
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_foster_support_in_catalonia }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_socialism_support_in_spain"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			add_political_power = 150
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_foster_relationship_in_europe
		icon = align_to_europe
		x = -4
		y = 6
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_socialism_support_in_spain }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_DIPLOMACY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_foster_relationship_in_europe"
			if = { limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				set_temp_variable = { modify_eurosceptic = -0.03 }
				EU_eurosceptic_change = yes
			}
			else = {
				add_political_power = 100
			}
			every_country = {
				limit = { is_in_array = { global.EU_member = THIS.id } }
				add_opinion_modifier = {
					target = SPR
					modifier = SPR_spain_fosters_support_in_eu
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_regulate_the_markets
		icon = market_economy
		x = -2
		y = 7
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_foster_relationship_in_europe }
		prerequisite = { focus = SPR_tax_the_rich }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_regulate_the_markets"
			increase_exports = yes
			add_ideas = SPR_regulate_the_markets_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_separation_of_church_and_state
		icon = focus_secular
		x = -2
		y = 8
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_regulate_the_markets }

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_separation_of_church_and_state"
			swap_ideas = {
				remove_idea = christian
				add_idea = pluralist
			}
			add_ideas = SPR_separation_of_church_and_state_idea
			set_temp_variable = { temp_opinion = -10 }
			change_the_clergy_opinion = yes
			change_the_ulema_opinion = yes
			change_the_priesthood_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_the_universities
		icon = university
		x = -4
		y = 7
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_foster_relationship_in_europe }

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_the_universities"
			increase_education_budget = yes
			if = { limit = { NOT = { has_idea = edu_05 } }
				block_edu_change = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_our_system
		icon = Generic_Liberalism
		x = -4
		y = 8
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_support_the_universities }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_our_system"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			set_temp_variable = { party_popularity_increase = 0.02 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_peoples_spain
		icon = worker_paradise
		x = -2
		y = 9
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_support_our_system }
		prerequisite = { focus = SPR_egalitarian_first_and_forever }

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_peoples_spain"
			add_ideas = SPR_the_peoples_spain_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_fair_share
		icon = business_man
		x = -6
		y = 7
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}
		prerequisite = { focus = SPR_foster_relationship_in_europe }

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_fair_share"
			set_temp_variable = { pop_change = 2 }
			modify_population_tax_rate_effect = yes
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = 0.01 }
			modify_treasury_effect = yes
			set_temp_variable = { temp_opinion = -5 }
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes
			change_international_bankers_opinion = yes
			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tax_the_rich
		icon = business_man2
		x = 0
		y = 6
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_socialism_support_in_spain }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tax_the_rich"
			add_ideas = SPR_end_the_loophole_idea
			set_temp_variable = { temp_opinion = -10 }
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_heart_of_the_collective
		icon = Generic_State_Socialism
		x = 0
		y = 7
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_tax_the_rich }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_heart_of_the_collective"
			add_ideas = SPR_collectiveness_egalitarianism_idea

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes
			change_farmers_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_fossil_fuel_industry_opinion = yes
			change_maritime_industry_opinion = yes
			change_defense_industry_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_analyze_the_scandinavians
		icon = align_to_nc
		x = 2
		y = 7
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_tax_the_rich }

		search_filters = { FOCUS_FILTER_EXPENDITURE FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_analyze_the_scandinavians"
			add_ideas = SPR_the_scandinavians_style_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_egalitarian_first_and_forever
		icon = democratic_stability
		x = 0
		y = 8
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_heart_of_the_collective }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_egalitarian_first_and_forever"
			swap_ideas = {
				remove_idea = SPR_collectiveness_egalitarianism_idea
				add_idea = SPR_collectiveness_egalitarianism2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	focus = {
		id = SPR_state_sponsored_interventionism
		icon = central_planned_economy3
		x = -2
		y = 6
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			OR = {
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_socialism_support_in_spain }

		search_filters = { FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_state_sponsored_interventionism"
			increase_economic_growth = yes
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.02 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_keynesian_take
		icon = economic_prosperity
		x = 0
		y = 1
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_socialism_rising }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_keynesian_take"
			add_ideas = SPR_keynesian_economic_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_industry_for_the_people
		icon = bread_and_peace
		x = 1
		y = 2
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_a_keynesian_take }
		prerequisite = { focus = SPR_reconnecting_with_our_roots }

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_industry_for_the_people"
			one_office_construction = yes
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_state_bank
		icon = euro
		x = 0
		y = 3
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_industry_for_the_people }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_state_bank"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.03 }
			modify_treasury_effect = yes
			set_temp_variable = { int_investment_change = treasury_change }
			multiply_temp_variable = { int_investment_change = -1.25 }
			modify_international_investment_effect = yes
			swap_ideas = {
				remove_idea = landowners
				add_idea = international_bankers
			}
			unlock_decision_tooltip = SPR_tap_the_bank_funds_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_support_the_small_businesses
		icon = liberalization_policies
		x = 2
		y = 3
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_industry_for_the_people }
		prerequisite = { focus = SPR_faith_in_the_state }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_support_the_small_businesses"
			set_temp_variable = { temp_opinion = 10 }
			change_small_medium_business_owners_opinion = yes
			change_farmers_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_fossil_fuel_industry_opinion = yes
			change_maritime_industry_opinion = yes
			change_defense_industry_opinion = yes
			increase_economic_growth = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pro_europeanism
		icon = align_to_europe
		x = 0
		y = 4
		relative_position_id = SPR_socialism_rising

		cost = 7.86 # 55 Days

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_support_the_small_businesses }
		prerequisite = { focus = SPR_the_peoples_government }

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pro_europeanism"
			if = { limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				set_temp_variable = { modify_eurosceptic = -0.10 }
				set_temp_variable = { modify_eurosceptic_target = ROOT }
				eurosceptic_change = yes
			}
			else = {
				add_political_power = 100
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_unions_party
		icon = Focus_Liberationist
		x = 0
		y = 5
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_pro_europeanism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_unions_party"
			add_stability = 0.05
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reconnecting_with_our_roots
		icon = support_the_left_right
		x = 2
		y = 1
		relative_position_id = SPR_socialism_rising

		cost = 7.86

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_socialism_rising }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reconnecting_with_our_roots"
			if = { limit = { check_variable = { labour_unions_opinion < 100 } }
				set_temp_variable = { temp_opinion = 5 }
				change_labour_unions_opinion = yes
				change_communist_cadres_opinion = yes
			}
			else = {
				add_political_power = 100
				add_stability = 0.05
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_faith_in_the_state
		icon = Christian_Socialism
		x = 3
		y = 2
		relative_position_id = SPR_socialism_rising

		cost = 5

		available = {
			socialism_rising_coalition_trigger = yes
		}

		prerequisite = { focus = SPR_reconnecting_with_our_roots }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_faith_in_the_state"
			add_stability = 0.03
			add_political_power = 100
			set_temp_variable = { temp_opinion = 5 }
			change_the_clergy_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	##Communism

	focus = {
		id = SPR_communist_revisionism
		icon = workers_of_iberia
		x = 54
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
			NOT = { has_completed_focus = SPR_the_old_ways }
		}

		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_communist_revisionism"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			swap_ideas = {
				remove_idea = labour_unions
				add_idea = communist_cadres
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				has_global_flag = SPR_COMMUNIST_REVISIONISM_PATH
			}
			modifier = {
				factor = 0
				OR = {
					has_global_flag = SPR_RENACIMIENTO_NACIONALISTA_PATH
					has_global_flag = SPR_CONSERVATIVE_LEANINGS_PATH
					has_global_flag = SPR_NACION_UNIDAD_IMPERIO_PATH
					has_global_flag = SPR_SOCIALISM_RISING_PATH
					has_global_flag = SPR_THE_OLD_WAYS_PATH
				}
			}
		}
	}

	focus = {
		id = SPR_all_left_coalition
		icon = labor_unions
		x = -4
		y = 1
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				western_socialism_are_in_power_or_coalition = yes
				western_liberal_are_in_power_or_coalition = yes
				neutrality_neutral_social_in_power_or_coalition = yes
				emerging_anarchist_communism_in_power_or_coalition = yes
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
		}

		prerequisite = {
			focus = SPR_communist_revisionism
			focus = SPR_socialism_rising
		}

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_all_left_coalition"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.04 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_moderate_leftists
		icon = social_paternalism
		x = -6
		y = 1
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			if = { limit = { has_completed_focus = SPR_the_new_elections }
				OR = {
					western_socialism_are_in_power_or_coalition = yes
					western_liberal_are_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
					neutrality_neutral_social_in_power_or_coalition = yes
					emerging_anarchist_communism_in_power_or_coalition = yes
					western_autocrats_are_in_power = yes
				}
			}
			else = {
				OR = {
					western_socialism_are_in_power_or_coalition = yes
					western_liberal_are_in_power_or_coalition = yes
					neutrality_neutral_social_in_power_or_coalition = yes
					emerging_anarchist_communism_in_power_or_coalition = yes
				}
			}
		}

		prerequisite = {
			focus = SPR_communist_revisionism
			focus = SPR_socialism_rising
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_moderate_leftists"
			set_temp_variable = { party_index = 2 }
			set_temp_variable = { party_popularity_increase = 0.04 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 3 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 5 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 18 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revisit_federalism
		icon = examine_foreign_laws
		x = -5
		y = 2
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = {
			focus = SPR_moderate_leftists
			focus = SPR_all_left_coalition
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revisit_federalism"
			increase_centralization = yes

			custom_effect_tooltip = SPR_all_culture_less_than_70_decrease_5_tt
			for_each_loop = {
				array = SPR_culture_opinion
				set_temp_variable = { culture_index = i }
				set_temp_variable = { cultural_opinion = 5 }
				if = {
					limit = {
						check_variable = { SPR_culture_opinion^i < 70 }
					}
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_federalization_idea
		icon = government_beu
		x = -5
		y = 3
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = {
			focus = SPR_faith_in_the_state
			focus = SPR_distributive_egalitarianism
		}
		prerequisite = { focus = SPR_revisit_federalism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_federalization_idea"
			increase_centralization = yes

			custom_effect_tooltip = SPR_all_culture_less_than_70_decrease_5_tt
			for_each_loop = {
				array = SPR_culture_opinion
				index = i
				value = v
				set_temp_variable = { culture_index = i }
				set_temp_variable = { cultural_opinion = 5 }
				if = {
					limit = {
						check_variable = { SPR_culture_opinion^i < 70 }
					}
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_finalize_the_transition
		icon = legislation
		x = -5
		y = 4
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
				western_social_democrats_are_in_power = yes
				western_liberals_are_in_power = yes
				neutrality_neutral_social_are_in_power = yes
				emerging_anarchist_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_federalization_idea }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_finalize_the_transition"
			increase_centralization = yes

			custom_effect_tooltip = SPR_all_culture_less_than_70_decrease_5_tt
			for_each_loop = {
				array = SPR_culture_opinion
				set_temp_variable = { culture_index = i }
				set_temp_variable = { cultural_opinion = 5 }
				if = {
					limit = {
						check_variable = { SPR_culture_opinion^i < 70 }
					}
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_price_controls
		icon = radical_tax_reform
		x = -2
		y = 1
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_communist_revisionism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_price_controls"
			set_temp_variable = { pop_change = -3 }
			modify_population_tax_rate_effect = yes
			set_temp_variable = { corp_change = 3 }
			modify_corporate_tax_rate_effect = yes
			add_stability = 0.05
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_distributive_egalitarianism
		icon = market_socialism
		x = -2
		y = 2
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_price_controls }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_distributive_egalitarianism"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_agrarian_collectivism
		icon = communist_factories
		x = -2
		y = 3
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_collectively_owned }
		prerequisite = { focus = SPR_marxist_education }
		prerequisite = { focus = SPR_distributive_egalitarianism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_agrarian_collectivism"
			increase_economic_growth = yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_election_protectionism
		icon = elections_rigged
		x = 0
		y = 1
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_communist_revisionism }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_election_protectionism"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
			add_political_power = 75
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_in_support_of_the_worker
		icon = hammer_star
		x = 2
		y = 1
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_communist_revisionism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_in_support_of_the_worker"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			add_ideas = SPR_the_rights_of_the_worker_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_material
		icon = mining
		x = 4
		y = 2
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_in_support_of_the_worker }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_material"
			add_ideas = SPR_communistic_research_idea
			add_tech_bonus = {
				name = SPR_the_material
				bonus = 0.5
				uses = 1
				category = industry
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_technical_base
		icon = red_industry
		x = 4
		y = 3
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_material }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_technical_base"
			swap_ideas = {
				remove_idea = SPR_communistic_research_idea
				add_idea = SPR_communistic_research2_idea
			}
			add_tech_bonus = {
				name = SPR_the_material
				bonus = 0.5
				uses = 1
				category = computing_tech
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_collectively_owned
		icon = market_socialism
		x = 2
		y = 2
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_in_support_of_the_worker }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_collectively_owned"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			swap_ideas = {
				remove_idea = SPR_the_rights_of_the_worker_idea
				add_idea = SPR_the_rights_of_the_worker1_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_emancipation_of_the_woman
		icon = widf
		x = 2
		y = 3
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_collectively_owned }
		prerequisite = { focus = SPR_marxist_education }
		prerequisite = { focus = SPR_distributive_egalitarianism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_emancipation_of_the_woman"
			country_event = { id = spain.80 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_marxist_education
		icon = marxism
		x = 0
		y = 2
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_election_protectionism }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_EXPENDITURE FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_marxist_education"
			add_timed_idea = {
				idea = SPR_marxist_reeducation_idea
				days = 730
			}
			if = { limit = { has_idea = EU_member }
				set_temp_variable = { modify_eurosceptic = 0.20 }
				set_temp_variable = { modify_eurosceptic_target = ROOT }
				eurosceptic_change = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_redistribution_of_wealth
		icon = economic_prosperity
		x = 0
		y = 3
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		prerequisite = { focus = SPR_marxist_education }
		prerequisite = { focus = SPR_distributive_egalitarianism }
		prerequisite = { focus = SPR_collectively_owned }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_redistribution_of_wealth"
			swap_ideas = {
				remove_idea = SPR_the_rights_of_the_worker1_idea
				add_idea = SPR_the_rights_of_the_worker2_idea
			}
			set_temp_variable = { temp_opinion = -5 }
			change_landowners_opinion = yes
			change_small_medium_business_owners_opinion = yes
			change_industrial_conglomerates_opinion = yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_new_constitution
		icon = communist_constiution
		x = 0
		y = 4
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_agrarian_collectivism }
		prerequisite = { focus = SPR_the_emancipation_of_the_woman }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_constitution"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes

			if = { limit = { neutrality_neutral_communism_are_in_power = yes }
				set_country_flag = do_not_retire
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				clr_country_flag = do_not_retire
			}
			else = {
				set_country_flag = do_not_retire
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
				clr_country_flag = do_not_retire
			}
			add_country_leader_trait = SPR_the_new_communist_general_secretary
			remove_ideas = western_country
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_state_atheism
		icon = christianophobia
		x = -3
		y = 5
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_new_constitution }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_state_atheism"
			swap_ideas = {
				remove_idea = christian
				add_idea = DEN_idea_state_atheism
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_abolish_the_monarchy
		icon = anti_monarchism3
		x = 0
		y = 6
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			40_percent_government_popularity = yes
		}

		prerequisite = {
			focus = SPR_state_atheism
			focus = SPR_socialist_patriotism
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_abolish_the_monarchy"
			set_country_flag = party0_banned
			set_country_flag = party23_banned
			country_event = { id = spain.78 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_peoples_militias
		icon = Communal_Militias
		x = 0
		y = 7
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_abolish_the_monarchy }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_peoples_militias"

			add_ideas = SPR_the_peoples_militias_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_culture_of_proletarianism
		icon = befriend_communist_spain
		x = -4
		y = 6
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_state_atheism }

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_culture_of_proletarianism"
			add_ideas = SPR_the_culture_of_proletarianism_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_red_rose
		icon = Fabianist
		x = -4
		y = 7
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_culture_of_proletarianism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_red_rose"
			swap_ideas = {
				remove_idea = SPR_the_culture_of_proletarianism_idea
				add_idea = SPR_the_culture_of_proletarianism2_idea
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_dissolve_monasteries
		icon = anti_catholicism
		x = -2
		y = 6
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_state_atheism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_dissolve_monasteries"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = -0.025 }
			set_temp_variable = { temp_outlook_increase = -0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = 0.05 }
			modify_treasury_effect = yes
			reverse_add_opinion_modifier = { target = HLS modifier = SPR_dissolved_monasteries_HLS }
			every_country = {
				limit = {
					has_idea = christian
					NOT = { tag = SPR }
					NOT = { tag = HLS }
				}
				add_opinion_modifier = { target = SPR modifier = SPR_dissolved_monasteries }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_red_rising
		icon = republica_spanish_1
		x = -2
		y = 7
		relative_position_id = SPR_communist_revisionism

		cost = 5

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_dissolve_monasteries }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_red_rising"
			every_neighbor_country = {
				set_temp_variable = { party_index = 4 }
				set_temp_variable = { party_popularity_increase = 0.02 }
				set_temp_variable = { temp_outlook_increase = 0.02 }
				add_relative_party_popularity = yes
				set_temp_variable = { party_index = 19 }
				set_temp_variable = { party_popularity_increase = 0.02 }
				set_temp_variable = { temp_outlook_increase = 0.02 }
				add_relative_party_popularity = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_democratic_youth
		icon = JSU
		x = -2
		y = 8
		relative_position_id = SPR_communist_revisionism

		cost = 5

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_red_rising }
		prerequisite = { focus = SPR_the_red_rose }
		prerequisite = { focus = SPR_the_peoples_militias }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_democratic_youth"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_federation_of_spanish_women
		icon = frente_mujeres
		x = -1
		y = 9
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_democratic_youth }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_federation_of_spanish_women"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_union_of_working_youth
		icon = frente_juventud
		x = -1
		y = 10
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_federation_of_spanish_women }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_union_of_working_youth"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes
			add_ideas = SPR_union_of_working_youth_idea
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_great_confederation
		icon = frente_sindical
		x = -3
		y = 9
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_democratic_youth }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_great_confederation"
			add_timed_idea = {
				idea = SPR_the_great_confederation_idea
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_union_of_agricultural_cooperatives
		icon = frente_agricultura
		x = -3
		y = 10
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_great_confederation }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_union_of_agricultural_cooperatives"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes
			add_timed_idea = {
				idea = agricultural_investments3
				days = 365
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_peoples_solidarity
		icon = frente_solidario
		x = -2
		y = 11
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_union_of_agricultural_cooperatives }
		prerequisite = { focus = SPR_union_of_working_youth }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_peoples_solidarity"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
			if = { limit = { has_idea = idea_focus_generic_will_of_the_people }
				modify_timed_idea = {
					idea = idea_focus_generic_will_of_the_people
					days = 365
				}
			}
			else = {
				add_timed_idea = {
					idea = idea_focus_generic_will_of_the_people
					days = 365
				}
			}
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_socialist_patriotism
		icon = Focus_Socialist_Propaganda
		x = 3
		y = 5
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_new_constitution }

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_socialist_patriotism"
			set_temp_variable = { party_index = 4 }
			set_temp_variable = { party_popularity_increase = 0.025 }
			set_temp_variable = { temp_outlook_increase = 0.025 }
			add_relative_party_popularity = yes
			set_temp_variable = { party_index = 19 }
			add_relative_party_popularity = yes
			add_stability = 0.02
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_liquidate_private_assets
		icon = red_industry
		x = 2
		y = 6
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_socialist_patriotism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_liquidate_private_assets"
			set_temp_variable = { temp_opinion = -10 }
			change_landowners_opinion = yes
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = 0.05 }
			modify_treasury_effect = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_communist_reeducation
		icon = decommission_old_text_books
		x = 2
		y = 7
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_liquidate_private_assets }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_communist_reeducation"
			if = { limit = { has_idea = SPR_marxist_reeducation_idea }
				modify_timed_idea = {
					idea = SPR_marxist_reeducation_idea
					days = 365
				}
			}
			else = {
				add_timed_idea = {
					idea = SPR_marxist_reeducation_idea
					days = 365
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_working_class
		icon = Generic_Workers_Democracy
		x = 4
		y = 6
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_socialist_patriotism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_working_class"
			one_office_construction = yes
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_poor
		icon = economic_crisis
		x = 4
		y = 7
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_working_class }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_poor"
			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes
			change_labour_unions_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_ideological_conversion
		icon = TotSoc_Focus
		x = 2
		y = 8
		relative_position_id = SPR_communist_revisionism

		cost = 5

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_communist_reeducation }
		prerequisite = { focus = SPR_the_peoples_militias }
		prerequisite = { focus = SPR_the_poor }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_ideological_conversion"
			set_temp_variable = { percent_change = 1 }
			set_temp_variable = { tag_index = SPR.id }
			every_neighbor_country = {
				limit = {
					NOT = {
						neutrality_neutral_communism_in_power_or_coalition = yes
						emerging_communist_state_in_power_or_coalition = yes
					}
				}
				set_temp_variable = { influence_target = THIS.id }
				change_influence_percentage = yes
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_council_of_peoples_comissars
		icon = campesinado
		x = 3
		y = 9
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_ideological_conversion }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_council_of_peoples_comissars"
			if = { limit = { has_idea = idea_focus_generic_will_of_the_people }
				modify_timed_idea = {
					idea = idea_focus_generic_will_of_the_people
					days = 365
				}
			}
			else = {
				add_timed_idea = {
					idea = idea_focus_generic_will_of_the_people
					days = 365
				}
			}
			add_political_power = 100
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spread_the_word
		icon = social_democracy
		x = 1
		y = 9
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_the_ideological_conversion }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spread_the_word"
			every_country = {
				limit = {
					has_idea = EU_member
					NOT = { tag = SPR }
				}
				set_temp_variable = { party_index = 4 }
				set_temp_variable = { party_popularity_increase = 0.02 }
				set_temp_variable = { temp_outlook_increase = 0.02 }
				add_relative_party_popularity = yes
				set_temp_variable = { party_index = 19 }
				set_temp_variable = { party_popularity_increase = 0.02 }
				set_temp_variable = { temp_outlook_increase = 0.02 }
				add_relative_party_popularity = yes
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_communist_everywhere
		icon = ius
		x = 2
		y = 10
		relative_position_id = SPR_communist_revisionism

		cost = 7.86

		available = {
			OR = {
				emerging_communist_state_are_in_power = yes
				neutrality_neutral_communism_are_in_power = yes
			}
			30_percent_government_popularity = yes
		}

		prerequisite = { focus = SPR_spread_the_word }
		prerequisite = { focus = SPR_council_of_peoples_comissars }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_communist_everywhere"
			unlock_decision_tooltip = SPR_encourage_communist_neighbors_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_culture
		icon = examine_foreign_laws
		x = -5
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 3 # 21 Days
		prerequisite = { focus = SPR_the_republic }
		prerequisite = { focus = SPR_faith_in_the_constitution }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_culture"
			custom_effect_tooltip = SPR_all_culture_increase_2_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = 2 }
					SPR_modify_cultural_opinion = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mass_legalization
		icon = legalize_all_drugs
		x = -2
		y = 1
		relative_position_id = SPR_culture

		cost = 4 # 28 Days

		prerequisite = { focus = SPR_culture }

		mutually_exclusive = { focus = SPR_legalize_light_drugs }
		mutually_exclusive = { focus = SPR_drug_users_are_criminals }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mass_legalization"
			add_ideas = SPR_idea_mass_legalization
			ingame_update_setup = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_legalize_light_drugs
		icon = legalize_it
		x = 0
		y = 1
		relative_position_id = SPR_culture

		cost = 4 # 28 Days

		prerequisite = { focus = SPR_culture }

		mutually_exclusive = { focus = SPR_mass_legalization }
		mutually_exclusive = { focus = SPR_drug_users_are_criminals }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_legalize_light_drugs"
			add_ideas = SPR_idea_legalize_light_drugs
			ingame_update_setup = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_drug_users_are_criminals
		icon = pass_legislation
		x = 2
		y = 1
		relative_position_id = SPR_culture

		cost = 4 # 28 Days

		prerequisite = { focus = SPR_culture }

		mutually_exclusive = { focus = SPR_mass_legalization }
		mutually_exclusive = { focus = SPR_legalize_light_drugs }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_drug_users_are_criminals"
			add_ideas = SPR_idea_drug_users_are_criminals
			ingame_update_setup = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_question_of_bullfighting
		icon = agriculture
		x = 0
		y = 2
		relative_position_id = SPR_culture

		cost = 6.5 # 45 Days

		prerequisite = {
			focus = SPR_mass_legalization
			focus = SPR_legalize_light_drugs
			focus = SPR_drug_users_are_criminals
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_question_of_bullfighting"
			country_event = spain.50 # Question of Bullfighting Event
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_the_power_of_the_siesta
		icon = angel
		x = 0
		y = 3
		relative_position_id = SPR_culture

		cost = 6.5 # 45 Days

		prerequisite = { focus = SPR_the_question_of_bullfighting }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_power_of_the_siesta"
			add_political_power = 50
			set_temp_variable = { temp_opinion = 2 }
			change_small_medium_business_owners_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_labour_unions_opinion = yes
			change_farmers_opinion = yes
			change_international_bankers_opinion = yes
			change_defense_industry_opinion = yes
			change_landowners_opinion = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_monument_maintenance
		icon = save_the_alcazar
		x = 0
		y = 4
		relative_position_id = SPR_culture

		cost = 6.5 # 45 days

		prerequisite = { focus = SPR_the_power_of_the_siesta }

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_EXPENDITURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_monument_maintenance"
			add_timed_idea = {
				idea = SPR_idea_maintenance_of_monuments
				days = 180
			}
			ingame_update_setup = yes # Debug command for updating the ingame update
		}

		ai_will_do = {
			factor = 1
		}
	}

	##Industry Focuses

	focus = {
		id = SPR_industria_espanola
		icon = industry
		x = 72
		y = 2
		relative_position_id = SPR_the_political_sphere

		cost = 5

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_industria_espanola"

			add_tech_bonus = {
				name = excavation_tech
				bonus = 0.25
				uses = 1
				category = excavation_tech
			}
			add_tech_bonus = {
				name = industry
				bonus = 0.25
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = construction_tech
				bonus = 0.25
				uses = 1
				category = construction_tech
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_agricultura_espanola
		x = -9
		y = 1
		icon = breadbasket_of_the_union
		relative_position_id = SPR_industria_espanola

		prerequisite = { focus = SPR_industria_espanola }

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_agricultura_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes

			add_ideas = SPR_idea_agriculture_reforms
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_minifundios
		x = -1
		y = 1
		icon = farming_sector
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_agricultura_espanola }
		mutually_exclusive = { focus = SPR_latifundios }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_minifundios"

			set_temp_variable = { temp_opinion = 5 }
			change_landowners_opinion = yes

			set_temp_variable = { temp_opinion = -5 }
			change_communist_cadres_opinion = yes

			set_temp_variable = { party_index = 1 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			swap_ideas = {
				remove_idea = SPR_idea_agriculture_reforms add_idea = SPR_idea_agriculture_reforms_a
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_latifundios
		x = 1
		y = 1
		icon = mechanized_agriculture
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_agricultura_espanola }
		mutually_exclusive = { focus = SPR_minifundios }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_latifundios"

			set_temp_variable = { temp_opinion = 10 }
			change_farmers_opinion = yes

			set_temp_variable = { temp_opinion = 5 }
			change_communist_cadres_opinion = yes

			set_temp_variable = { temp_opinion = -10 }
			change_landowners_opinion = yes

			set_temp_variable = { party_index = 5 }
			set_temp_variable = { party_popularity_increase = 0.10 }
			set_temp_variable = { temp_outlook_increase = 0.10 }
			add_relative_party_popularity = yes

			swap_ideas = {
				remove_idea = SPR_idea_agriculture_reforms add_idea = SPR_idea_agriculture_reforms_b
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bio_azul
		x = -1
		y = 3
		icon = research3
		relative_position_id = SPR_agricultura_espanola

		prerequisite = {
			focus = SPR_minifundios
			focus = SPR_latifundios
		}

		cost = 7

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bio_azul"

			set_temp_variable = { treasury_change = -1.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.50
				uses = 1
				category = Cat_GENES
			}

			if = {
				limit = { has_idea = SPR_frequent_droughts_1 }

				swap_ideas = { remove_idea = SPR_frequent_droughts_1 add_idea = SPR_frequent_droughts_2 }
			}
			else_if = {
				limit = { has_idea = SPR_frequent_droughts_2 }

				swap_ideas = { remove_idea = SPR_frequent_droughts_2 add_idea = SPR_frequent_droughts_3 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_idai_nature
		x = 1
		y = 3
		icon = research3
		relative_position_id = SPR_agricultura_espanola

		prerequisite = {
			focus = SPR_minifundios
			focus = SPR_latifundios
		}

		cost = 7

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_idai_nature"

			set_temp_variable = { treasury_change = -1.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.50
				uses = 1
				category = Cat_GENES
			}
			if = {
				limit = { has_idea = SPR_frequent_droughts_1 }

				swap_ideas = { remove_idea = SPR_frequent_droughts_1 add_idea = SPR_frequent_droughts_2 }
			}
			else_if = {
				limit = { has_idea = SPR_frequent_droughts_2 }

				swap_ideas = { remove_idea = SPR_frequent_droughts_2 add_idea = SPR_frequent_droughts_3 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_solve_the_water_crisis
		x = 0
		y = 4
		icon = water_conservation
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_idai_nature }
		prerequisite = { focus = SPR_bio_azul }
		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_solve_the_water_crisis"

			set_temp_variable = { treasury_change = -3.00 }
			modify_treasury_effect = yes

			add_political_power = 50

			set_temp_variable = { temp_opinion = 10 }
			change_farmers_opinion = yes

			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			if = {
				limit = { has_idea = SPR_frequent_droughts_1 }

				remove_ideas = SPR_frequent_droughts_1
			}
			else_if = {
				limit = { has_idea = SPR_frequent_droughts_2 }

				remove_ideas = SPR_frequent_droughts_2
			}
			else_if = {
				limit = { has_idea = SPR_frequent_droughts_3 }

				remove_ideas = SPR_frequent_droughts_3
			}

		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_el_pollo_loco
		x = 3
		y = 2
		icon = farming
		relative_position_id = SPR_agricultura_espanola

		prerequisite = {
			focus = SPR_minifundios
			focus = SPR_latifundios
		}

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_el_pollo_loco"

			add_political_power = 25

			add_ideas = SPR_idea_expanded_ranching_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bring_home_the_jamon
		x = 3
		y = 3
		icon = agriculture
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_el_pollo_loco }

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bring_home_the_jamon"

			add_political_power = 25

			swap_ideas = { remove_idea = SPR_idea_expanded_ranching_1 add_idea = SPR_idea_expanded_ranching_2 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bigger_pescado_to_fry
		x = 3
		y = 4
		icon = Canned_Fish
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_bring_home_the_jamon }

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bigger_pescado_to_fry"

			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes

			add_political_power = 50

			swap_ideas = {
				remove_idea = SPR_idea_expanded_ranching_2 add_idea = SPR_idea_expanded_ranching_3 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_power_of_the_grape
		x = -3
		y = 2
		icon = georgian_wine
		relative_position_id = SPR_agricultura_espanola

		prerequisite = {
			focus = SPR_minifundios
			focus = SPR_latifundios
		}

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_power_of_the_grape"

			add_political_power = 25

			add_ideas = SPR_idea_expanded_cultivation_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_power_of_the_olive
		x = -3
		y = 3
		icon = agriculture2
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_the_power_of_the_grape }

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_power_of_the_olive"

			add_political_power = 25

			swap_ideas = { remove_idea = SPR_idea_expanded_cultivation_1 add_idea = SPR_idea_expanded_cultivation_2 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_easy_peasy_lemon_squeezy
		x = -3
		y = 4
		icon = agriculture2
		relative_position_id = SPR_agricultura_espanola

		prerequisite = { focus = SPR_the_power_of_the_olive }

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_power_of_the_olive"

			set_temp_variable = { temp_opinion = 5 }
			change_farmers_opinion = yes

			add_political_power = 50

			swap_ideas = { remove_idea = SPR_idea_expanded_cultivation_2 add_idea = SPR_idea_expanded_cultivation_3 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mineria_espanola
		icon = PB_Generic_Mining_Industry
		x = 6
		y = 1
		relative_position_id = SPR_industria_espanola
		prerequisite = { focus = SPR_industria_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mineria_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes
			change_small_medium_business_owners_opinion = yes
			change_defense_industry_opinion = yes
			change_international_bankers_opinion = yes

			add_political_power = 50

			add_tech_bonus = {
				name = excavation_tech
				bonus = 0.50
				uses = 1
				category = excavation_tech
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nuestras_propias_empresas_mineras
		icon = mining
		x = 1
		y = 1
		relative_position_id = SPR_mineria_espanola

		prerequisite = { focus = SPR_mineria_espanola }
		mutually_exclusive = { focus = SPR_invite_the_icmm }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nuestras_propias_empresas_mineras"

			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes

			one_office_construction = yes

			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes
			add_ideas = SPR_idea_spanish_mining_companies_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_minerales_espanoles_para_espana
		icon = steel_production2
		x = 3
		y = 2
		relative_position_id = SPR_mineria_espanola

		prerequisite = { focus = SPR_nuestras_propias_empresas_mineras }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_minerales_espanoles_para_espana"

			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			add_ideas = SPR_idea_reduced_exports
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_operaciones_mineras_espanolas
		icon = mining
		x = 1
		y = 2
		relative_position_id = SPR_mineria_espanola

		prerequisite = { focus = SPR_nuestras_propias_empresas_mineras }

		cost = 10

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_operaciones_mineras_espanolas"

			swap_ideas = {
				remove_idea = SPR_idea_spanish_mining_companies_1 add_idea = SPR_idea_spanish_mining_companies_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_invite_the_icmm
		icon = icmm
		x = -1
		y = 1
		relative_position_id = SPR_mineria_espanola

		prerequisite = { focus = SPR_mineria_espanola }
		mutually_exclusive = { focus = SPR_nuestras_propias_empresas_mineras }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_invite_the_icmm"

			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = ENG.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = CAN.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = AST.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SAF.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SWI.id }
			set_temp_variable = { influence_target = THIS.id }
			change_influence_percentage = yes

			add_ideas = SPR_idea_the_icmm_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ICMM_mining_operations
		icon = production2
		x = -1
		y = 2
		relative_position_id = SPR_mineria_espanola

		prerequisite = { focus = SPR_invite_the_icmm }

		cost = 10

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ICMM_mining_operations"

			swap_ideas = {
				remove_idea = SPR_idea_the_icmm_1 add_idea = SPR_idea_the_icmm_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_asturian_mines
		icon = geo_goldmine
		x = 0
		y = 3
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_ICMM_mining_operations
			focus = SPR_operaciones_mineras_espanolas
			}

		cost = 8

		available = {
			owns_state = 89
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_asturian_mines"

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = chromium
				amount = 4
				state = 89
			}

			add_resource = {
				type = tungsten
				amount = 4
				state = 89
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_andalucian_mines
		icon = mining_truck
		x = 0
		y = 4
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_galician_mines
			focus = SPR_extremadura_mines
			focus = SPR_asturian_mines
		}

		cost = 8

		available = {
			owns_state = 93
			custom_trigger_tooltip = {
				tooltip = SPR_andalucia_opinion_above_70_tt
				check_variable = { SPR_culture_opinion^3 > 69 }
			}
			NOT = { has_completed_focus = SPR_ban_andalucian }
		}

		search_filters = { FOCUS_FILTER_RESOURCE FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_andalucian_mines"

			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = chromium
				amount = 4
				state = 93
			}

			add_resource = {
				type = steel
				amount = 4
				state = 93
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_galician_mines
		icon = mining_truck
		x = -2
		y = 3
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_ICMM_mining_operations
			focus = SPR_operaciones_mineras_espanolas
		}

		cost = 8

		available = {
			owns_state = 944
			custom_trigger_tooltip = {
				tooltip = SPR_galician_opinion_above_70_tt
				check_variable = { SPR_culture_opinion^2 > 69 }
			}
			NOT = { has_completed_focus = SPR_ban_galician }
		}

		search_filters = { FOCUS_FILTER_RESOURCE FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_galician_mines"

			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = tungsten
				amount = 4
				state = 944
			}

			add_resource = {
				type = steel
				amount = 4
				state = 944
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_basque_mines
		icon = mining_truck
		x = -2
		y = 4
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_galician_mines
			focus = SPR_extremadura_mines
			focus = SPR_asturian_mines
		}

		cost = 8

		available = {
			owns_state = 88
			custom_trigger_tooltip = {
				tooltip = SPR_basque_opinion_above_70_tt
				check_variable = { SPR_culture_opinion^1 > 69 }
			}
			NOT = { has_completed_focus = SPR_ban_the_basque }
		}

		search_filters = { FOCUS_FILTER_RESOURCE FOCUS_FILTER_SPR_CULTURE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_basque_mines"

			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 5 }
			SPR_modify_cultural_opinion = yes

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = tungsten
				amount = 4
				state = 88
			}

			add_resource = {
				type = steel
				amount = 4
				state = 88
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_extremadura_mines
		icon = mining_truck
		x = 2
		y = 3
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_ICMM_mining_operations
			focus = SPR_operaciones_mineras_espanolas
		}

		cost = 8

		available = {
			owns_state = 968
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_extremadura_mines"

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = tungsten
				amount = 4
				state = 968
			}

			add_resource = {
				type = chromium
				amount = 4
				state = 968
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_murcian_mines
		icon = mining_truck
		x = 2
		y = 4
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_galician_mines
			focus = SPR_extremadura_mines
			focus = SPR_asturian_mines
		}
		cost = 8

		available = {
			owns_state = 969
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_murcian_mines"

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			add_resource = {
				type = steel
				amount = 4
				state = 969
			}

			add_resource = {
				type = chromium
				amount = 4
				state = 969
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_modernize_mining_operations
		icon = tech_sharing
		x = 0
		y = 5
		relative_position_id = SPR_mineria_espanola

		prerequisite = {
			focus = SPR_basque_mines
			focus = SPR_murcian_mines
			focus = SPR_andalucian_mines
		 }

		cost = 8

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_modernize_mining_operations"

			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes
			change_international_bankers_opinion = yes

			add_tech_bonus = {
				name = excavation_tech
				bonus = 1.00
				uses = 2
				category = excavation_tech
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_fabricacion_espanola
		x = -1
		y = 1
		icon = factory_planning
		relative_position_id = SPR_industria_espanola

		prerequisite = { focus = SPR_industria_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fabricacion_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_communist_cadres_opinion = yes

			add_tech_bonus = {
				name = Cat_3D
				bonus = 0.15
				uses = 1
				category = Cat_3D
			}

			add_tech_bonus = {
				name = Cat_NFIBERS
				bonus = 0.15
				uses = 1
				category = Cat_NFIBERS
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_grupo_antolin
		x = -2
		y = 1
		icon = generic_machinery
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_fabricacion_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_grupo_antolin"

			add_tech_bonus = {
				name = Cat_UTIL
				bonus = 0.25
				uses = 1
				category = Cat_UTIL
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_grifols
		x = 0
		y = 1
		icon = medicine
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_fabricacion_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_grifols"

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.25
				uses = 1
				category = Cat_GENES
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_kemira_iberica
		x = 2
		y = 1
		icon = barrels
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_fabricacion_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_kemira_iberica"

			add_tech_bonus = {
				name = Cat_ARTILLERY
				bonus = 0.15
				uses = 1
				category = Cat_ARTILLERY
			}

			add_tech_bonus = {
				name = Cat_NFIBERS
				bonus = 0.15
				uses = 1
				category = Cat_NFIBERS
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_anti_deindustrialization
		x = 0
		y = 2
		icon = ferro_factory
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_grifols }
		prerequisite = { focus = SPR_grupo_antolin }
		prerequisite = { focus = SPR_kemira_iberica }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_anti_deindustrialization"

			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_communist_cadres_opinion = yes

			swap_ideas = {
				remove_idea = SPR_deindustrialization
				add_idea = SPR_deindustrialization_2
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_urovesa
		x = -2
		y = 3
		icon = uro
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_anti_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_urovesa"
			if = { limit = { NOT = { has_dlc = "Arms Against Tyranny" } }
				if = {
					limit = { has_idea = Generic_tank_manufacturer }
					swap_ideas = {
						remove_idea = Generic_tank_manufacturer
						add_idea = SPR_urovesa_tank_manufacturer
					}
				}
				else_if = {
					limit = { NOT = { has_idea = SPR_urovesa_tank_manufacturer has_idea = SPR_santa_barbara_sistemas_tank_manufacturer } }
					add_ideas = SPR_urovesa_tank_manufacturer
				}
				else = {
					add_tech_bonus = {
						name = Cat_UTIL
						bonus = 0.25
						uses = 1
						category = Cat_UTIL
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_UTIL
					bonus = 0.25
					uses = 1
					category = Cat_UTIL
				}
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_court_lilly
		x = 0
		y = 3
		icon = medicine2
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_anti_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_court_lilly"

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.25
				uses = 1
				category = Cat_GENES
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_ercros
		x = 2
		y = 3
		icon = rubber_production
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_anti_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ercros"

			add_tech_bonus = {
				name = Cat_ARTILLERY
				bonus = 0.15
				uses = 1
				category = Cat_ARTILLERY
			}

			add_tech_bonus = {
				name = Cat_NFIBERS
				bonus = 0.15
				uses = 1
				category = Cat_NFIBERS
			}
			one_random_industrial_complex = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_de_deindustrialization
		x = 0
		y = 4
		icon = rustavi_metal
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_court_lilly }
		prerequisite = { focus = SPR_urovesa }
		prerequisite = { focus = SPR_ercros }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_de_deindustrialization"

			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_communist_cadres_opinion = yes

			swap_ideas = {
				remove_idea = SPR_deindustrialization_2
				add_idea = SPR_deindustrialization_3
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_seat
		x = -2
		y = 5
		icon = seat
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_de_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_seat"

			add_tech_bonus = {
				name = Cat_UTIL
				bonus = 0.25
				uses = 1
				category = Cat_UTIL
			}
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_court_novartis
		x = 0
		y = 5
		icon = generic_healthcare
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_de_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_court_novartis"

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.25
				uses = 1
				category = Cat_GENES
			}
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_basf_espanola
		x = 2
		y = 5
		icon = research3
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_de_deindustrialization }

		cost = 8

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_basf_espanola"

			add_tech_bonus = {
				name = Cat_ARTILLERY
				bonus = 0.15
				uses = 1
				category = Cat_ARTILLERY
			}

			add_tech_bonus = {
				name = Cat_NFIBERS
				bonus = 0.15
				uses = 1
				category = Cat_NFIBERS
			}
			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_un_deindustrialization
		x = 0
		y = 6
		icon = industrialization
		relative_position_id = SPR_fabricacion_espanola

		prerequisite = { focus = SPR_court_novartis }
		prerequisite = { focus = SPR_seat }
		prerequisite = { focus = SPR_basf_espanola }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_un_deindustrialization"

			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_industrial_conglomerates_opinion = yes
			change_communist_cadres_opinion = yes

			remove_ideas = SPR_deindustrialization_3
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 8
				OR = {
					has_idea = SPR_deindustrialization
					has_idea = SPR_deindustrialization_2
					has_idea = SPR_deindustrialization_3
				}
			}
		}
	}

	focus = {
		id = SPR_energia_espanola
		x = 13
		y = 1
		icon = powerplant
		relative_position_id = SPR_industria_espanola

		prerequisite = { focus = SPR_industria_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_energia_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_landowners_opinion = yes

			add_tech_bonus = {
				name = Cat_FUEL_OIL
				bonus = 0.25
				uses = 1
				category = Cat_FUEL_OIL
			}

			add_ideas = SPR_idea_refinery_expansion_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_improve_our_refineries
		x = -1
		y = 1
		icon = oil_production2
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_energia_espanola }

		cost = 6

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_improve_our_refineries"

			set_temp_variable = { treasury_change = -0.50 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_FUEL_OIL
				bonus = 0.25
				uses = 1
				category = Cat_FUEL_OIL
			}

			swap_ideas = {
				remove_idea = SPR_idea_refinery_expansion_1 add_idea = SPR_idea_refinery_expansion_2
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_repsol_acquisitions
		x = -1
		y = 2
		icon = refineries_abroad
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_improve_our_refineries }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repsol_acquisitions"

			set_temp_variable = { percent_change = 3 }
			set_temp_variable = { tag_index = ROOT }
			set_temp_variable = { influence_target = CAN.id }
			change_influence_percentage = yes

			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_expand_cnat
		x = 1
		y = 1
		icon = nuclear_energy
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_energia_espanola }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expand_cnat"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.01 }
			set_temp_variable = { temp_outlook_increase = 0.01 }
			add_relative_party_popularity = yes

			add_ideas = SPR_idea_nuclear_energy_expansion_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_subsidies_for_endesa
		x = 1
		y = 2
		icon = endesa
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_expand_cnat }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_subsidies_for_endesa"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.01 }
			set_temp_variable = { temp_outlook_increase = 0.01 }
			add_relative_party_popularity = yes

			one_random_nuclear_reactor = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_subsidies_for_iberdrola
		x = 3
		y = 2
		icon = iberdrola_logo
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_expand_cnat }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_subsidies_for_iberdrola"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.01 }
			set_temp_variable = { temp_outlook_increase = 0.01 }
			add_relative_party_popularity = yes

			one_random_nuclear_reactor = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_el_oro_negro
		x = -2
		y = 3
		icon = seize_oil
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_repsol_acquisitions }
		mutually_exclusive = { focus = SPR_va_verde }

		cost = 5

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_el_oro_negro"

			every_country = {
				limit = {
					is_in_array = { global.EU_member = THIS.id }
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = small_decrease
				}
			}
			set_temp_variable = { modify_eurosceptic = 0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes

			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			if = { limit = { has_country_flag = SPR_prestige_oil_spill }
				add_stability = -0.05
			}

			add_ideas = SPR_idea_spanish_oil_fever_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_va_verde
		x = 2
		y = 3
		icon = windmills
		relative_position_id = SPR_energia_espanola

		prerequisite = {
			focus = SPR_subsidies_for_endesa
			focus = SPR_subsidies_for_iberdrola
		}
		mutually_exclusive = { focus = SPR_el_oro_negro }

		cost = 5

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_va_verde"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			every_country = {
					limit = {
						OR = {
							has_idea = EU_member
						}
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = medium_increase
					}
			}

			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			add_ideas = SPR_idea_green_revolution_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_deal_with_the_environmentalists
		x = -2
		y = 4
		icon = political_arrests
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_el_oro_negro }

		cost = 9

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_deal_with_the_environmentalists"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = -0.04 }
			set_temp_variable = { temp_outlook_increase = -0.04 }
			add_relative_party_popularity = yes

			every_country = {
				limit = {
					OR = {
						has_idea = EU_member
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = small_decrease
				}
			}
			set_temp_variable = { modify_eurosceptic = 0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			add_stability = -0.02

			swap_ideas = {
				remove_idea = SPR_idea_spanish_oil_fever_1 add_idea = SPR_idea_spanish_oil_fever_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_increase_refining_capacity
		x = -1
		y = 5
		icon = oil_production2
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_deal_with_the_environmentalists }

		cost = 8

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_increase_refining_capacity"

			set_temp_variable = { treasury_change = -0.50 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_FUEL_OIL
				bonus = 0.25
				uses = 1
				category = Cat_FUEL_OIL
			}

			swap_ideas = {
				remove_idea = SPR_idea_refinery_expansion_2 add_idea = SPR_idea_refinery_expansion_3
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_remove_brussels_shackles
		x = -1
		y = 6
		icon = euroscepticism
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_increase_refining_capacity }

		cost = 5

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_remove_brussels_shackles"

			every_country = {
				limit = {
					OR = {
						has_idea = EU_member
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = small_decrease
				}
			}

			set_temp_variable = { modify_eurosceptic = 0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			add_stability = -0.02

			swap_ideas = {
				remove_idea = SPR_idea_spanish_oil_fever_2 add_idea = SPR_idea_spanish_oil_fever_3
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eivissa_diu_si
		x = -3
		y = 5
		icon = oil
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_deal_with_the_environmentalists }

		cost = 8

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eivissa_diu_si"

			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = -5 }
			SPR_modify_cultural_opinion = yes

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			add_resource = {
				type = oil
				amount = 8
				state = 94
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_canaries_islands_drilling
		x = -3
		y = 6
		icon = oil
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_eivissa_diu_si }

		cost = 8

		available = {
			owns_state = 95
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_canaries_islands_drilling"

			set_temp_variable = { culture_index = 4 }
			set_temp_variable = { cultural_opinion = -15 }
			SPR_modify_cultural_opinion = yes

			set_temp_variable = { treasury_change = -7.50 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			add_resource = {
				type = oil
				amount = 8
				state = 95
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_oil_independance
		x = -2
		y = 7
		icon = oil_companies
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_canaries_islands_drilling }
		prerequisite = { focus = SPR_remove_brussels_shackles }

		cost = 7

		available = {
			neutrality_neutral_green_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
		}

		search_filters = { FOCUS_FILTER_RESOURCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_oil_independance"

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes

			set_temp_variable = { temp_opinion = 5 }
			change_fossil_fuel_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_FUEL_OIL
				bonus = 1.00
				uses = 1
				category = Cat_FUEL_OIL
			}

			swap_ideas = {
				remove_idea = SPR_idea_spanish_oil_fever_3 add_idea = SPR_idea_spanish_oil_fever_4
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_vientos_del_sur
		x = 1
		y = 4
		icon = windmill
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_va_verde }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_vientos_del_sur"

			set_temp_variable = { treasury_change = -3.60 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = -5 }
			change_landowners_opinion = yes

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.01 }
			set_temp_variable = { temp_outlook_increase = 0.01 }
			add_relative_party_popularity = yes

			970 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}

			add_ideas = SPR_idea_spanish_wind_farms_1
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_vientos_marinos
		x = 1
		y = 5
		icon = windmill
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_vientos_del_sur }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_vientos_marinos"

			set_temp_variable = { treasury_change = -10.80 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = -5 }
			change_landowners_opinion = yes

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.03 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes

			944 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}

			89 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}

			1040 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}

			swap_ideas = {
				remove_idea = SPR_idea_spanish_wind_farms_1 add_idea = SPR_idea_spanish_wind_farms_2
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_vientos_del_norte
		x = 1
		y = 6
		icon = windmill
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_vientos_marinos }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_vientos_del_norte"

			set_temp_variable = { treasury_change = -18.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = -5 }
			change_landowners_opinion = yes

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			88 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}
			1042 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}
			1041 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}
			87 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}
			90 = {
				add_dynamic_modifier = { modifier = SPR_wind_farms }
			}

			swap_ideas = {
				remove_idea = SPR_idea_spanish_wind_farms_2 add_idea = SPR_idea_spanish_wind_farms_3
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_repsol_se_vuelve_verde
		x = 3
		y = 4
		icon = BRA_renewable_energy_funds
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_va_verde }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_repsol_se_vuelve_verde"

			swap_ideas = {
				remove_idea = SPR_idea_green_revolution_1 add_idea = SPR_idea_green_revolution_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_endorse_eu_regulations
		x = 3
		y = 5
		icon = align_to_europe
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_repsol_se_vuelve_verde }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_endorse_eu_regulations"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			every_country = {
				limit = {
					OR = {
						has_idea = EU_member
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}
			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nuclear_acceptance_campaign
		x = 3
		y = 6
		icon = propaganda
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_endorse_eu_regulations }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nuclear_acceptance_campaign"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.06 }
			set_temp_variable = { temp_outlook_increase = 0.06 }
			add_relative_party_popularity = yes

			swap_ideas = {
				remove_idea = SPR_idea_nuclear_energy_expansion_1 add_idea = SPR_idea_nuclear_energy_expansion_2
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_Armonia_con_la_naturaleza
		x = 2
		y = 7
		icon = sustainable_development
		relative_position_id = SPR_energia_espanola

		prerequisite = { focus = SPR_nuclear_acceptance_campaign }
		prerequisite = { focus = SPR_vientos_del_norte }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_Armonia_con_la_naturaleza"

			set_temp_variable = { party_index = 17 }
			set_temp_variable = { party_popularity_increase = 0.10 }
			set_temp_variable = { temp_outlook_increase = 0.10 }
			add_relative_party_popularity = yes

			swap_ideas = {
				remove_idea = SPR_idea_green_revolution_2 add_idea = SPR_idea_green_revolution_3
			}

			add_tech_bonus = {
				name = Cat_GENES
				bonus = 0.50
				uses = 2
				category = Cat_GENES
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	##Economy

	focus = {
		id = SPR_economia_espanola
		x = 72
		y = 11
		icon = money

		cost = 5

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_economia_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			set_temp_variable = { treasury_change = 5.00 }
			modify_treasury_effect = yes

			add_political_power = 50
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_sector_servicios_espanol
		x = -9
		y = 1
		icon = market_economy
		relative_position_id = SPR_economia_espanola

		prerequisite = { focus = SPR_economia_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_sector_servicios_espanol"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			add_tech_bonus = {
				name = construction_tech
				bonus = 0.25
				uses = 1
				category = construction_tech
			}

			add_political_power = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mfom
		x = 2
		y = 3
		icon = infrastructure
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_sector_servicios_espanol }

		cost = 7

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mfom"
			one_random_infrastructure = yes
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_world_renowned_infrastructure
		x = 2
		y = 5
		icon = infrastructure1
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_mfom }

		cost = 7

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_world_renowned_infrastructure"

			add_tech_bonus = {
				name = construction_tech
				bonus = 0.25
				uses = 1
				category = construction_tech
			}
			one_random_infrastructure = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_long_walks_on_the_beach
		x = -2
		y = 1
		icon = armenia_turizm
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_sector_servicios_espanol }

		cost = 6

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_long_walks_on_the_beach"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			set_variable = { SPR_tourism_1_effect = 0.4 }
			add_ideas = SPR_idea_tourist_industry_1

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tourist_traps
		x = -2
		y = 3
		icon = cruiserliner
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_long_walks_on_the_beach }

		cost = 6

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tourist_traps"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			set_variable = { SPR_tourism_2_effect = 0.8 }

			remove_ideas = SPR_idea_tourist_industry_1
			add_ideas = SPR_idea_tourist_industry_2

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_power_of_the_vacation
		x = -2
		y = 5
		icon = save_the_alcazar
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_tourist_traps }

		cost = 6

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_power_of_the_vacation"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			set_variable = { SPR_tourism_3_effect = 1.2 }

			remove_ideas = SPR_idea_tourist_industry_2
			add_ideas = SPR_idea_tourist_industry_3
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bbva
		x = 0
		y = 2
		icon = generic_banks
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_sector_servicios_espanol }

		cost = 8

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bbva"

			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes

			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_banco_santander
		x = 0
		y = 4
		icon = generic_banks
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_bbva }
		cost = 8

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_banco_santander"

			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes

			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_prosperidad_espanola
		x = 0
		y = 6
		icon = economic_prosperity
		relative_position_id = SPR_sector_servicios_espanol

		prerequisite = { focus = SPR_banco_santander }
		prerequisite = { focus = SPR_power_of_the_vacation }
		prerequisite = { focus = SPR_world_renowned_infrastructure }

		cost = 10

		search_filters = { FOCUS_FILTER_INTERNAL_FACTION FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_prosperidad_espanola"

			set_temp_variable = { temp_opinion = 5 }
			change_small_medium_business_owners_opinion = yes

			set_temp_variable = { temp_opinion = 5 }
			change_international_bankers_opinion = yes

			increase_economic_growth = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_comercio_espanol
		x = -3
		y = 1
		icon = trade
		relative_position_id = SPR_economia_espanola

		prerequisite = { focus = SPR_economia_espanola }

		cost = 8

		search_filters = { FOCUS_FILTER_TRADE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_comercio_espanol"

			add_ideas = SPR_idea_trade_focus_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_african_soft_power
		x = -1
		y = 1
		icon = Influence_North_Africa
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_comercio_espanol }

		cost = 10

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_african_soft_power"

			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = SPR.id }
			set_temp_variable = { influence_target = MOR.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = ALG.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = EGY.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = SEN.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = CDI.id }
			change_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_focus_africa
		x = -1
		y = 2
		icon = trade_with_east_africa
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_african_soft_power }

		cost = 10

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_focus_africa"

			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = SPR.id }
			set_temp_variable = { influence_target = GAH.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = NIG.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = AGL.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = SAF.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = MOZ.id }
			change_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_europes_southern_doormat
		x = -1
		y = 3
		icon = spanish_africa
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_focus_africa }

		cost = 10

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_europes_southern_doormat"

			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = SPR.id }
			set_temp_variable = { influence_target = TNZ.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = RWA.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = UGA.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = KEN.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = ETH.id }
			change_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_address_the_trade_deficit
		x = 2
		y = 1
		icon = ExpandTrade
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_comercio_espanol }

		cost = 6

		search_filters = { FOCUS_FILTER_TRADE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_address_the_trade_deficit"

			swap_ideas = {
				remove_idea = SPR_idea_trade_focus_1
				add_idea = SPR_idea_trade_focus_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_oei
		x = 1
		y = 2
		icon = Latin_Popular_Union
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_address_the_trade_deficit }

		cost = 5

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_oei"

			set_temp_variable = { percent_change = 1 }
			set_temp_variable = { tag_index = SPR.id }
			set_temp_variable = { influence_target = ADO.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = EGU.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = ARG.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = CHL.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = URG.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = PAR.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = BRA.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = BOL.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = PRU.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = ECU.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = COL.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = PRU.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = VEN.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = PAN.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = COS.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = NIC.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = HON.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = GUA.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = ELS.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = MEX.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = CUB.id }
			change_influence_percentage = yes
			set_temp_variable = { influence_target = DOM.id }
			change_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_acquire_british_companies
		x = 3
		y = 2
		icon = focus_england_money_vizhat
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_address_the_trade_deficit }

		cost = 5

		search_filters = { FOCUS_FILTER_INFLUENCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_acquire_british_companies"

			set_temp_variable = { percent_change = 5 }
			set_temp_variable = { tag_index = SPR.id }
			set_temp_variable = { influence_target = ENG.id }
			change_influence_percentage = yes

			one_office_construction = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reverse_the_trade_deficit
		x = 2
		y = 3
		icon = expand_trade_fleet
		relative_position_id = SPR_comercio_espanol

		prerequisite = { focus = SPR_the_oei }
		prerequisite = { focus = SPR_acquire_british_companies }

		cost = 8

		search_filters = { FOCUS_FILTER_TRADE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reverse_the_trade_deficit"

			swap_ideas = {
				remove_idea = SPR_idea_trade_focus_2
				add_idea = SPR_idea_trade_focus_3
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_hybrid_territorial_model
		x = 4
		y = 1
		icon = BRA_decentralization
		relative_position_id = SPR_economia_espanola

		prerequisite = { focus = SPR_economia_espanola }
		mutually_exclusive = { focus = SPR_federalization_with_spanish_characteristics }

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_hybrid_territorial_model"

			swap_ideas = {
				remove_idea = SPR_idea_regional_autonomy
				add_idea = SPR_idea_regional_autonomy_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_align_regional_incentives
		x = -1
		y = 1
		icon = protectionist_economics
		relative_position_id = SPR_hybrid_territorial_model

		prerequisite = { focus = SPR_hybrid_territorial_model }

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_align_regional_incentives"

			if = {
				limit = { has_idea = SPR_idea_regional_autonomy_2 }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2 add_idea = SPR_idea_regional_autonomy_2_a }
			}
			else_if = {
				limit = { has_idea = SPR_idea_regional_autonomy_2_b }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2_b add_idea = SPR_idea_regional_autonomy_2_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2 add_idea = SPR_idea_regional_autonomy_2_a }
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_healthy_regional_competition
		x = 1
		y = 1
		icon = BRA_libertarian_economics
		relative_position_id = SPR_hybrid_territorial_model

		prerequisite = { focus = SPR_hybrid_territorial_model }

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_healthy_regional_competition"

			if = {
				limit = { has_idea = SPR_idea_regional_autonomy_2 }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2 add_idea = SPR_idea_regional_autonomy_2_b }
			}
			else_if = {
				limit = { has_idea = SPR_idea_regional_autonomy_2_a }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2_a add_idea = SPR_idea_regional_autonomy_2_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2 add_idea = SPR_idea_regional_autonomy_2_b }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_coffee_for_all
		x = 0
		y = 2
		icon = decentralized_economy
		relative_position_id = SPR_hybrid_territorial_model

		prerequisite = { focus = SPR_align_regional_incentives }
		prerequisite = { focus = SPR_healthy_regional_competition }

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_coffee_for_all"

			swap_ideas = { remove_idea = SPR_idea_regional_autonomy_2_a_b add_idea = SPR_idea_regional_autonomy_3 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_federalization_with_spanish_characteristics
		x = 8
		y = 1
		icon = national_unity
		relative_position_id = SPR_economia_espanola

		prerequisite = { focus = SPR_economia_espanola }
		mutually_exclusive = { focus = SPR_hybrid_territorial_model }

		available = {
			has_completed_focus = SPR_revisit_federalism
		}

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_federalization_with_spanish_characteristics"

			swap_ideas = {
				remove_idea = SPR_idea_regional_autonomy
				add_idea = SPR_idea_regional_autonomy_reduced_1
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_merge_treasuries
		x = -1
		y = 1
		icon = economic_crisis
		relative_position_id = SPR_federalization_with_spanish_characteristics

		prerequisite = { focus = SPR_federalization_with_spanish_characteristics }

		available = {
			has_completed_focus = SPR_the_federalization_idea
		}

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_merge_treasuries"

			#add $177 to debt based on research
			set_temp_variable = { debt_change = 117 }
			modify_debt_effect = yes

			set_temp_variable = { treasury_change = 25.00 }
			modify_treasury_effect = yes

			if = {
				limit = { has_idea = SPR_idea_regional_autonomy_reduced_1 }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_1 add_idea = SPR_idea_regional_autonomy_reduced_2_a }
			}
			else_if = {
				limit = { has_idea = SPR_idea_regional_autonomy_reduced_2_b }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_2_b add_idea = SPR_idea_regional_autonomy_reduced_2_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_1 add_idea = SPR_idea_regional_autonomy_reduced_2_a }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_unify_ministries
		x = 1
		y = 1
		icon = Generic_Loadsamoney
		relative_position_id = SPR_federalization_with_spanish_characteristics

		prerequisite = { focus = SPR_federalization_with_spanish_characteristics }

		available = {
			has_completed_focus = SPR_the_federalization_idea
		}
		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_unify_ministries"

			add_political_power = 100

			if = {
				limit = { has_idea = SPR_idea_regional_autonomy_reduced_1 }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_1 add_idea = SPR_idea_regional_autonomy_reduced_2_b }
			}
			else_if = {
				limit = { has_idea = SPR_idea_regional_autonomy_reduced_2_a }

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_2_a add_idea = SPR_idea_regional_autonomy_reduced_2_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_regional_autonomy_reduced_1 add_idea = SPR_idea_regional_autonomy_reduced_2_b }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_federalism_with_extra_steps
		x = 0
		y = 2
		icon = centralization
		relative_position_id = SPR_federalization_with_spanish_characteristics

		prerequisite = { focus = SPR_merge_treasuries }
		prerequisite = { focus = SPR_unify_ministries }

		available = {
			has_completed_focus = SPR_finalize_the_transition
		}

		cost = 6.8

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_federalism_with_extra_steps"

			remove_ideas = SPR_idea_regional_autonomy_reduced_2_a_b
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_integrate_the_underground_economy
		x = 13
		y = 1
		icon = money_on_fire
		relative_position_id = SPR_economia_espanola

		prerequisite = { focus = SPR_economia_espanola }

		cost = 6

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_integrate_the_underground_economy"

			swap_ideas = {
				remove_idea = SPR_idea_grey_market
				add_idea = SPR_idea_grey_market_1
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_crack_down_on_the_grey_market
		x = -1
		y = 1
		icon = political_arrests
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_integrate_the_underground_economy }
		mutually_exclusive = { focus = SPR_ease_labour_laws }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_crack_down_on_the_grey_market"

			add_stability = -0.05
			add_political_power = 150

			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.05 }
			set_temp_variable = { temp_outlook_increase = -0.05 }
			add_relative_party_popularity = yes

			set_temp_variable = { temp_opinion = 5 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
			change_farmers_opinion = yes

			swap_ideas = {
				remove_idea = SPR_idea_grey_market_1
				add_idea = SPR_idea_grey_market_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ease_labour_laws
		x = 1
		y = 1
		icon = BRA_labor_laws
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_integrate_the_underground_economy }
		mutually_exclusive = { focus = SPR_crack_down_on_the_grey_market }

		cost = 5

		search_filters = { FOCUS_FILTER_EUROPEAN_UNION FOCUS_FILTER_INTERNAL_FACTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ease_labour_laws"

			if = {
				limit = { NOT = { has_global_flag = GAME_RULE_eu_disabled } }
				set_temp_variable = { modify_eurosceptic = 0.05 }
				set_temp_variable = { modify_eurosceptic_target = ROOT }
				eurosceptic_change = yes
			}

			set_temp_variable = { party_index = 15 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			set_temp_variable = { temp_opinion = -5 }
			change_labour_unions_opinion = yes
			change_communist_cadres_opinion = yes
			set_temp_variable = { temp_opinion = 5 }
			change_landowners_opinion = yes
			change_oligarchs_opinion = yes

			swap_ideas = {
				remove_idea = SPR_idea_grey_market_1
				add_idea = SPR_idea_grey_market_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tax_cuts
		x = -1
		y = 2
		icon = radical_tax_reform
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_ease_labour_laws focus = SPR_crack_down_on_the_grey_market }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tax_cuts"

			set_temp_variable = { pop_change = -3 }
			modify_population_tax_rate_effect = yes

			if = {
				limit = { has_idea = SPR_idea_grey_market_2 }

				swap_ideas = { remove_idea = SPR_idea_grey_market_2 add_idea = SPR_idea_grey_market_3_a }
			}
			else_if = {
				limit = { has_idea = SPR_idea_grey_market_3_b }

				swap_ideas = { remove_idea = SPR_idea_grey_market_3_b add_idea = SPR_idea_grey_market_3_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_grey_market_2 add_idea = SPR_idea_grey_market_3_a }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_labour_investments
		x = 1
		y = 2
		icon = free_higher_education
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_ease_labour_laws focus = SPR_crack_down_on_the_grey_market }

		cost = 5

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_labour_investments"

			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes

			increase_education_budget = yes

			if = {
				limit = { has_idea = SPR_idea_grey_market_2 }

				swap_ideas = { remove_idea = SPR_idea_grey_market_2 add_idea = SPR_idea_grey_market_3_b }
			}
			else_if = {
				limit = { has_idea = SPR_idea_grey_market_3_a }

				swap_ideas = { remove_idea = SPR_idea_grey_market_3_a add_idea = SPR_idea_grey_market_3_a_b }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_grey_market_2 add_idea = SPR_idea_grey_market_3_b }
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bring_textiles_into_the_fold
		x = 0
		y = 3
		icon = i_love_pink_shirt
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_labour_investments }
		prerequisite = { focus = SPR_tax_cuts }

		cost = 7.86

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bring_textiles_into_the_fold"

			if = {
				limit = { has_idea = SPR_idea_grey_market_3_a }

				swap_ideas = { remove_idea = SPR_idea_grey_market_3_a add_idea = SPR_idea_grey_market_4 }
			}
			else_if = {
				limit = { has_idea = SPR_idea_grey_market_3_b }

				swap_ideas = { remove_idea = SPR_idea_grey_market_3_b add_idea = SPR_idea_grey_market_4 }
			} else_if = {
				limit = { has_idea = SPR_idea_grey_market_3_a_b }

				swap_ideas = { remove_idea = SPR_idea_grey_market_3_a_b add_idea = SPR_idea_grey_market_4 }
			} else = {

				swap_ideas = { remove_idea = SPR_idea_grey_market add_idea = SPR_idea_grey_market_4 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bring_field_hands_into_the_fold
		x = 0
		y = 4
		icon = farming_sector
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_bring_textiles_into_the_fold }

		cost = 7.86

		search_filters = { FOCUS_FILTER_ECONOMY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bring_field_hands_into_the_fold"

			swap_ideas = {
				remove_idea = SPR_idea_grey_market_4
				add_idea = SPR_idea_grey_market_5
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bring_construction_workers_into_the_fold
		x = 0
		y = 5
		icon = construction4
		relative_position_id = SPR_integrate_the_underground_economy

		prerequisite = { focus = SPR_bring_field_hands_into_the_fold }

		cost = 7.86

		search_filters = { FOCUS_FILTER_ECONOMY FOCUS_FILTER_CORRUPTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bring_construction_workers_into_the_fold"

			remove_ideas = SPR_idea_grey_market_5

			decrease_corruption = yes
		}

		ai_will_do = {
			factor = 1
		}
	}



	##Military

	focus = {
		id = SPR_ejercito_de_tierra
		x = 100
		y = 2
		icon = Spanish_Army_2
		cost = 10

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ejercito_de_tierra"

			army_experience = 25
			add_command_power = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_programa_coraza_2000
		x = -5
		y = 1
		icon = tanks2
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_programa_coraza_2000"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 0.50
				uses = 1
				category = Cat_TANKS
			}

			army_experience = 15
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_german_designs
		x = -5
		y = 2
		icon = leopard_2a4
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_programa_coraza_2000 }
		mutually_exclusive = { focus = SPR_domestic_designs }
		mutually_exclusive = { focus = SPR_american_designs }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_german_designs"

			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 0.25
				uses = 2
				category = Cat_TANKS
			}

			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = GER }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			if = {
				limit = { has_dlc = "Death or Dishonor" }
				if = {
					limit = { has_dlc = "No Step Back" }
					GER = {
						create_production_license = {
							target = SPR
							equipment = {
								type = mbt_hull_2
							}
							cost_factor = 0
						}
					}
				}
				else = {
					GER = {
						create_production_license = {
							target = SPR
							equipment = {
								type = MBT_4
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_4
					amount = 200
					producer = GER
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_american_designs
		x = -3
		y = 2
		icon = m1a1_abrams
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_programa_coraza_2000 }
		mutually_exclusive = { focus = SPR_german_designs }
		mutually_exclusive = { focus = SPR_domestic_designs }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_american_designs"

			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 0.25
				uses = 2
				category = Cat_TANKS
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = democratic popularity = 0.05 }
			recalculate_party = yes
			if = {
				limit = { has_dlc = "Death or Dishonor" }
				if = {
					limit = { has_dlc = "No Step Back" }
					USA = {
						create_production_license = {
							target = SPR
							equipment = {
								type = mbt_hull_2
							}
							cost_factor = 0
						}
					}
				}
				else = {
					USA = {
						create_production_license = {
							target = SPR
							equipment = {
								type = MBT_4
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_4
					amount = 200
					producer = USA
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_domestic_designs
		x = -7
		y = 2
		icon = Generic_Refit_Tanks
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_programa_coraza_2000 }
		mutually_exclusive = { focus = SPR_german_designs }
		mutually_exclusive = { focus = SPR_american_designs }

		cost = 6

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_domestic_designs"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 1.00
				uses = 1
				category = Cat_TANKS
			}

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_learn_from_the_lince
		x = -7
		y = 3
		icon = Focus_Examine_Foreign_Tanks
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_domestic_designs }

		cost = 9

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_learn_from_the_lince"

			set_temp_variable = { treasury_change = -8.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_TANKS
				bonus = 1.00
				uses = 2
				category = Cat_TANKS
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tank_cooperation
		x = -4
		y = 3
		icon = diplomatic_treaty
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_american_designs  focus = SPR_german_designs }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tank_cooperation"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_TANKS
					bonus = 0.25
					uses = 2
					category = Cat_TANKS
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_ifv_programme
		x = 0
		y = 1
		icon = ifv
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_ifv_programme"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_tech_bonus = {
				name = Cat_IFV
				bonus = 0.25
				uses = 1
				category = Cat_IFV
			}

			army_experience = 30
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reafirm_the_ascod_project
		x = -1
		y = 2
		icon = align_to_austria2
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_spanish_ifv_programme }
		mutually_exclusive = { focus = SPR_pull_out_of_the_ascod_project }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reafirm_the_ascod_project"

			add_tech_bonus = {
				name = Cat_IFV
				bonus = 0.25
				uses = 1
				category = Cat_IFV
			}

			add_opinion_modifier = {
				target = AUS
				modifier = large_increase
			}

			AUS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = AUS.id }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = ROOT.id }
			set_temp_variable = { influence_target = AUS.id }
			change_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_ifv_cooperation
		x = -1
		y = 3
		icon = diplomatic_treaty
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_reafirm_the_ascod_project }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ifv_cooperation"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_TANKS
					bonus = 0.25
					uses = 2
					category = Cat_TANKS
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_pull_out_of_the_ascod_project
		x = 1
		y = 2
		icon = attack_austria
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_spanish_ifv_programme }
		mutually_exclusive = { focus = SPR_reafirm_the_ascod_project }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_pull_out_of_the_ascod_project"

			add_tech_bonus = {
				name = Cat_IFV
				bonus = 0.50
				uses = 1
				category = Cat_IFV
			}

			add_opinion_modifier = {
				target = AUS
				modifier = medium_decrease
			}

			AUS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_decrease
				}
			}

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_new_ifv_enters_the_scene
		x = 1
		y = 3
		icon = MEX_SEDENA_IFV
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_pull_out_of_the_ascod_project }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_new_ifv_enters_the_scene"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_IFV
				bonus = 1.00
				uses = 1
				category = Cat_IFV
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_apc_modernization
		x = 5
		y = 1
		icon = apc
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_apc_modernization"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_tech_bonus = {
				name = Cat_APC
				bonus = 0.25
				uses = 1
				category = Cat_APC
			}

			army_experience = 30
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mowag
		x = 3
		y = 2
		icon = align_to_switzerland
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_apc_modernization }
		mutually_exclusive = { focus = SPR_general_dynamics_land_systems focus = SPR_revive_enasa }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mowag"

			add_tech_bonus = {
				name = Cat_APC
				bonus = 0.25
				uses = 1
				category = Cat_APC
			}

			SWI = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}
			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = SWI }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = neutrality popularity = 0.05 }
			recalculate_party = yes

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = {
					limit = { has_dlc = "No Step Back" }
					SWI = {
						create_production_license = {
							target = SPR
							equipment = {
								type = apc_hull_0
								version = 2
							}
							cost_factor = 0
						}
					}
				}
				else = {
					SWI = {
						create_production_license = {
							target = SPR
							equipment = {
								type = APC_4
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = APC_4
					amount = 200
					producer = SWI
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_general_dynamics_land_systems
		x = 5
		y = 2
		icon = align_to_america
		relative_position_id = SPR_ejercito_de_tierra
		mutually_exclusive = { focus = SPR_mowag focus = SPR_revive_enasa }

		prerequisite = { focus = SPR_apc_modernization }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_general_dynamics_land_systems"

			add_tech_bonus = {
				name = Cat_APC
				bonus = 0.25
				uses = 1
				category = Cat_APC
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = democratic popularity = 0.05 }
			recalculate_party = yes

			if = { limit = { has_dlc = "Death or Dishonor" }
			if = {
				limit = { has_dlc = "No Step Back" }
				USA = {
					create_production_license = {
						target = SPR
						equipment = {
							type = apc_hull_1
							version = 0
						}
						cost_factor = 0
					}
				}
			}
			else = {
				USA = {
					create_production_license = {
						target = SPR
						equipment = {
							type = APC_4
						}
						cost_factor = 0
					}
				}
			}
			}
			else = {
				add_equipment_to_stockpile = {
					type = APC_4
					amount = 200
					producer = USA
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_apc_cooperation
		x = 4
		y = 3
		icon = spain_layered_map
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_mowag focus = SPR_general_dynamics_land_systems }
		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_apc_cooperation"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_APC
					bonus = 0.25
					uses = 2
					category = Cat_APC
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_revive_enasa
		x = 7
		y = 2
		icon = better_money
		relative_position_id = SPR_ejercito_de_tierra
		mutually_exclusive = { focus = SPR_mowag focus = SPR_general_dynamics_land_systems }

		prerequisite = { focus = SPR_apc_modernization }

		cost = 7

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_revive_enasa"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_APC
				bonus = 0.50
				uses = 1
				category = Cat_APC
			}

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_new_pegaso
		x = 7
		y = 3
		icon = cavalry
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_revive_enasa }

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_new_pegaso"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_APC
				bonus = 0.50
				uses = 1
				category = Cat_APC
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_begin_army_reforms
		x = 11
		y = 1
		icon = army_reform
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_begin_army_reforms"

			add_ideas = SPR_idea_army_reforms_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_maintain_mandatory_service
		x = 10
		y = 2
		icon = conscription
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_begin_army_reforms }
		mutually_exclusive = { focus = SPR_end_mandatory_service }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_maintain_mandatory_service"

			set_temp_variable = { party_index = 21 }
			set_temp_variable = { party_popularity_increase = 0.05 }
			set_temp_variable = { temp_outlook_increase = 0.05 }
			add_relative_party_popularity = yes

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_stability = -0.05

			if = {
				limit = { has_idea = volunteer_army }
				swap_ideas = {
					remove_idea = volunteer_army
					add_idea = draft_army
				}
			}
			else_if = {
				limit = { has_idea = partial_draft_army }
				swap_ideas = {
					remove_idea = partial_draft_army
					add_idea = draft_army
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_end_mandatory_service
		x = 12
		y = 2
		icon = volunteers
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_begin_army_reforms }
		mutually_exclusive = { focus = SPR_maintain_mandatory_service }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_end_mandatory_service"

			if = {
				limit = { has_idea = draft_army }
				swap_ideas = {
					remove_idea = draft_army
					add_idea = volunteer_army
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_mobility_warfare
		x = 10
		y = 3
		icon = Focus_Mobile_Warfare_Doctrine
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_end_mandatory_service focus = SPR_maintain_mandatory_service }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_mobility_warfare"

			add_tech_bonus = {
				name = Cat_SP_ARTY
				bonus = 0.50
				uses = 1
				category = Cat_SP_ARTY
			}

			add_tech_bonus = {
				name = Cat_UTIL
				bonus = 0.50
				uses = 1
				category = Cat_UTIL
			}
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_complete_army_reforms
		x = 10
		y = 4
		icon = army_logistics
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_mobility_warfare }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_complete_army_reforms"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			swap_ideas = {
				remove_idea = SPR_idea_army_reforms_1 add_idea = SPR_idea_army_reforms_2
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_accion_conjunta
		x = 12
		y = 3
		icon = army_doctrine
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_end_mandatory_service focus = SPR_maintain_mandatory_service }

		cost = 7

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_accion_conjunta"

			add_doctrine_cost_reduction = {
				name = SPR_mobility_warfare
				category = land_doctrine
				uses = 1
				cost_reduction = 0.5
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_new_tercio
		x = 12
		y = 4
		icon = Generic_Soldier_Aiming
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_accion_conjunta }

		cost = 7

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_new_tercio"

			add_doctrine_cost_reduction = {
				name = SPR_the_new_tercio
				category = land_doctrine
				uses = 1
				cost_reduction = 0.5
			}

			add_command_power = 25
			army_experience = 25

		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_the_foreign_legion
		x = 14
		y = 1
		icon = legion
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_foreign_legion"

			SPR = {
				division_template = {
					name = "Foreign Legion Tercio"
					is_locked = yes
					regiments = {
						L_arm_Bat = { x = 0 y = 0 }
						Mech_Inf_Bat = { x = 0 y = 1 }
						Mech_Inf_Bat = { x = 0 y = 2 }
						Mot_Inf_Bat = { x = 1 y = 0 }
						Arty_Bat = { x = 2 y = 0 }
					}

					support = {
						Arty_Battery = { x = 0 y = 0 }
						H_Engi_Comp = { x = 0 y = 1 }
					}

				}
			}
			93 = {
				create_unit = {
					division = "name = \"Tercio 'Don Juan de Austria' No. 3 of the Legion\" division_template = \"Foreign Legion Tercio\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 10009
				}
				create_unit = {
					division = "name = \"Tercio 'Alejandro Farnesio' No. 4 of the Legion \" division_template = \"Foreign Legion Tercio\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 12038
				}
			}

			set_variable = { SPR_legion_cap_tt_val = 40 }
			add_to_variable = { SPR_deployed_legions = 2 }

			unlock_decision_tooltip = SPR_spawn_new_foreign_legion_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_expand_the_foreign_legion
		x = 14
		y = 2
		icon = legion
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_the_foreign_legion }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expand_the_foreign_legion"

			#increase foreign legion cap
			custom_effect_tooltip = SPR_foreign_legion_upgrade_tt

			set_variable = { SPR_legion_cap_tt_val = 30 }
			set_variable = { SPR_legion_cap_ratio = 30 }
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_regulares
		x = 16
		y = 1
		icon = regulares
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_ejercito_de_tierra }

		cost = 5

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_regulares"

			SPR = {
				division_template = {
					name = "Regulares Group"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						Mot_Inf_Bat = { x = 1 y = 0 }
					}
				}
			}
			495 = {
				create_unit = {
					division = "name = \"Grupo de Infantería Ligera Regulares de Ceuta\" division_template = \"Regulares Group\" start_experience_factor = 0.5"
					owner = SPR
				}
			}

			632 = {
				create_unit = {
					division = "name = \"Grupo de Infantería Ligera Regulares de Melilla\" division_template = \"Regulares Group\" start_experience_factor = 0.5"
					owner = SPR
				}
			}
			#unlock_decision_tooltip = SPR_spawn_new_guardia_real_decision

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_expand_the_regulares
		x = 16
		y = 2
		icon = regulares
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_the_regulares }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_expand_the_regulares"

			hidden_effect = {
				delete_unit_template_and_units = { division_template = "Regulares Group" }
			}
			division_template = {
				name = "Regulares Brigade"
				is_locked = yes
				regiments = {
					L_Inf_Bat = { x = 0 y = 0 }
					L_Inf_Bat = { x = 0 y = 1 }
					L_Inf_Bat = { x = 0 y = 2 }
					L_Inf_Bat = { x = 0 y = 3 }
					Mot_Inf_Bat = { x = 1 y = 0 }
					Mot_Inf_Bat = { x = 1 y = 1 }
				}
			}
			495 = {
				create_unit = {
					division = "name = \"Grupo de Infantería Ligera Regulares de Ceuta\" division_template = \"Regulares Brigade\" start_experience_factor = 0.5"
					owner = SPR
				}
			}

			632 = {
				create_unit = {
					division = "name = \"Grupo de Infantería Ligera Regulares de Melilla\" division_template = \"Regulares Brigade\" start_experience_factor = 0.5"
					owner = SPR
				}
			}

			set_variable = { SPR_regulare_cap_tt_val = 2 }
			set_variable = { SPR_regulare_cap_ratio = 2000 }
			add_to_variable = { SPR_deployed_regulares = 2 }

			unlock_decision_tooltip = SPR_spawn_new_regulares_decision
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_fiel_regular_hasta_morir
		x = 16
		y = 3
		icon = regulares
		relative_position_id = SPR_ejercito_de_tierra

		prerequisite = { focus = SPR_expand_the_regulares }

		cost = 10

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fiel_regular_hasta_morir"
			#increase regulares cap
			custom_effect_tooltip = SPR_regulares_upgrade_tt

			set_variable = { SPR_regulare_cap_tt_val = 1.5 }
			set_variable = { SPR_regulare_cap_ratio = 1500 }

		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra
		x = 123
		y = 2
		icon = POL_sikorsky

		cost = 10

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fuerzas_aeromoviles_del_ejercito_de_tierra"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_tech_bonus = {
				name = Cat_HELI
				bonus = 0.25
				uses = 1
				category = Cat_HELI
			}

			add_command_power = 20
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eurocopter_tigre
		x = -5
		y = 1
		icon = align_to_europe
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_a_deal_for_apaches focus = SPR_cantabrico_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eurocopter_tigre"

			add_tech_bonus = {
				name = Cat_ATT_HELI
				bonus = 0.25
				uses = 1
				category = Cat_ATT_HELI
			}

			GER = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = GER }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			if = { limit = { has_dlc = "Death or Dishonor" }
				GER = {
					create_production_license = {
						target = SPR
						equipment = {
							type = attack_helicopter3
						}
						cost_factor = 0
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = attack_helicopter3
					amount = 50
					producer = GER
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_deal_for_apaches
		x = -3
		y = 1
		icon = native_americans
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_eurocopter_tigre focus = SPR_cantabrico_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_deal_for_apaches"

			add_tech_bonus = {
				name = Cat_ATT_HELI
				bonus = 0.25
				uses = 1
				category = Cat_ATT_HELI
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = democratic popularity = 0.05 }
			recalculate_party = yes

			if = { limit = { has_dlc = "Death or Dishonor" }
				USA = {
					create_production_license = {
						target = SPR
						equipment = {
							type = attack_helicopter3
						}
						cost_factor = 0
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = attack_helicopter3
					amount = 50
					producer = USA
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_attack_helicopter_cooperation
		x = -4
		y = 2
		icon = diplomatic_treaty
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_a_deal_for_apaches focus = SPR_eurocopter_tigre }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_attack_helicopter_cooperation"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_ATT_HELI
					bonus = 0.25
					uses = 2
					category = Cat_ATT_HELI
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_cantabrico_programme
		x = -1
		y = 1
		icon = toufan_helicopter
		cost = 7
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_eurocopter_tigre focus = SPR_a_deal_for_apaches }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_cantabrico_programme"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_ATT_HELI
				bonus = 1.00
				uses = 1
				category = Cat_ATT_HELI
			}

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_corocotta_attack_helicopter
		x = -1
		y = 2
		icon = helicopter_sheep
		cost = 8
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_cantabrico_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_corocotta_attack_helicopter"

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_ATT_HELI
				bonus = 1.00
				uses = 1
				category = Cat_ATT_HELI
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_eurocopter_cougar
		x = 1
		y = 1
		icon = align_to_europe
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_a_deal_for_chinooks focus = SPR_babieca_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_eurocopter_cougar"

			add_tech_bonus = {
				name = Cat_TRANS_HELI
				bonus = 0.25
				uses = 1
				category = Cat_TRANS_HELI
			}

			FRA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = FRA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			if = { limit = { has_dlc = "Death or Dishonor" }
				FRA = {
					create_production_license = {
						target = SPR
						equipment = {
							type = transport_helicopter2
						}
						cost_factor = 0
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = transport_helicopter2
					amount = 50
					producer = FRA
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_a_deal_for_chinooks
		x = 3
		y = 1
		icon = native_americans
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_eurocopter_cougar focus = SPR_babieca_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_a_deal_for_chinooks"

			add_tech_bonus = {
				name = Cat_TRANS_HELI
				bonus = 0.25
				uses = 1
				category = Cat_TRANS_HELI
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = democratic popularity = 0.05 }
			recalculate_party = yes

			if = { limit = { has_dlc = "Death or Dishonor" }
				USA = {
					create_production_license = {
						target = SPR
						equipment = {
							type = transport_helicopter3
						}
						cost_factor = 0
					}
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = transport_helicopter3
					amount = 50
					producer = USA
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_nhindustries
		x = 2
		y = 2
		icon = diplomatic_treaty
		cost = 5
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_eurocopter_cougar focus = SPR_a_deal_for_chinooks }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_nhindustries"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_TRANS_HELI
					bonus = 0.25
					uses = 2
					category = Cat_TRANS_HELI
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_babieca_programme
		x = 5
		y = 1
		icon = cavalry
		cost = 7
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra }
		mutually_exclusive = { focus = SPR_eurocopter_cougar focus = SPR_a_deal_for_chinooks }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_babieca_programme"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_TRANS_HELI
				bonus = 1.00
				uses = 1
				category = Cat_TRANS_HELI
			}

			set_temp_variable = { percent_change = 5 }
			change_domestic_influence_percentage = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_the_babieca_transport_helicopter
		x = 5
		y = 2
		icon = POL_sokol
		cost = 8
		relative_position_id = SPR_fuerzas_aeromoviles_del_ejercito_de_tierra

		prerequisite = { focus = SPR_babieca_programme }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_the_babieca_transport_helicopter"

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_TRANS_HELI
				bonus = 1.00
				uses = 1
				category = Cat_TRANS_HELI
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_armada_espanola
		x = 102
		y = 7
		icon = Spanish_Navy_2

		cost = 10

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_armada_espanola"

			navy_experience = 25
			add_command_power = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_infanteria_de_Marina

		x = 8
		y = 1
		icon = amphibious_assault
		cost = 8
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_armada_espanola }
		prerequisite = { focus = SPR_complete_army_reforms }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_infanteria_de_Marina"

			add_ideas = SPR_idea_amphibious_exercises
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_almogavares
		x = 10
		y = 1
		icon = paratroopers
		cost = 8
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_complete_army_reforms }
		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_almogavares"

			add_ideas = SPR_idea_the_new_almogavars
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_escuela_naval_militar

		x = 0
		y = 1
		icon = naval_doctrine
		cost = 7
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_armada_espanola }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_escuela_naval_militar"

			add_doctrine_cost_reduction = {
				name = SPR_escuela_naval_militar
				category = naval_doctrine
				uses = 1
				cost_reduction = 0.5
			}

			navy_experience = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_espacio_de_batalla

		x = 0
		y = 2
		icon = navy2
		cost = 7
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_escuela_naval_militar }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_espacio_de_batalla"

			add_doctrine_cost_reduction = {
				name = SPR_espacio_de_batalla
				category = naval_doctrine
				uses = 1
				cost_reduction = 0.5
			}

			navy_experience = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_guard_our_coasts
		x = -2
		y = 1
		icon = frigates
		cost = 6
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_armada_espanola }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_guard_our_coasts"

			add_tech_bonus = {
				name = Cat_CORVETTE
				bonus = 0.25
				uses = 1
				category = Cat_CORVETTE
			}

			add_tech_bonus = {
				name = Cat_FRIGATE
				bonus = 0.25
				uses = 1
				category = Cat_FRIGATE
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_flosub
		x = -2
		y = 2
		icon = submarines
		cost = 6
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_guard_our_coasts }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_flosub"

			add_tech_bonus = {
				name = Cat_ATT_SUB
				bonus = 0.50
				uses = 1
				category = Cat_ATT_SUB
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_escort_modernization
		x = -2
		y = 3
		icon = no_blueprint_ship
		cost = 9
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_flosub }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_escort_modernization"

			if = {
				limit = { has_dlc = "Man the Guns" }
				add_tech_bonus = {
					name = Cat_NAVAL_MISC
					bonus = 0.50
					uses = 1
					category = Cat_NAVAL_MISC
				}
			}
			else = {
				navy_experience = 50
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_floan
		x = 2
		y = 1
		icon = carriers
		cost = 6
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_armada_espanola }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_floan"

			add_tech_bonus = {
				name = Cat_LHA
				bonus = 0.50
				uses = 1
				category = Cat_LHA
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_floans_dream
		x = 2
		y = 2
		icon = carriers2
		cost = 6
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_floan }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_floans_dream"

			add_tech_bonus = {
				name = Cat_CV
				bonus = 0.50
				uses = 1
				category = Cat_CV
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_capital_ship_modernization
		x = 2
		y = 3
		icon = ship_bleur_point
		cost = 9
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_floans_dream }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_capital_ship_modernization"

			if = {
				limit = { has_dlc = "Man the Guns" }
				add_tech_bonus = {
					name = Cat_NAVAL_MISC
					bonus = 0.50
					uses = 1
					category = Cat_NAVAL_MISC
				}
			}
			else = {
				navy_experience = 50
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_spanish_armada_resurgent
		x = 0
		y = 4
		icon = viva_espana
		cost = 10
		relative_position_id = SPR_armada_espanola

		prerequisite = { focus = SPR_capital_ship_modernization }
		prerequisite = { focus = SPR_espacio_de_batalla }
		prerequisite = { focus = SPR_escort_modernization }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_spanish_armada_resurgent"

			add_doctrine_cost_reduction = {
				name = SPR_spanish_armada_resurgent
				category = naval_doctrine
				uses = 1
				cost_reduction = 0.5
			}

			add_ideas = SPR_idea_resugrent_spanish_armada
		}

		ai_will_do = {
			factor = 1
		}
	}


	focus = {
		id = SPR_ejercito_del_aire
		x = 122
		y = 7
		icon = Spanish_Air_Force_2

		cost = 10

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_ejercito_del_aire"

			air_experience = 25
			add_command_power = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_calm_before_the_typhoon
		x = -5
		y = 1
		icon = align_to_britain2
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_calm_before_the_typhoon"

			add_tech_bonus = {
				name = Cat_FIGHTER
				bonus = 0.25
				uses = 2
				category = Cat_FIGHTER
			}

			ENG = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = ENG }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			set_temp_variable = { modify_eurosceptic = -0.05 }
			set_temp_variable = { modify_eurosceptic_target = ROOT }
			eurosceptic_change = yes
			if = {
				limit = { has_dlc = "Death or Dishonor" }
				ENG = {
					if = {
						limit = { has_dlc = "By Blood Alone" }
						create_production_license = {
							target = SPR
							equipment = {
								type = small_plane_strike_airframe_1
							}
							cost_factor = 0
						}
					} else = {
						create_production_license = {
							target = SPR
							equipment = {
								type = MR_Fighter3
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				if = {
					limit = { has_dlc = "By Blood Alone" }
					add_equipment_to_stockpile = {
						type = small_plane_strike_airframe_1
						variant_name = "Tornado F3"
						amount = 70
						producer = ENG
					}
				} else = {
					add_equipment_to_stockpile = {
						type = MR_Fighter3
						amount = 70
						producer = ENG
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_hug_the_hornets_nest
		x = -3
		y = 1
		icon = align_to_america2
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_hug_the_hornets_nest"

			add_tech_bonus = {
				name = Cat_FIGHTER
				bonus = 0.25
				uses = 2
				category = Cat_FIGHTER
			}

			USA = {
				add_opinion_modifier = {
					target = ROOT
					modifier = medium_increase
				}
			}

			set_temp_variable = { percent_change = 2 }
			set_temp_variable = { tag_index = USA }
			set_temp_variable = { influence_target = ROOT.id }
			change_influence_percentage = yes

			add_popularity = { ideology = democratic popularity = 0.05 }
			recalculate_party = yes

			if = {
				limit = { has_dlc = "Death or Dishonor" }
				USA = {
					if = {
						limit = { has_dlc = "By Blood Alone" }
						create_production_license = {
							target = SPR
							equipment = {
								type = cv_medium_plane_airframe_2
							}
							cost_factor = 0
						}
					} else = {
						create_production_license = {
							target = SPR
							equipment = {
								type = CV_MR_Fighter3
							}
							cost_factor = 0
						}
					}
				}
			}
			else = {
				if = {
					limit = { has_dlc = "By Blood Alone" }
					add_equipment_to_stockpile = {
						type = cv_medium_plane_airframe_2
						variant_name = "F/A-18F Super Hornet"
						amount = 70
						producer = USA
					}
				} else = {
					add_equipment_to_stockpile = {
						type = CV_MR_Fighter3
						amount = 70
						producer = USA
					}
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_fighter_cooperation
		x = -4
		y = 2
		icon = diplomatic_treaty
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_hug_the_hornets_nest focus = SPR_calm_before_the_typhoon }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fighter_cooperation"

			if = { limit = { has_dlc = "Death or Dishonor" }
				if = { limit = { NOT = { has_dynamic_modifier = { modifier = SPR_international_army_cooperation } } }
					hidden_effect = {
						set_variable = { SPR_license_tech_difference_speed_var = 0.05 }
						set_variable = { SPR_license_production_speed_var = 0.05 }
						set_variable = { SPR_license_purchase_cost_var = -0.05 }
					}

					add_dynamic_modifier = { modifier = SPR_international_army_cooperation }

					custom_effect_tooltip = SPR_international_army_cooperation_tt
				}
				else = {
					custom_effect_tooltip = SPR_international_army_cooperation_upgrade_tt

					add_to_variable = {
						var = SPR_license_tech_difference_speed_var
						value = 0.05
						tooltip = SPR_license_tech_difference_speed_5_tt
					}

					add_to_variable = {
						var = SPR_license_production_speed_var
						value = 0.05
						tooltip = SPR_license_production_5_tt
					}

					add_to_variable = {
						var = SPR_license_purchase_cost_var
						value = 0.05
						tooltip = SPR_license_purchase_5_tt
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = Cat_FIGHTER
					bonus = 0.25
					uses = 2
					category = Cat_FIGHTER
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_reverse_engineering_fighters
		x = -1
		y = 1
		icon = fighter_plane
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_reverse_engineering_fighters"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_FIGHTER
				bonus = 0.50
				uses = 1
				category = Cat_FIGHTER
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_floan_r_and_d
		x = 1
		y = 1
		icon = Jet_Fighters
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_floan_r_and_d"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_NAVAL_AIR
				bonus = 0.50
				uses = 1
				category = Cat_NAVAL_AIR
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_playing_catch_up
		x = 0
		y = 2
		icon = advan_fighters
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_floan_r_and_d }
		prerequisite = { focus = SPR_reverse_engineering_fighters }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_playing_catch_up"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_NAVAL_AIR
				bonus = 0.50
				uses = 1
				category = Cat_NAVAL_AIR
			}

			add_tech_bonus = {
				name = Cat_FIGHTER
				bonus = 0.50
				uses = 1
				category = Cat_FIGHTER
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_start_a_bomber_fleet
		x = 3
		y = 1
		icon = bombs3
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_start_a_bomber_fleet"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_STR_BOMBER
				bonus = 0.50
				uses = 1
				category = Cat_STR_BOMBER
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_close_air_support
		x = 5
		y = 1
		icon = close_air_support
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_close_air_support"

			set_temp_variable = { treasury_change = -2.00 }
			modify_treasury_effect = yes

			add_tech_bonus = {
				name = Cat_CAS
				bonus = 0.50
				uses = 1
				category = Cat_CAS
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_death_from_above
		x = 4
		y = 2
		icon = modern_bomber
		cost = 8
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_start_a_bomber_fleet }
		prerequisite = { focus = SPR_close_air_support }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_death_from_above"

			set_temp_variable = { treasury_change = -4.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_tech_bonus = {
				name = Cat_STR_BOMBER
				bonus = 0.50
				uses = 1
				category = Cat_STR_BOMBER
			}

			add_tech_bonus = {
				name = Cat_CAS
				bonus = 0.50
				uses = 1
				category = Cat_CAS
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_control_the_skies
		x = 0
		y = 3
		icon = modern_fighter
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_death_from_above focus = SPR_fighter_cooperation focus = SPR_playing_catch_up }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_control_the_skies"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			add_ideas = SPR_idea_dominar_los_cielos_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_primary_bfm
		x = -1
		y = 4
		icon = air_doctrine
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_control_the_skies }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_primary_bfm"

			add_doctrine_cost_reduction = {
				name = SPR_escuela_naval_militar
				category = air_doctrine
				uses = 1
				cost_reduction = 0.50
			}

			air_experience = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_relative_bfm
		x = 1
		y = 4
		icon = air_doctrine
		cost = 5
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_control_the_skies }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_relative_bfm"

			add_doctrine_cost_reduction = {
				name = SPR_escuela_naval_militar
				category = air_doctrine
				uses = 1
				cost_reduction = 0.50
			}

			air_experience = 25
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_dominate_the_skies
		x = 0
		y = 5
		icon = f35
		cost = 10
		relative_position_id = SPR_ejercito_del_aire

		prerequisite = { focus = SPR_primary_bfm }
		prerequisite = { focus = SPR_relative_bfm }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_dominate_the_skies"

			set_temp_variable = { temp_opinion = 5 }
			change_the_military_opinion = yes

			swap_ideas = {
				remove_idea = SPR_idea_dominar_los_cielos_1
				add_idea = SPR_idea_dominar_los_cielos_2
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_sector_defensa
		x = 111
		y = 9
		icon = tank_production

		cost = 10

		available = {
			if = { limit = { has_start_date < 2017.1.1 }
				NOT = { has_country_flag = SPR_initial_election_flag }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_sector_defensa"

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			add_ideas = SPR_idea_defense_sector_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_tedae
		x = 2
		y = 1
		icon = military_deal
		cost = 5
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_sector_defensa }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_tedae"

			swap_ideas = {
				remove_idea = SPR_idea_defense_sector_1
				add_idea = SPR_idea_defense_sector_2
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_instituto_espanol_de_estudios_estrategicos
		x = 2
		y = 2
		icon = military_academy
		cost = 5
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_tedae }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_instituto_espanol_de_estudios_estrategicos"

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			swap_ideas = {
				remove_idea = SPR_idea_defense_sector_2
				add_idea = SPR_idea_defense_sector_3
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_fabricas_de_armas
		x = -2
		y = 1
		icon = industry_military
		cost = 8
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_sector_defensa }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_fabricas_de_armas"

			one_random_arms_factory = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_subsidios_industriales_militares
		x = -2
		y = 2
		icon = industry_military
		cost = 8
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_fabricas_de_armas }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_subsidios_industriales_militares"

			one_random_arms_factory = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_complejo_industrial_militar
		x = -2
		y = 3
		icon = industry_military
		cost = 10
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_subsidios_industriales_militares }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_complejo_industrial_militar"

			set_temp_variable = { temp_opinion = 5 }
			change_defense_industry_opinion = yes

			two_random_arms_factory = yes
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_infraestructura_maritima_del_norte
		x = -4
		y = 1
		icon = naval_dockyard
		cost = 8
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_sector_defensa }
		prerequisite = { focus = SPR_armada_espanola }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_infraestructura_maritima_del_norte"

			set_temp_variable = { treasury_change = -8.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 5 }
			change_maritime_industry_opinion = yes

			944 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = 758
				}
			}

		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_infraestructura_maritima_del_sur
		x = -4
		y = 2
		icon = naval_dockyard
		cost = 10
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_infraestructura_maritima_del_norte }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_infraestructura_maritima_del_sur"

			set_temp_variable = { treasury_change = -24.00 }
			modify_treasury_effect = yes

			set_temp_variable = { temp_opinion = 10 }
			change_maritime_industry_opinion = yes

			93 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 1048
				}
			}

			969 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = 10024
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bases_aereas_del_norte
		x = 4
		y = 1
		icon = air_production
		cost = 7
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_sector_defensa }
		prerequisite = { focus = SPR_ejercito_del_aire }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bases_aereas_del_norte"

			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes

			944 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}

			88 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_bases_aereas_del_sur
		x = 4
		y = 2
		icon = air_production
		cost = 7
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_bases_aereas_del_norte }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_bases_aereas_del_sur"

			set_temp_variable = { treasury_change = -5.00 }
			modify_treasury_effect = yes

			93 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}

			969 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_instituto_nacional_de_tecnica_aeroespacial
		x = 0
		y = 4
		icon = generic_space
		cost = 10
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_sector_defensa }
		prerequisite = { focus = SPR_dominate_the_skies }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_instituto_nacional_de_tecnica_aeroespacial"

			add_ideas = SPR_idea_space_program_1
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_hisdesat
		x = 1
		y = 5
		icon = international_space_station
		cost = 10
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_instituto_nacional_de_tecnica_aeroespacial }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_hisdesat"

			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes

			if = {
				limit = { has_idea = SPR_idea_space_program_1 }

				swap_ideas = { remove_idea = SPR_idea_space_program_1 add_idea = SPR_idea_space_program_2 }
			}
			else_if = {
				limit = { has_idea = SPR_idea_space_program_2 }

				swap_ideas = { remove_idea = SPR_idea_space_program_2 add_idea = SPR_idea_space_program_3 }
			}
			else = {
				swap_ideas = { remove_idea = SPR_idea_space_program_1 add_idea = SPR_idea_space_program_2 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	focus = {
		id = SPR_sener
		x = -1
		y = 5
		icon = international_space_station
		cost = 10
		relative_position_id = SPR_sector_defensa

		prerequisite = { focus = SPR_instituto_nacional_de_tecnica_aeroespacial }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SPR_sener"

			set_temp_variable = { temp_opinion = 5 }
			change_industrial_conglomerates_opinion = yes

			if = {
				limit = { has_idea = SPR_idea_space_program_1 }

				swap_ideas = { remove_idea = SPR_idea_space_program_1 add_idea = SPR_idea_space_program_2 }
			}
			else_if = {
				limit = { has_idea = SPR_idea_space_program_2 }

				swap_ideas = { remove_idea = SPR_idea_space_program_2 add_idea = SPR_idea_space_program_3 }
			}
			else = {
				swap_ideas = { remove_idea = SPR_idea_space_program_1 add_idea = SPR_idea_space_program_2 }
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}