censored_nation_level_up = {
	if = {
		limit = { has_idea = new_censored_nation_01 }
		swap_ideas = {
			remove_idea = new_censored_nation_01
			add_idea = new_censored_nation_02
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_02 }
		swap_ideas = {
			remove_idea = new_censored_nation_02
			add_idea = new_censored_nation_03
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_03 }
		swap_ideas = {
			remove_idea = new_censored_nation_03
			add_idea = new_censored_nation_04
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_04 }
		swap_ideas = {
			remove_idea = new_censored_nation_04
			add_idea = new_censored_nation_05
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_05 }
		swap_ideas = {
			remove_idea = new_censored_nation_05
			add_idea = new_censored_nation_06
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_06 }
		swap_ideas = {
			remove_idea = new_censored_nation_06
			add_idea = new_closed_nation
		}
	}
}

open_nation_level_up = {
	if = {
		limit = { has_idea = new_censored_nation_01 }
		swap_ideas = {
			remove_idea = new_censored_nation_01
			add_idea = new_open_nation_01
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_01 }
		swap_ideas = {
			remove_idea = new_open_nation_01
			add_idea = new_open_nation_02
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_02 }
		swap_ideas = {
			remove_idea = new_open_nation_02
			add_idea = new_open_nation_03
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_03 }
		swap_ideas = {
			remove_idea = new_open_nation_03
			add_idea = new_open_nation_04
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_04 }
		swap_ideas = {
			remove_idea = new_open_nation_04
			add_idea = new_open_nation_05
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_05 }
		swap_ideas = {
			remove_idea = new_open_nation_05
			add_idea = new_open_nation_06
		}
	}
	else_if = {
		limit = { has_idea = new_open_nation_06 }
		swap_ideas = {
			remove_idea = new_open_nation_06
			add_idea = new_open_nation_07
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_01 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_01
			add_idea = new_open_nation_01
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_01 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_01
			add_idea = GCC_open_nation_02
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_02 }
		swap_ideas = {
			remove_idea = GCC_open_nation_02
			add_idea = GCC_open_nation_03
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_03 }
		swap_ideas = {
			remove_idea = GCC_open_nation_03
			add_idea = GCC_open_nation_04
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_04 }
		swap_ideas = {
			remove_idea = GCC_open_nation_04
			add_idea = GCC_open_nation_05
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_05 }
		swap_ideas = {
			remove_idea = GCC_open_nation_05
			add_idea = GCC_open_nation_06
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_06 }
		swap_ideas = {
			remove_idea = GCC_open_nation_06
			add_idea = GCC_open_nation_07
		}
	}
}

GCC_censored_nation_level_up = {
	if = {
		limit = { has_idea = GCC_censored_nation_01 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_01
			add_idea = GCC_censored_nation_02
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_02 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_02
			add_idea = GCC_censored_nation_03
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_03 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_03
			add_idea = GCC_censored_nation_04
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_04 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_04
			add_idea = GCC_censored_nation_05
		}
	}
	else_if = {
		limit = { has_idea = GCC_censored_nation_05 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_05
			add_idea = GCC_censored_nation_06
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_01 }
		swap_ideas = {
			remove_idea = new_censored_nation_01
			add_idea = GCC_censored_nation_02
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_02 }
		swap_ideas = {
			remove_idea = new_censored_nation_02
			add_idea = GCC_censored_nation_03
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_03 }
		swap_ideas = {
			remove_idea = new_censored_nation_03
			add_idea = GCC_censored_nation_04
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_04 }
		swap_ideas = {
			remove_idea = new_censored_nation_04
			add_idea = GCC_censored_nation_05
		}
	}
	else_if = {
		limit = { has_idea = new_censored_nation_05 }
		swap_ideas = {
			remove_idea = new_censored_nation_05
			add_idea = GCC_censored_nation_06
		}
	}
}

GCC_open_nation_level_up = {
	if = {
		limit = { has_idea = GCC_censored_nation_01 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_01
			add_idea = GCC_open_nation_01
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_01 }
		swap_ideas = {
			remove_idea = GCC_open_nation_01
			add_idea = GCC_open_nation_02
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_02 }
		swap_ideas = {
			remove_idea = GCC_open_nation_02
			add_idea = GCC_open_nation_03
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_03 }
		swap_ideas = {
			remove_idea = GCC_open_nation_03
			add_idea = GCC_open_nation_04
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_04 }
		swap_ideas = {
			remove_idea = GCC_open_nation_04
			add_idea = GCC_open_nation_05
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_05 }
		swap_ideas = {
			remove_idea = GCC_open_nation_05
			add_idea = GCC_open_nation_06
		}
	}
	else_if = {
		limit = { has_idea = GCC_open_nation_06 }
		swap_ideas = {
			remove_idea = GCC_open_nation_06
			add_idea = GCC_open_nation_07
		}
	}
}

BHR_open_nation_level_up = {
	if = {
		limit = { has_idea = GCC_censored_nation_01 }
		swap_ideas = {
			remove_idea = GCC_censored_nation_01
			add_idea = BHR_open_nation_01
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_01 }
		swap_ideas = {
			remove_idea = BHR_open_nation_01
			add_idea = BHR_open_nation_02
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_02 }
		swap_ideas = {
			remove_idea = BHR_open_nation_02
			add_idea = BHR_open_nation_03
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_03 }
		swap_ideas = {
			remove_idea = BHR_open_nation_03
			add_idea = BHR_open_nation_04
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_04 }
		swap_ideas = {
			remove_idea = BHR_open_nation_04
			add_idea = BHR_open_nation_05
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_05 }
		swap_ideas = {
			remove_idea = BHR_open_nation_05
			add_idea = BHR_open_nation_06
		}
	}
	else_if = {
		limit = { has_idea = BHR_open_nation_06 }
		swap_ideas = {
			remove_idea = BHR_open_nation_06
			add_idea = BHR_open_nation_07
		}
	}
}

shia_resistance_level_up = {
	if = {
		limit = {
			NOT = {
				has_idea = shia_resistance_01
				has_idea = shia_resistance_02
				has_idea = shia_resistance_03
				has_idea = shia_resistance_04
				has_idea = shia_resistance_05
				has_idea = shia_resistance_06
				has_idea = shia_resistance_07
				has_idea = shia_resistance_08
				has_idea = shia_resistance_09
				has_idea = shia_resistance_10
			}
		}
		add_ideas = shia_resistance_01
	}
	if = {
		limit = { has_idea = shia_resistance_01 }
		swap_ideas = {
			remove_idea = shia_resistance_01
			add_idea = shia_resistance_02
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_02 }
		swap_ideas = {
			remove_idea = shia_resistance_02
			add_idea = shia_resistance_03
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_03 }
		swap_ideas = {
			remove_idea = shia_resistance_03
			add_idea = shia_resistance_04
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_04 }
		swap_ideas = {
			remove_idea = shia_resistance_04
			add_idea = shia_resistance_05
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_05 }
		swap_ideas = {
			remove_idea = shia_resistance_05
			add_idea = shia_resistance_06
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_06 }
		swap_ideas = {
			remove_idea = shia_resistance_06
			add_idea = shia_resistance_07
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_07 }
		swap_ideas = {
			remove_idea = shia_resistance_07
			add_idea = shia_resistance_08
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_08 }
		swap_ideas = {
			remove_idea = shia_resistance_08
			add_idea = shia_resistance_09
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_09 }
		swap_ideas = {
			remove_idea = shia_resistance_09
			add_idea = shia_resistance_10
		}
	}
	else = {
		add_political_power = -50
	}
}

shia_resistance_level_down = {
	if = {
		limit = { has_idea = shia_resistance_10 }
		swap_ideas = {
			remove_idea = shia_resistance_10
			add_idea = shia_resistance_09
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_09 }
		swap_ideas = {
			remove_idea = shia_resistance_09
			add_idea = shia_resistance_08
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_08 }
		swap_ideas = {
			remove_idea = shia_resistance_08
			add_idea = shia_resistance_07
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_07 }
		swap_ideas = {
			remove_idea = shia_resistance_07
			add_idea = shia_resistance_06
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_06 }
		swap_ideas = {
			remove_idea = shia_resistance_06
			add_idea = shia_resistance_05
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_05 }
		swap_ideas = {
			remove_idea = shia_resistance_05
			add_idea = shia_resistance_04
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_07 }
		swap_ideas = {
			remove_idea = shia_resistance_07
			add_idea = shia_resistance_08
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_04 }
		swap_ideas = {
			remove_idea = shia_resistance_04
			add_idea = shia_resistance_03
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_03 }
		swap_ideas = {
			remove_idea = shia_resistance_03
			add_idea = shia_resistance_02
		}
	}
	else_if = {
		limit = { has_idea = shia_resistance_02 }
		swap_ideas = {
			remove_idea = shia_resistance_02
			add_idea = shia_resistance_01
		}
	}
	else = {
		add_political_power = 50
	}
}

remove_shia_resistance = {
	if = {
		limit = { has_idea = shia_resistance_01 }
		remove_ideas = shia_resistance_01
	}
	if = {
		limit = { has_idea = shia_resistance_02 }
		remove_ideas = shia_resistance_02
	}
	if = {
		limit = { has_idea = shia_resistance_03 }
		remove_ideas = shia_resistance_03
	}
	if = {
		limit = { has_idea = shia_resistance_04 }
		remove_ideas = shia_resistance_04
	}
	if = {
		limit = { has_idea = shia_resistance_05 }
		remove_ideas = shia_resistance_05
	}
	if = {
		limit = { has_idea = shia_resistance_06 }
		remove_ideas = shia_resistance_06
	}
	if = {
		limit = { has_idea = shia_resistance_07 }
		remove_ideas = shia_resistance_07
	}
	if = {
		limit = { has_idea = shia_resistance_08 }
		remove_ideas = shia_resistance_08
	}
	if = {
		limit = { has_idea = shia_resistance_09 }
		remove_ideas = shia_resistance_09
	}
	if = {
		limit = { has_idea = shia_resistance_10 }
		remove_ideas = shia_resistance_10
	}
}

clamp_shia = {
	clamp_variable = {
		var = shia_population
		min = 0
		max = 100
	}
	if = {
		limit = {
			NOT = {
				has_idea = tiny_shia_population
				has_idea = small_shia_population
				has_idea = substantial_shia_population
				has_idea = large_shia_population
			}
			check_variable = { shia_population > 0 }
		}
		add_ideas = { tiny_shia_population }
	}
	if = {
		limit = {
			has_idea = tiny_shia_population
			check_variable = { shia_population = 0 }
		}
		remove_ideas = { tiny_shia_population }
	}
	if = {
		limit = {
			has_idea = tiny_shia_population
			check_variable = { shia_population > 10 }
		}
		swap_ideas = {
			remove_idea = tiny_shia_population
			add_idea = small_shia_population
		}
	}
	if = {
		limit = {
			has_idea = small_shia_population
			check_variable = { shia_population < 11 }
		}
		swap_ideas = {
			remove_idea = small_shia_population
			add_idea = tiny_shia_population
		}
	}
	if = {
		limit = {
			has_idea = small_shia_population
			check_variable = { shia_population > 19 }
		}
		swap_ideas = {
			remove_idea = small_shia_population
			add_idea = substantial_shia_population
		}
	}
	if = {
		limit = {
			has_idea = substantial_shia_population
			check_variable = { shia_population < 20 }
		}
		swap_ideas = {
			remove_idea = substantial_shia_population
			add_idea = small_shia_population
		}
	}
	if = {
		limit = {
			has_idea = substantial_shia_population
			check_variable = { shia_population > 49 }
		}
		swap_ideas = {
			remove_idea = substantial_shia_population
			add_idea = large_shia_population
		}
	}
	if = {
		limit = {
			has_idea = large_shia_population
			check_variable = { shia_population < 50 }
		}
		swap_ideas = {
			remove_idea = large_shia_population
			add_idea = substantial_shia_population
		}
	}
}

GCC_show_supporters = {
	if = {
		limit = {
			BHR = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		BHR_GetNameWithFlag = yes
	}
	if = {
		limit = {
			EGY = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		EGY_GetNameWithFlag = yes
	}
	if = {
		limit = {
			IRQ = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		IRQ_GetNameWithFlag = yes
	}
	if = {
		limit = {
			JOR = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		JOR_GetNameWithFlag = yes
	}
	if = {
		limit = {
			KUW = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		KUW_GetNameWithFlag = yes
	}
	if = {
		limit = {
			MOR = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		MOR_GetNameWithFlag = yes
	}
	if = {
		limit = {
			OMA = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		OMA_GetNameWithFlag = yes
	}
	if = {
		limit = {
			QAT = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		QAT_GetNameWithFlag = yes
	}
	if = {
		limit = {
			SAU = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		SAU_GetNameWithFlag = yes
	}
	if = {
		limit = {
			UAE = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		UAE_GetNameWithFlag = yes
	}
	if = {
		limit = {
			YEM = {
				has_idea = idea_gcc_member_state
				has_country_flag = supports_membership_@ROOT
			}
		}
		YEM_GetNameWithFlag = yes
	}
}