on_actions = {
	on_contract_started = {
		effect = {
			random_country = {
				limit = { PREV = { buyer = PREV } }
				set_temp_variable = { var_temp_buyer = THIS.id }
			}
			random_country = {
				limit = { PREV = { seller = PREV } }
				set_temp_variable = { var_temp_seller = THIS.id }
			}
			if = {
				limit = { contract_contains_equipment = Inf_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_inf_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_inf_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = AA_Equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_aa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_aa_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = L_AT_Equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_at_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_at_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = H_AT_Equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_hat_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_hat_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = artillery_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_art_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_art_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = cnc_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_cnc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_cnc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = transport_helicopter_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_trans_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_trans_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = util_vehicle_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_util_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_util_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = train_equipment }
				var:var_temp_buyer = {
					add_to_variable = { amount_train_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_train_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = convoy }
				var:var_temp_buyer = {
					add_to_variable = { amount_convoy_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_convoy_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = attack_helicopter_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_atk_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_atk_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = mbt_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_mbt_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_mbt_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = apc_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_apc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_apc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = ifv_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_ifv_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_ifv_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spart_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_spart_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_spart_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = light_tank_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_light_tank_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_light_tank_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spaa_hull }
				var:var_temp_buyer = {
					add_to_variable = { amount_spaa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					add_to_variable = { amount_spaa_equip_sold = 1 }
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				if = {
					limit = { contract_contains_equipment = small_plane_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_cas_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_strike_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_suicide_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_cas_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_strike_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_suicide_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_cas_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_suicide_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_cas_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_scout_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_air_transport_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_cas_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_awacs_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_air_transport_airframe }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
			}
			else = {
				if = {
					limit = { contract_contains_equipment = AS_Fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Strike_fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = MR_Fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_MR_Fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CAS_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = kamikaze_drone_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = nav_plane_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = awacs_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_awacs_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = transport_plane_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = strategic_bomber_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Air_UAV_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						add_to_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						add_to_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
			}
			var:var_temp_buyer = {
				add_to_variable = { market_purchase_factories = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
			var:var_temp_seller = {
				add_to_variable = { market_sold_contracts = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
		}
	}

	on_contract_finished = {
		effect = {
			random_country = {
				limit = { PREV = { buyer = PREV } }
				set_temp_variable = { var_temp_buyer = THIS.id }
			}
			random_country = {
				limit = { PREV = { seller = PREV } }
				set_temp_variable = { var_temp_seller = THIS.id }
			}
			if = {
				limit = { contract_contains_equipment = Inf_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_inf_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_inf_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = AA_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_aa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_aa_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = L_AT_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_at_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_at_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = H_AT_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_hat_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_hat_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = artillery_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_art_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_art_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = cnc_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_cnc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_cnc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = transport_helicopter_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_trans_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_trans_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = util_vehicle_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_util_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_util_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = train_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_train_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_train_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = convoy }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_convoy_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_convoy_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = attack_helicopter_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_atk_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_atk_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = mbt_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_mbt_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_mbt_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = apc_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_apc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_apc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = ifv_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_ifv_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_ifv_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spart_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_spart_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_spart_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = light_tank_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_light_tank_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_light_tank_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spaa_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_spaa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_spaa_equip_sold = 1 }
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				if = {
					limit = { contract_contains_equipment = small_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_strike_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_strike_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_scout_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_air_transport_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_awacs_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_air_transport_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
			}
			else = {
				if = {
					limit = { contract_contains_equipment = AS_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = MR_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_MR_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CAS_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = kamikaze_drone_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = nav_plane_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = awacs_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_awacs_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = transport_plane_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = strategic_bomber_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Air_UAV_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
			}
			var:var_temp_buyer = {
				subtract_from_variable = { market_purchase_factories = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
			var:var_temp_seller = {
				subtract_from_variable = { market_sold_contracts = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
		}
	}

	on_contract_cancelled = {
		effect = {
			random_country = {
				limit = { PREV = { buyer = PREV } }
				set_temp_variable = { var_temp_buyer = THIS.id }
			}
			random_country = {
				limit = { PREV = { seller = PREV } }
				set_temp_variable = { var_temp_seller = THIS.id }
			}
			if = {
				limit = { contract_contains_equipment = Inf_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_inf_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_inf_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = AA_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_aa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_aa_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = L_AT_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_at_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_at_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = H_AT_Equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_hat_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_hat_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = artillery_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_art_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_art_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = cnc_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_cnc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_cnc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = transport_helicopter_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_trans_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_trans_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = util_vehicle_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_util_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_util_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = train_equipment }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_train_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_train_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = convoy }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_convoy_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_convoy_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = attack_helicopter_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_atk_helo_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_atk_helo_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = mbt_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_mbt_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_mbt_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = apc_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_apc_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_apc_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = ifv_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_ifv_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_ifv_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spart_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_spart_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_spart_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = light_tank_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_light_tank_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_light_tank_equip_sold = 1 }
				}
			}
			if = {
				limit = { contract_contains_equipment = spaa_hull }
				var:var_temp_buyer = {
					subtract_from_variable = { amount_spaa_equip_purchased = 1 }
				}
				var:var_temp_seller = {
					subtract_from_variable = { amount_spaa_equip_sold = 1 }
				}
			}
			if = {
				limit = { has_dlc = "By Blood Alone" }
				if = {
					limit = { contract_contains_equipment = small_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_strike_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = small_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_strike_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_naval_bomber_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_small_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = medium_plane_suicide_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_fighter_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_maritime_patrol_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_scout_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_medium_plane_air_transport_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_cas_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_awacs_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = large_plane_air_transport_airframe }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
			}
			else = {
				if = {
					limit = { contract_contains_equipment = AS_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = MR_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_MR_Fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CAS_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = kamikaze_drone_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_med_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_med_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = nav_plane_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = awacs_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = cv_awacs_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = transport_plane_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = strategic_bomber_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_lrg_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_lrg_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = Air_UAV_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = CV_L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
				if = {
					limit = { contract_contains_equipment = L_Strike_fighter_equipment }
					var:var_temp_buyer = {
						subtract_from_variable = { amount_sml_pln_equip_purchased = 1 }
					}
					var:var_temp_seller = {
						subtract_from_variable = { amount_sml_pln_equip_sold = 1 }
					}
				}
			}
			var:var_temp_buyer = {
				subtract_from_variable = { market_purchase_factories = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
			var:var_temp_seller = {
				subtract_from_variable = { market_sold_contracts = 1 }
				ingame_update_setup = yes
				refresh_gui = yes
			}
		}
	}
}