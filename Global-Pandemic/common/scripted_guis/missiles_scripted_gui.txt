# Author(s): Papinian7, AngriestBird
scripted_gui = {
	MD_missiles_stateview_gui = {
		window_name = "missiles_stateview_window_container"

		context_type = selected_state_context
		parent_window_token = selected_state_view

		dirty = global.missile_ui_updated

		effects = {
			MD_missiles_ground_launch_button_click = {
				ROOT = {
					set_country_flag = search_target_point
					add_to_array = {
						array = missile_launch_point_array
						value = PREV.id
					}
					add_to_variable = {
						var_missile_trajectory_ID = 1
					}
				}
				missile_ui_update = yes
			}
			MD_missiles_sea_launch_button_click = {
				ROOT = {
					set_country_flag = search_target_point
					add_to_array = {
						array = missile_launch_point_array
						value = PREV.id
					}
					add_to_variable = {
						var_missile_trajectory_ID = 1
					}
				}
				missile_ui_update = yes
			}
			MD_missiles_air_launch_button_click = {
				ROOT = {
					set_country_flag = search_target_point
					add_to_array = {
						array = missile_launch_point_array
						value = PREV.id
					}
					add_to_variable = {
						var_missile_trajectory_ID = 1
					}
				}
				missile_ui_update = yes
			}
			MD_missiles_target_button_click = {
				clear_launch_button_loc_vars = yes
				ROOT = {
					set_country_flag = has_trajectory
					clr_country_flag = search_target_point
					clear_variable = var_sub_number_LAM_loc
					clear_variable = var_ship_number_LAM_loc
					add_to_array = {
						array = missile_target_point_array
						value = PREV.id
						index = var_missile_trajectory_ID
					}
				}
				controller = {
					set_variable = { ROOT.var_target_TAG = THIS.id }
					add_to_array = {
						array = ROOT.missile_target_controller_array
						value = THIS.id
						index = ROOT.var_missile_trajectory_ID
					}
					if = {
						limit = {
							check_variable = { ROOT.var_gui_nuke = 2 }
						}
						if = {
							limit = {
								ROOT = { use_condition_NFU = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_NFU }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 100 }
							ROOT = { set_country_flag = { flag = strike_limit_NFU days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_MAD = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_MAD }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 1000 }
							ROOT = { set_country_flag = { flag = strike_limit_MAD days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_MASSR = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_MASSR }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 1000 }
							ROOT = { set_country_flag = { flag = strike_limit_MASSR days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_FXRSP = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_FXRSP }
								}
							}
							ROOT = { set_temp_variable = { temp5 = surrender_progress } }
							multiply_temp_variable = { temp5 = 100 }
							add_to_variable = { ROOT.var_strike_limit = temp5 }
							ROOT = { set_country_flag = { flag = strike_limit_FXRSP days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_PRMTR_gui = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_PRMTR }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 1000 }
							ROOT = { set_country_flag = { flag = strike_limit_PRMTR days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_NDESC_gui = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_NDESC }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 5 }
							ROOT = { set_country_flag = { flag = strike_limit_NDESC days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_FSTK = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_FSTK }
								}
							}
							add_to_variable = { ROOT.var_strike_limit = 1000 }
							ROOT = { set_country_flag = { flag = strike_limit_FSTK days = 90 value = 1 } }
						}
						if = {
							limit = {
								ROOT = { use_condition_RSTK = yes }
								NOT = {
									ROOT = { has_country_flag = strike_limit_RSTK }
								}
							}
							for_each_loop = {
								array = ROOT.retaliatory_strike_target_array
								if = {
									limit = {
										check_variable = { ROOT.retaliatory_strike_target_array^i = THIS.id }
									}
									add_to_variable = { ROOT.var_strike_limit = ROOT.retaliatory_strike_limit_array^i }
									ROOT = { set_country_flag = { flag = strike_limit_RSTK_@PREV days = 90 value = 1 } }
								}
							}
						}
					}
				}
				missile_ui_update = yes
			}
			MD_missiles_rods_target_button_click = {
				ROOT = {
					set_country_flag = RODS_has_target
					add_to_variable = { var_KB_ID = 1 }
					add_to_array = {
						array = kinetic_bombardment_target_array
						value = PREV.id
						index = var_KB_ID
					}
				}
				missile_ui_update = yes
			}
			### redeploy ###
			open_redeploy_view_button_click = {
				if = {
					limit = {
						ROOT = { has_country_flag = open_MD_missiles_redeployview }
					}
					ROOT = { clr_country_flag = open_MD_missiles_redeployview }
				}
				else = {
					ROOT = { set_country_flag = open_MD_missiles_redeployview }
				}
				missile_ui_update = yes
			}
		}

		triggers = {
			MD_missiles_target_button_click_enabled = {
				#OLD VERSION
				#MD_missiles_target_button_trigger = yes
				MD_missiles_target_button_distance_trigger = yes
				ROOT = { has_country_flag = search_target_point }
				ROOT = { NOT = { has_country_flag = has_trajectory } }
			}
			MD_missiles_ground_launch_button_click_enabled = {
				MD_missiles_ground_launch_button_missile_selected_trigger = yes
				ROOT = { has_country_flag = has_warhead }
				if = {
					limit = {
						has_selected_ICBM = yes
					}
					MD_missiles_ground_launch_button_ICBM_trigger = yes
				}
				if = {
					limit = {
						has_selected_IRBM = yes
					}
					MD_missiles_ground_launch_button_IRBM_trigger = yes
				}
				if = {
					limit = {
						has_selected_GLCM = yes
					}
					MD_missiles_ground_launch_button_GLCM_trigger = yes
				}
				if = {
					limit = {
						has_selected_HSCM = yes
					}
					MD_missiles_ground_launch_button_HSCM_trigger = yes
				}
				hidden_trigger = {
					ROOT = { NOT = { has_country_flag = search_target_point } }
					ROOT = { NOT = { has_country_flag = has_trajectory } }
				}
				#OLD VERSION
				#MD_missiles_ground_launch_button_trigger = yes
			}
			MD_missiles_sea_launch_button_click_enabled = {
				MD_missiles_sea_launch_button_missile_selected_trigger = yes
				ROOT = { has_country_flag = has_warhead }
				if = {
					limit = {
						has_selected_SLBM = yes
					}
					MD_missiles_sea_launch_button_SLBM_trigger = yes
				}
				if = {
					limit = {
						has_selected_SLCM = yes
					}
					MD_missiles_sea_launch_button_SLCM_trigger = yes
				}
				if = {
					limit = {
						has_selected_HSCM = yes
					}
					MD_missiles_sea_launch_button_HSCM_trigger = yes
				}
				hidden_trigger = {
					ROOT = { NOT = { has_country_flag = search_target_point } }
					ROOT = { NOT = { has_country_flag = has_trajectory } }
				}
				#OLD VERSION
				#MD_missiles_sea_launch_button_trigger = yes
			}
			MD_missiles_air_launch_button_click_enabled = {
				MD_missiles_air_launch_button_missile_selected_trigger = yes
				ROOT = { has_country_flag = has_warhead }
				if = {
					limit = {
						has_selected_ALCM = yes
					}
					MD_missiles_air_launch_button_ALCM_trigger = yes
				}
				if = {
					limit = {
						has_selected_HSCM = yes
					}
					MD_missiles_air_launch_button_HSCM_trigger = yes
				}
				hidden_trigger = {
					ROOT = { NOT = { has_country_flag = search_target_point } }
					ROOT = { NOT = { has_country_flag = has_trajectory } }
				}
				#OLD VERSION
				#MD_missiles_air_launch_button_trigger = yes
			}
			MD_missiles_ground_launch_button_visible = {
				ROOT = { NOT = { check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 } } }
			}
			MD_missiles_sea_launch_button_visible = {
				ROOT = { NOT = { check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 } } }
			}
			MD_missiles_air_launch_button_visible = {
				ROOT = { NOT = { check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 } } }
			}
			MD_missiles_target_button_visible = {
				ROOT = { NOT = { check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 } } }
			}
			MD_missiles_rods_target_button_visible = {
				ROOT = { check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 } }
			}
			MD_missiles_rods_target_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = MD_missiles_rods_target_button_TT
					ROOT = { check_variable = { var_RODS_type > 0 } }
				}
				custom_trigger_tooltip = {
					tooltip = MD_missiles_rods_target_button_TT2
					ROOT = { NOT = { has_country_flag = RODS_has_target } }
				}
				controller = {
					has_war_with = ROOT
				}
			}
		}
	}

	MD_missiles_redeployview_gui = {
		window_name = "MD_missiles_redeployview"
		context_type = selected_state_context
		parent_window_token = missiles_stateview_window_container

		dirty = global.missile_ui_updated

		visible = {
			ROOT = { has_country_flag = open_MD_missiles_redeployview }
			#always = yes
		}
		effects = {
			remove_SAM_button_click = {
				THIS = {
					remove_building = {
						type = anti_air_building
						level = 1
					}
				}
				ROOT = {
					add_to_variable = { ROOT.var_SAM_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			deploy_SAM_button_click = {
				THIS = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
				ROOT = {
					subtract_from_variable = { ROOT.var_SAM_ready = 1 }
				}
				missile_ui_update = yes
			}
			remove_TEL_button_click = {
				THIS = {
					remove_building = {
						type = TEL_base
						level = 1
					}
				}
				ROOT = {
					add_to_variable = { ROOT.var_TEL_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			deploy_TEL_button_click = {
				THIS = {
					add_building_construction = {
						type = TEL_base
						level = 1
						instant_build = yes
					}
				}
				ROOT = {
					subtract_from_variable = { ROOT.var_TEL_ready = 1 }
				}
				missile_ui_update = yes
			}
			close_button_click = {
				ROOT = { clr_country_flag = open_MD_missiles_redeployview }
				missile_ui_update = yes
			}
		}
		triggers = {
			remove_SAM_button_click_enabled = {
				THIS = {
					is_controlled_by = ROOT
				}
				THIS = {
					custom_trigger_tooltip = {
						tooltip = remove_SAM_button_click_enabled_TT
						check_variable = { building_level@anti_air_building > 0 }
					}
				}
			}
			deploy_SAM_button_click_enabled = {
				THIS = {
					is_controlled_by = ROOT
				}
				THIS = {
					custom_trigger_tooltip = {
						tooltip = deploy_SAM_button_click_enabled_TT
						check_variable = { building_level@anti_air_building < 10 }
					}
				}
				ROOT = {
					custom_trigger_tooltip = {
						tooltip = deploy_SAM_button_click_enabled_TT2
						check_variable = { ROOT.var_SAM_ready > 0 }
					}
				}
			}
			remove_TEL_button_click_enabled = {
				THIS = {
					is_controlled_by = ROOT
				}
				THIS = {
					custom_trigger_tooltip = {
						tooltip = remove_TEL_button_click_enabled_TT
						check_variable = { building_level@TEL_base > 0 }
					}
				}
			}
			deploy_TEL_button_click_enabled = {
				THIS = {
					is_controlled_by = ROOT
				}
				THIS = {
					custom_trigger_tooltip = {
						tooltip = deploy_TEL_button_click_enabled_TT
						check_variable = { building_level@TEL_base < 10 }
					}
				}
				ROOT = {
					custom_trigger_tooltip = {
						tooltip = deploy_TEL_button_click_enabled_TT2
						check_variable = { ROOT.var_TEL_ready > 0 }
					}
				}
			}
		}
		properties = {
			remove_SAM_button = {
				frame = 8
			}
			deploy_SAM_button = {
				frame = 8
			}
			remove_TEL_button = {
				frame = 10
			}
			deploy_TEL_button = {
				frame = 10
			}
		}
	}

	MD_missiles_gui = {
		window_name = MD_countrymissilesview
		context_type = player_context
		parent_window_token = topbar #after_intel_agency_button #country_menu_window ### idk if that is correct???

		dirty = global.missile_ui_updated

		visible = {
			#has_dlc = "La Resistance"
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			close_button_click = {
				clr_country_flag = open_MD_countrymissilesview
				clr_country_flag = open_MD_target_selection_view
				if = {
					limit = {
						has_country_flag = open_MD_missile_stat_view
					}
					clr_country_flag = open_MD_missile_stat_view
					clear_array = building_damage_stat_display_array
				}
				if = {
					limit = {
						has_country_flag = open_MD_missile_type_window
					}
					clear_variable = var_open_missile_selection_ledger_2
					clear_array = cruise_missile_display_array
					clr_country_flag = cruise_missile_model
					clear_variable = var_open_missile_selection_ledger_1
					clear_array = ballistic_missile_display_array
					clr_country_flag = ballistic_missile_model
					clr_country_flag = open_MD_missile_type_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_warhead_window
					}
					clear_variable = var_open_warhead_selection_ledger_2
					clear_array = nuclear_warhead_display_array
					clr_country_flag = nuclear_warhead_model
					clear_variable = var_open_warhead_selection_ledger_1
					clear_array = conventional_warhead_display_array
					clr_country_flag = conventional_warhead_model
					clr_country_flag = open_MD_warhead_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_missile_defense_type_window
					}
					clr_country_flag = NSAM_model
					clr_country_flag = SAM_model
					clr_country_flag = NSAM_MD_model
					clr_country_flag = SAM_MD_model
					clr_country_flag = NABM_model
					clr_country_flag = ABM_model
					clear_array = SAM_display_array
					clear_array = ABM_display_array
					clr_country_flag = open_MD_missile_defense_type_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_missile_production_type_window
					}
					clear_prod_display_arrays = yes
					clr_country_flag = open_MD_missile_production_type_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_space_selection_window
					}
					clear_array = OLV_display_array
					clear_array = sat_payload_display_array
					clear_array = spp_payload_display_array
					clr_country_flag = OLV_model
					clr_country_flag = sat_payload_model
					clr_country_flag = spp_payload_model
					clear_variable = var_open_space_selection_ledger_1
					clear_variable = var_open_space_selection_ledger_2
					clr_country_flag = open_MD_space_selection_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_select_satellite_system_window
					}
					clear_array = GNSS_mil_systems_array
					clear_array = GNSS_civ_systems_array
					clear_array = COM_mil_systems_array
					clear_array = COM_civ_systems_array
					clear_array = SPY_mil_systems_array
					clear_array = SPY_civ_systems_array
					clr_country_flag = open_MD_select_satellite_system_window
				}
				if = {
					limit = {
						has_country_flag = open_MD_nuclear_doctrine_window
					}
					clear_array = nuclear_status_display_array
					clear_array = nuclear_doctrine_display_array
					clear_array = nuclear_warhead_prod_display_array
					clr_country_flag = open_MD_nuclear_doctrine_window
				}
				missile_ui_update = yes
			}
			MD_missiles_quickstart_guide_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_MD_missiles_quickstart_guide } }
					set_country_flag = open_MD_missiles_quickstart_guide
					open_missiles_quickstart_guide = yes
				}
				else = {
					clr_country_flag = open_MD_missiles_quickstart_guide
					close_missiles_quickstart_guide = yes
				}
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_1_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_1 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_2
				clear_variable = var_open_MD_missiles_gui_ledger_3
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_missiles_gui_ledger_6
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_2_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_2 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_3
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_missiles_gui_ledger_6
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_3_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_3 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_2
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_missiles_gui_ledger_6
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_4_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_2
				clear_variable = var_open_MD_missiles_gui_ledger_3
				clear_variable = var_open_MD_missiles_gui_ledger_5
				clear_variable = var_open_MD_missiles_gui_ledger_6
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_5_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_5 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_2
				clear_variable = var_open_MD_missiles_gui_ledger_3
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_6
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			missiles_gui_ledger_btn_6_click = {
				set_variable = { var_open_MD_missiles_gui_ledger_6 = 2 }
				clear_variable = var_open_MD_missiles_gui_ledger_1
				clear_variable = var_open_MD_missiles_gui_ledger_2
				clear_variable = var_open_MD_missiles_gui_ledger_3
				clear_variable = var_open_MD_missiles_gui_ledger_4
				clear_variable = var_open_MD_missiles_gui_ledger_5
				missile_ui_update = yes
			}
		}



		properties = {
			missiles_gui_ledger_btn_1 = {
				frame = var_open_MD_missiles_gui_ledger_1
			}
			missiles_gui_ledger_btn_2 = {
				frame = var_open_MD_missiles_gui_ledger_2
			}
			missiles_gui_ledger_btn_3 = {
				frame = var_open_MD_missiles_gui_ledger_3
			}
			missiles_gui_ledger_btn_4 = {
				frame = var_open_MD_missiles_gui_ledger_4
			}
			missiles_gui_ledger_btn_5 = {
				frame = var_open_MD_missiles_gui_ledger_5
			}
			missiles_gui_ledger_btn_6 = {
				frame = var_open_MD_missiles_gui_ledger_6
			}
		}
	}

	MD_countrymissilesview_production_gui = {
		window_name = MD_countrymissilesview_production
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_1 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}
		effects = {
			### ICBM
			production_type_1_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_1
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_1_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_1_amount = 1 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_1_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_1_amount = 1 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_1_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_1_amount = 10 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_1_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_1_amount = 10 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_1_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_1_amount = 100 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_1_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_1_amount = 100 }
					calculate_production_vars_1 = yes
				}
				missile_ui_update = yes
			}
			start_button_1_click = {
				ROOT = {
					set_country_flag = missile_construction_1
					activate_mission = missile_construction_1
					subtract_from_variable = { treasury = var_gui_prod_1_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_1_click = {
				ROOT = {
					clr_country_flag = missile_construction_1
					remove_mission = missile_construction_1
				}
				missile_ui_update = yes
			}
			increase_CIC_1_button_click = {
				add_to_variable = { prod_1_multiplier = 1 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			decrease_CIC_1_button_click = {
				subtract_from_variable = { prod_1_multiplier = 1 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			increase_CIC_1_button_control_click = {
				add_to_variable = { prod_1_multiplier = 10 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			decrease_CIC_1_button_control_click = {
				subtract_from_variable = { prod_1_multiplier = 10 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			increase_CIC_1_button_shift_click = {
				add_to_variable = { prod_1_multiplier = 100 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			decrease_CIC_1_button_shift_click = {
				subtract_from_variable = { prod_1_multiplier = 100 }
				calculate_production_vars_1 = yes
				missile_ui_update = yes
			}
			### IRBM
			production_type_2_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_2
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_2_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_2_amount = 1 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_2_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_2_amount = 1 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_2_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_2_amount = 10 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_2_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_2_amount = 10 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_2_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_2_amount = 100 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_2_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_2_amount = 100 }
					calculate_production_vars_2 = yes
				}
				missile_ui_update = yes
			}
			start_button_2_click = {
				ROOT = {
					set_country_flag = missile_construction_2
					activate_mission = missile_construction_2
					subtract_from_variable = { treasury = var_gui_prod_2_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_2_click = {
				ROOT = {
					clr_country_flag = missile_construction_2

					remove_mission = missile_construction_2
				}
				missile_ui_update = yes
			}
			increase_CIC_2_button_click = {
				add_to_variable = { prod_2_multiplier = 1 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			decrease_CIC_2_button_click = {
				subtract_from_variable = { prod_2_multiplier = 1 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			increase_CIC_2_button_control_click = {
				add_to_variable = { prod_2_multiplier = 10 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			decrease_CIC_2_button_control_click = {
				subtract_from_variable = { prod_2_multiplier = 10 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			increase_CIC_2_button_shift_click = {
				add_to_variable = { prod_2_multiplier = 100 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			decrease_CIC_2_button_shift_click = {
				subtract_from_variable = { prod_2_multiplier = 100 }
				calculate_production_vars_2 = yes
				missile_ui_update = yes
			}
			### SLBM
			production_type_3_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_3
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_3_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_3_amount = 1 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_3_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_3_amount = 1 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_3_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_3_amount = 10 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_3_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_3_amount = 10 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_3_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_3_amount = 100 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_3_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_3_amount = 100 }
					calculate_production_vars_3 = yes
				}
				missile_ui_update = yes
			}
			start_button_3_click = {
				ROOT = {
					set_country_flag = missile_construction_3
					activate_mission = missile_construction_3
					subtract_from_variable = { treasury = var_gui_prod_3_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_3_click = {
				ROOT = {
					clr_country_flag = missile_construction_3

					remove_mission = missile_construction_3
				}
				missile_ui_update = yes
			}
			increase_CIC_3_button_click = {
				add_to_variable = { prod_3_multiplier = 1 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			decrease_CIC_3_button_click = {
				subtract_from_variable = { prod_3_multiplier = 1 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			increase_CIC_3_button_control_click = {
				add_to_variable = { prod_3_multiplier = 10 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			decrease_CIC_3_button_control_click = {
				subtract_from_variable = { prod_3_multiplier = 10 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			increase_CIC_3_button_shift_click = {
				add_to_variable = { prod_3_multiplier = 100 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			decrease_CIC_3_button_shift_click = {
				subtract_from_variable = { prod_3_multiplier = 100 }
				calculate_production_vars_3 = yes
				missile_ui_update = yes
			}
			### ALCM
			production_type_4_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_4
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_4_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_4_amount = 1 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_4_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_4_amount = 1 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_4_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_4_amount = 10 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_4_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_4_amount = 10 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_4_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_4_amount = 100 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_4_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_4_amount = 100 }
					calculate_production_vars_4 = yes
				}
				missile_ui_update = yes
			}
			start_button_4_click = {
				ROOT = {
					set_country_flag = missile_construction_4
					activate_mission = missile_construction_4
					subtract_from_variable = { treasury = var_gui_prod_4_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_4_click = {
				ROOT = {
					clr_country_flag = missile_construction_4

					remove_mission = missile_construction_4
				}
				missile_ui_update = yes
			}
			increase_CIC_4_button_click = {
				add_to_variable = { prod_4_multiplier = 1 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			decrease_CIC_4_button_click = {
				subtract_from_variable = { prod_4_multiplier = 1 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			increase_CIC_4_button_control_click = {
				add_to_variable = { prod_4_multiplier = 10 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			decrease_CIC_4_button_control_click = {
				subtract_from_variable = { prod_4_multiplier = 10 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			increase_CIC_4_button_shift_click = {
				add_to_variable = { prod_4_multiplier = 100 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			decrease_CIC_4_button_shift_click = {
				subtract_from_variable = { prod_4_multiplier = 100 }
				calculate_production_vars_4 = yes
				missile_ui_update = yes
			}
			### GLCM
			production_type_5_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_5
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_5_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_5_amount = 1 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_5_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_5_amount = 1 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_5_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_5_amount = 10 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_5_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_5_amount = 10 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_5_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_5_amount = 100 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_5_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_5_amount = 100 }
					calculate_production_vars_5 = yes
				}
				missile_ui_update = yes
			}
			start_button_5_click = {
				ROOT = {
					set_country_flag = missile_construction_5
					activate_mission = missile_construction_5
					subtract_from_variable = { treasury = var_gui_prod_5_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_5_click = {
				ROOT = {
					clr_country_flag = missile_construction_5

					remove_mission = missile_construction_5
				}
				missile_ui_update = yes
			}
			increase_CIC_5_button_click = {
				add_to_variable = { prod_5_multiplier = 1 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			decrease_CIC_5_button_click = {
				subtract_from_variable = { prod_5_multiplier = 1 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			increase_CIC_5_button_control_click = {
				add_to_variable = { prod_5_multiplier = 10 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			decrease_CIC_5_button_control_click = {
				subtract_from_variable = { prod_5_multiplier = 10 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			increase_CIC_5_button_shift_click = {
				add_to_variable = { prod_5_multiplier = 100 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			decrease_CIC_5_button_shift_click = {
				subtract_from_variable = { prod_5_multiplier = 100 }
				calculate_production_vars_5 = yes
				missile_ui_update = yes
			}
			### SLCM
			production_type_6_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_6
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_6_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_6_amount = 1 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_6_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_6_amount = 1 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_6_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_6_amount = 10 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_6_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_6_amount = 10 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_6_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_6_amount = 100 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_6_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_6_amount = 100 }
					calculate_production_vars_6 = yes
				}
				missile_ui_update = yes
			}
			start_button_6_click = {
				ROOT = {
					set_country_flag = missile_construction_6
					activate_mission = missile_construction_6
					subtract_from_variable = { treasury = var_gui_prod_6_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_6_click = {
				ROOT = {
					clr_country_flag = missile_construction_6

					remove_mission = missile_construction_6
				}
				missile_ui_update = yes
			}
			increase_CIC_6_button_click = {
				add_to_variable = { prod_6_multiplier = 1 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			decrease_CIC_6_button_click = {
				subtract_from_variable = { prod_6_multiplier = 1 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			increase_CIC_6_button_control_click = {
				add_to_variable = { prod_6_multiplier = 10 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			decrease_CIC_6_button_control_click = {
				subtract_from_variable = { prod_6_multiplier = 10 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			increase_CIC_6_button_shift_click = {
				add_to_variable = { prod_6_multiplier = 100 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			decrease_CIC_6_button_shift_click = {
				subtract_from_variable = { prod_6_multiplier = 100 }
				calculate_production_vars_6 = yes
				missile_ui_update = yes
			}
			### HSCM
			production_type_7_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_7
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_7_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_7_amount = 1 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_7_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_7_amount = 1 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_7_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_7_amount = 10 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_7_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_7_amount = 10 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_7_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_7_amount = 100 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_7_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_7_amount = 100 }
					calculate_production_vars_7 = yes
				}
				missile_ui_update = yes
			}
			start_button_7_click = {
				ROOT = {
					set_country_flag = missile_construction_7
					activate_mission = missile_construction_7
					subtract_from_variable = { treasury = var_gui_prod_7_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_7_click = {
				ROOT = {
					clr_country_flag = missile_construction_7
					remove_mission = missile_construction_7
				}
				missile_ui_update = yes
			}
			increase_CIC_7_button_click = {
				add_to_variable = { prod_7_multiplier = 1 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			decrease_CIC_7_button_click = {
				subtract_from_variable = { prod_7_multiplier = 1 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			increase_CIC_7_button_control_click = {
				add_to_variable = { prod_7_multiplier = 10 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			decrease_CIC_7_button_control_click = {
				subtract_from_variable = { prod_7_multiplier = 10 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			increase_CIC_7_button_shift_click = {
				add_to_variable = { prod_7_multiplier = 100 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			decrease_CIC_7_button_shift_click = {
				subtract_from_variable = { prod_7_multiplier = 100 }
				calculate_production_vars_7 = yes
				missile_ui_update = yes
			}
			### SAM
			production_type_8_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_8
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_8_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_8_amount = 1 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_8_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_8_amount = 1 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_8_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_8_amount = 10 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_8_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_8_amount = 10 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_8_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_8_amount = 100 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_8_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_8_amount = 100 }
					calculate_production_vars_8 = yes
				}
				missile_ui_update = yes
			}
			start_button_8_click = {
				ROOT = {
					set_country_flag = missile_construction_8
					activate_mission = missile_construction_8
					subtract_from_variable = { treasury = var_gui_prod_8_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_8_click = {
				ROOT = {
					clr_country_flag = missile_construction_8

					remove_mission = missile_construction_8
				}
				missile_ui_update = yes
			}
			increase_CIC_8_button_click = {
				add_to_variable = { prod_8_multiplier = 1 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			decrease_CIC_8_button_click = {
				subtract_from_variable = { prod_8_multiplier = 1 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			increase_CIC_8_button_control_click = {
				add_to_variable = { prod_8_multiplier = 10 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			decrease_CIC_8_button_control_click = {
				subtract_from_variable = { prod_8_multiplier = 10 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			increase_CIC_8_button_shift_click = {
				add_to_variable = { prod_8_multiplier = 100 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			decrease_CIC_8_button_shift_click = {
				subtract_from_variable = { prod_8_multiplier = 100 }
				calculate_production_vars_8 = yes
				missile_ui_update = yes
			}
			### ABM
			production_type_9_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_9
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_9_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_9_amount = 1 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_9_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_9_amount = 1 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_9_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_9_amount = 10 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_9_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_9_amount = 10 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_9_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_9_amount = 100 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_9_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_9_amount = 100 }
					calculate_production_vars_9 = yes
				}
				missile_ui_update = yes
			}
			start_button_9_click = {
				ROOT = {
					set_country_flag = missile_construction_9
					activate_mission = missile_construction_9
					subtract_from_variable = { treasury = var_gui_prod_9_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_9_click = {
				ROOT = {
					clr_country_flag = missile_construction_9

					remove_mission = missile_construction_9
				}
				missile_ui_update = yes
			}
			increase_CIC_9_button_click = {
				add_to_variable = { prod_9_multiplier = 1 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			decrease_CIC_9_button_click = {
				subtract_from_variable = { prod_9_multiplier = 1 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			increase_CIC_9_button_control_click = {
				add_to_variable = { prod_9_multiplier = 10 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			decrease_CIC_9_button_control_click = {
				subtract_from_variable = { prod_9_multiplier = 10 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			increase_CIC_9_button_shift_click = {
				add_to_variable = { prod_9_multiplier = 100 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			decrease_CIC_9_button_shift_click = {
				subtract_from_variable = { prod_9_multiplier = 100 }
				calculate_production_vars_9 = yes
				missile_ui_update = yes
			}
			### OLV
			production_type_10_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_10
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_10_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 1 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 1 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_10_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 10 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 10 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_10_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_10_amount = 100 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_10_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_10_amount = 100 }
					calculate_production_vars_10 = yes
				}
				missile_ui_update = yes
			}
			start_button_10_click = {
				ROOT = {
					set_country_flag = missile_construction_10
					activate_mission = missile_construction_10
					subtract_from_variable = { treasury = var_gui_prod_10_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_10_click = {
				ROOT = {
					clr_country_flag = missile_construction_10

					remove_mission = missile_construction_10
				}
				missile_ui_update = yes
			}
			increase_CIC_10_button_click = {
				add_to_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_click = {
				subtract_from_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			increase_CIC_10_button_control_click = {
				add_to_variable = { prod_10_multiplier = 10 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_control_click = {
				subtract_from_variable = { prod_10_multiplier = 10 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			increase_CIC_10_button_shift_click = {
				add_to_variable = { prod_10_multiplier = 100 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			decrease_CIC_10_button_shift_click = {
				subtract_from_variable = { prod_10_multiplier = 100 }
				calculate_production_vars_10 = yes
				missile_ui_update = yes
			}
			### GNSS
			production_type_11_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_11
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_11_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 1 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 1 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_11_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 10 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 10 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_11_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_11_amount = 100 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_11_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_11_amount = 100 }
					calculate_production_vars_11 = yes
				}
				missile_ui_update = yes
			}
			start_button_11_click = {
				ROOT = {
					set_country_flag = missile_construction_11
					activate_mission = missile_construction_11
					subtract_from_variable = { treasury = var_gui_prod_11_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_11_click = {
				ROOT = {
					clr_country_flag = missile_construction_11
					remove_mission = missile_construction_11
				}
				missile_ui_update = yes
			}
			increase_CIC_11_button_click = {
				add_to_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_click = {
				subtract_from_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			increase_CIC_11_button_control_click = {
				add_to_variable = { prod_11_multiplier = 10 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_control_click = {
				subtract_from_variable = { prod_11_multiplier = 10 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			increase_CIC_11_button_shift_click = {
				add_to_variable = { prod_11_multiplier = 100 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			decrease_CIC_11_button_shift_click = {
				subtract_from_variable = { prod_11_multiplier = 100 }
				calculate_production_vars_11 = yes
				missile_ui_update = yes
			}
			### COMSAT
			production_type_12_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_12
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_12_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 1 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 1 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_12_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 10 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 10 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_12_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_12_amount = 100 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_12_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_12_amount = 100 }
					calculate_production_vars_12 = yes
				}
				missile_ui_update = yes
			}
			start_button_12_click = {
				ROOT = {
					set_country_flag = missile_construction_12
					activate_mission = missile_construction_12
					subtract_from_variable = { treasury = var_gui_prod_12_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_12_click = {
				ROOT = {
					clr_country_flag = missile_construction_12

					remove_mission = missile_construction_12
				}
				missile_ui_update = yes
			}
			increase_CIC_12_button_click = {
				add_to_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_click = {
				subtract_from_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			increase_CIC_12_button_control_click = {
				add_to_variable = { prod_12_multiplier = 10 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_control_click = {
				subtract_from_variable = { prod_12_multiplier = 10 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			increase_CIC_12_button_shift_click = {
				add_to_variable = { prod_12_multiplier = 100 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			decrease_CIC_12_button_shiftclick = {
				subtract_from_variable = { prod_12_multiplier = 100 }
				calculate_production_vars_12 = yes
				missile_ui_update = yes
			}
			### SPYSAT
			production_type_13_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_13
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_13_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 1 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 1 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_13_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 10 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 10 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_13_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_13_amount = 100 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_13_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_13_amount = 100 }
					calculate_production_vars_13 = yes
				}
				missile_ui_update = yes
			}
			start_button_13_click = {
				ROOT = {
					set_country_flag = missile_construction_13
					activate_mission = missile_construction_13
					subtract_from_variable = { treasury = var_gui_prod_13_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_13_click = {
				ROOT = {
					clr_country_flag = missile_construction_13

					remove_mission = missile_construction_13
				}
				missile_ui_update = yes
			}
			increase_CIC_13_button_click = {
				add_to_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_click = {
				subtract_from_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			increase_CIC_13_button_control_click = {
				add_to_variable = { prod_13_multiplier = 10 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_control_click = {
				subtract_from_variable = { prod_13_multiplier = 10 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			increase_CIC_13_button_shift_click = {
				add_to_variable = { prod_13_multiplier = 100 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			decrease_CIC_13_button_shift_click = {
				subtract_from_variable = { prod_13_multiplier = 100 }
				calculate_production_vars_13 = yes
				missile_ui_update = yes
			}
			### KILLSAT
			production_type_14_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_14
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}
			### production amount button effects ###
			increase_amount_14_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 1 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 1 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_14_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 10 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 10 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_14_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_14_amount = 100 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_14_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_14_amount = 100 }
					calculate_production_vars_14 = yes
				}
				missile_ui_update = yes
			}
			start_button_14_click = {
				ROOT = {
					set_country_flag = missile_construction_14
					activate_mission = missile_construction_14
					subtract_from_variable = { treasury = var_gui_prod_14_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_14_click = {
				ROOT = {
					clr_country_flag = missile_construction_14

					remove_mission = missile_construction_14
				}
				missile_ui_update = yes
			}
			increase_CIC_14_button_click = {
				add_to_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_click = {
				subtract_from_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			increase_CIC_14_button_control_click = {
				add_to_variable = { prod_14_multiplier = 10 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_control_click = {
				subtract_from_variable = { prod_14_multiplier = 10 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			increase_CIC_14_button_shift_click = {
				add_to_variable = { prod_14_multiplier = 100 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			decrease_CIC_14_button_shift_click = {
				subtract_from_variable = { prod_14_multiplier = 100 }
				calculate_production_vars_14 = yes
				missile_ui_update = yes
			}
			### Rods
			production_type_15_button_click = {
				ROOT = {
					set_country_flag = open_MD_missile_production_type_window
					set_country_flag = missile_production_type_15
					set_prod_display_arrays = yes
				}
				missile_ui_update = yes
			}

			### production amount button effects ###
			increase_amount_15_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_15_amount = 1 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_15_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_15_amount = 1 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_15_control_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_15_amount = 10 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_15_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_15_amount = 10 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			increase_amount_15_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_prod_15_amount = 100 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			decrease_amount_15_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_prod_15_amount = 100 }
					calculate_production_vars_15 = yes
				}
				missile_ui_update = yes
			}
			start_button_15_click = {
				ROOT = {
					set_country_flag = missile_construction_15
					activate_mission = missile_construction_15
					subtract_from_variable = { treasury = var_gui_prod_15_price_total }
				}
				missile_ui_update = yes
			}
			delete_button_15_click = {
				ROOT = {
					clr_country_flag = missile_construction_15
					remove_mission = missile_construction_15
				}
				missile_ui_update = yes
			}
			increase_CIC_15_button_click = {
				add_to_variable = { prod_15_multiplier = 1 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
			decrease_CIC_15_button_click = {
				subtract_from_variable = { prod_15_multiplier = 1 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
			increase_CIC_15_button_control_click = {
				add_to_variable = { prod_15_multiplier = 10 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
			decrease_CIC_15_button_control_click = {
				subtract_from_variable = { prod_15_multiplier = 10 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
			increase_CIC_15_button_shift_click = {
				add_to_variable = { prod_15_multiplier = 100 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
			decrease_CIC_15_button_shift_click = {
				subtract_from_variable = { prod_15_multiplier = 100 }
				calculate_production_vars_15 = yes
				missile_ui_update = yes
			}
		}

		triggers = {
			### ICBM
			start_button_1_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_1_trigger_TT
					check_variable = { var_gui_prod_1_missile_inventory_idx > 0 }
				}
			}
			delete_button_1_click_enabled = {
				has_country_flag = missile_construction_1
			}
			production_type_1_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
			}
			increase_amount_1_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
			}
			decrease_amount_1_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
				check_variable = { var_gui_prod_1_amount > 1 }
			}
			increase_CIC_1_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
				check_variable = { prod_1_multiplier < var_gui_prod_1_amount }
			}
			decrease_CIC_1_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
				check_variable = { prod_1_multiplier > 1 }
			}
			start_button_1_visible = {
				NOT = { has_country_flag = missile_construction_1 }
			}
			prod_icon_1_visible = {
				has_country_flag = missile_construction_1
			}
			prod_time_1_visible = {
				has_country_flag = missile_construction_1
			}
			delete_button_1_visible = {
				has_country_flag = missile_construction_1
			}
			### IRBM
			start_button_2_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_2_trigger_TT
					check_variable = { var_gui_prod_2_missile_inventory_idx > 0 }
				}
			}
			delete_button_2_click_enabled = {
				has_country_flag = missile_construction_2
			}
			production_type_2_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
			}
			increase_amount_2_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
			}
			decrease_amount_2_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
				check_variable = { var_gui_prod_2_amount > 1 }
			}
			increase_CIC_2_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
				check_variable = { prod_2_multiplier < var_gui_prod_2_amount }
			}
			decrease_CIC_2_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
				check_variable = { prod_2_multiplier > 1 }
			}
			start_button_2_visible = {
				NOT = { has_country_flag = missile_construction_2 }
			}
			prod_icon_2_visible = {
				has_country_flag = missile_construction_2
			}
			prod_time_2_visible = {
				has_country_flag = missile_construction_2
			}
			delete_button_2_visible = {
				has_country_flag = missile_construction_2
			}
			### SLBM
			start_button_3_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_3_trigger_TT
					check_variable = { var_gui_prod_3_missile_inventory_idx > 0 }
				}
			}
			delete_button_3_click_enabled = {
				has_country_flag = missile_construction_3
			}
			production_type_3_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
			}
			increase_amount_3_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
			}
			decrease_amount_3_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
				check_variable = { var_gui_prod_3_amount > 1 }
			}
			increase_CIC_3_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
				check_variable = { prod_3_multiplier < var_gui_prod_3_amount }
			}
			decrease_CIC_3_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
				check_variable = { prod_3_multiplier > 1 }
			}
			start_button_3_visible = {
				NOT = { has_country_flag = missile_construction_3 }
			}
			prod_icon_3_visible = {
				has_country_flag = missile_construction_3
			}
			prod_time_3_visible = {
				has_country_flag = missile_construction_3
			}
			delete_button_3_visible = {
				has_country_flag = missile_construction_3
			}
			### ALCM
			start_button_4_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_4_trigger_TT
					check_variable = { var_gui_prod_4_missile_inventory_idx > 0 }
				}
			}
			delete_button_4_click_enabled = {
				has_country_flag = missile_construction_4
			}
			production_type_4_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
			}
			increase_amount_4_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
			}
			decrease_amount_4_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
				check_variable = { var_gui_prod_4_amount > 1 }
			}
			increase_CIC_4_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
				check_variable = { prod_4_multiplier < var_gui_prod_4_amount }
			}
			decrease_CIC_4_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
				check_variable = { prod_4_multiplier > 1 }
			}
			start_button_4_visible = {
				NOT = { has_country_flag = missile_construction_4 }
			}
			prod_icon_4_visible = {
				has_country_flag = missile_construction_4
			}
			prod_time_4_visible = {
				has_country_flag = missile_construction_4
			}
			delete_button_4_visible = {
				has_country_flag = missile_construction_4
			}
			### GLCM
			start_button_5_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_5_trigger_TT
					check_variable = { var_gui_prod_5_missile_inventory_idx > 0 }
				}
			}
			delete_button_5_click_enabled = {
				has_country_flag = missile_construction_5
			}
			production_type_5_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
			}
			increase_amount_5_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
			}
			decrease_amount_5_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
				check_variable = { var_gui_prod_5_amount > 1 }
			}
			increase_CIC_5_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
				check_variable = { prod_5_multiplier < var_gui_prod_5_amount }
			}
			decrease_CIC_5_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
				check_variable = { prod_5_multiplier > 1 }
			}
			start_button_5_visible = {
				NOT = { has_country_flag = missile_construction_5 }
			}
			prod_icon_5_visible = {
				has_country_flag = missile_construction_5
			}
			prod_time_5_visible = {
				has_country_flag = missile_construction_5
			}
			delete_button_5_visible = {
				has_country_flag = missile_construction_5
			}
			### SLCM
			start_button_6_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_6_trigger_TT
					check_variable = { var_gui_prod_6_missile_inventory_idx > 0 }
				}
			}
			delete_button_6_click_enabled = {
				has_country_flag = missile_construction_6
			}
			production_type_6_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
			}
			increase_amount_6_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
			}
			decrease_amount_6_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
				check_variable = { var_gui_prod_6_amount > 1 }
			}
			increase_CIC_6_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
				check_variable = { prod_6_multiplier < var_gui_prod_6_amount }
			}
			decrease_CIC_6_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
				check_variable = { prod_6_multiplier > 1 }
			}
			start_button_6_visible = {
				NOT = { has_country_flag = missile_construction_6 }
			}
			prod_icon_6_visible = {
				has_country_flag = missile_construction_6
			}
			prod_time_6_visible = {
				has_country_flag = missile_construction_6
			}
			delete_button_6_visible = {
				has_country_flag = missile_construction_6
			}
			### HSCM
			start_button_7_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_7_trigger_TT
					check_variable = { var_gui_prod_7_missile_inventory_idx > 0 }
				}
			}
			delete_button_7_click_enabled = {
				has_country_flag = missile_construction_7
			}
			production_type_7_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
			}
			increase_amount_7_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
			}
			decrease_amount_7_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
				check_variable = { var_gui_prod_7_amount > 1 }
			}
			increase_CIC_7_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
				check_variable = { prod_7_multiplier < var_gui_prod_7_amount }
			}
			decrease_CIC_7_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
				check_variable = { prod_7_multiplier > 1 }
			}
			start_button_7_visible = {
				NOT = { has_country_flag = missile_construction_7 }
			}
			prod_icon_7_visible = {
				has_country_flag = missile_construction_7
			}
			prod_time_7_visible = {
				has_country_flag = missile_construction_7
			}
			delete_button_7_visible = {
				has_country_flag = missile_construction_7
			}
			### SAM
			start_button_8_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_8_trigger_TT
					check_variable = { var_gui_prod_8_missile_inventory_idx > 0 }
				}
			}
			delete_button_8_click_enabled = {
				has_country_flag = missile_construction_8
			}
			production_type_8_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
			}
			increase_amount_8_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
			}
			decrease_amount_8_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
				check_variable = { var_gui_prod_8_amount > 1 }
			}
			increase_CIC_8_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
				check_variable = { prod_8_multiplier < var_gui_prod_8_amount }
			}
			decrease_CIC_8_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
				check_variable = { prod_8_multiplier > 1 }
			}
			start_button_8_visible = {
				NOT = { has_country_flag = missile_construction_8 }
			}
			prod_icon_8_visible = {
				has_country_flag = missile_construction_8
			}
			prod_time_8_visible = {
				has_country_flag = missile_construction_8
			}
			delete_button_8_visible = {
				has_country_flag = missile_construction_8
			}
			### ABM
			start_button_9_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_9_trigger_TT
					check_variable = { var_gui_prod_9_missile_inventory_idx > 0 }
				}
			}
			delete_button_9_click_enabled = {
				has_country_flag = missile_construction_9
			}
			production_type_9_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
			}
			increase_amount_9_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
			}
			decrease_amount_9_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
				check_variable = { var_gui_prod_9_amount > 1 }
			}
			increase_CIC_9_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
				check_variable = { prod_9_multiplier < var_gui_prod_9_amount }
			}
			decrease_CIC_9_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
				check_variable = { prod_9_multiplier > 1 }
			}
			start_button_9_visible = {
				NOT = { has_country_flag = missile_construction_9 }
			}
			prod_icon_9_visible = {
				has_country_flag = missile_construction_9
			}
			prod_time_9_visible = {
				has_country_flag = missile_construction_9
			}
			delete_button_9_visible = {
				has_country_flag = missile_construction_9
			}
			### OLV
			start_button_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_10_trigger_TT
					check_variable = { var_gui_prod_10_missile_inventory_idx > 0 }
				}
			}
			delete_button_10_click_enabled = {
				has_country_flag = missile_construction_10
			}
			production_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			increase_amount_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			decrease_amount_10_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { var_gui_prod_10_amount > 1 }
			}
			increase_CIC_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { prod_10_multiplier < var_gui_prod_10_amount }
			}
			decrease_CIC_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
				check_variable = { prod_10_multiplier > 1 }
			}
			start_button_10_visible = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			prod_icon_10_visible = {
				has_country_flag = missile_construction_10
			}
			prod_time_10_visible = {
				has_country_flag = missile_construction_10
			}
			delete_button_10_visible = {
				has_country_flag = missile_construction_10
			}
			### GNSS
			start_button_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_11_trigger_TT
					check_variable = { var_gui_prod_11_missile_inventory_idx > 0 }
				}
			}
			delete_button_11_click_enabled = {
				has_country_flag = missile_construction_11
			}
			production_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			increase_amount_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			decrease_amount_11_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { var_gui_prod_11_amount > 1 }
			}
			increase_CIC_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { prod_11_multiplier < var_gui_prod_11_amount }
			}
			decrease_CIC_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
				check_variable = { prod_11_multiplier > 1 }
			}
			start_button_11_visible = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			prod_icon_11_visible = {
				has_country_flag = missile_construction_11
			}
			prod_time_11_visible = {
				has_country_flag = missile_construction_11
			}
			delete_button_11_visible = {
				has_country_flag = missile_construction_11
			}
			### COMSAT
			start_button_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_12_trigger_TT
					check_variable = { var_gui_prod_12_missile_inventory_idx > 0 }
				}
			}
			delete_button_12_click_enabled = {
				has_country_flag = missile_construction_12
			}
			production_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			increase_amount_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			decrease_amount_12_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { var_gui_prod_12_amount > 1 }
			}
			increase_CIC_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { prod_12_multiplier < var_gui_prod_12_amount }
			}
			decrease_CIC_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
				check_variable = { prod_12_multiplier > 1 }
			}
			start_button_12_visible = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			prod_icon_12_visible = {
				has_country_flag = missile_construction_12
			}
			prod_time_12_visible = {
				has_country_flag = missile_construction_12
			}
			delete_button_12_visible = {
				has_country_flag = missile_construction_12
			}
			### SPYSAT
			start_button_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_13_trigger_TT
					check_variable = { var_gui_prod_13_missile_inventory_idx > 0 }
				}
			}
			delete_button_13_click_enabled = {
				has_country_flag = missile_construction_13
			}
			production_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			increase_amount_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			decrease_amount_13_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { var_gui_prod_13_amount > 1 }
			}
			increase_CIC_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { prod_13_multiplier < var_gui_prod_13_amount }
			}
			decrease_CIC_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
				check_variable = { prod_13_multiplier > 1 }
			}
			start_button_13_visible = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			prod_icon_13_visible = {
				has_country_flag = missile_construction_13
			}
			prod_time_13_visible = {
				has_country_flag = missile_construction_13
			}
			delete_button_13_visible = {
				has_country_flag = missile_construction_13
			}
			### KILLSAT
			start_button_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_14_trigger_TT
					check_variable = { var_gui_prod_14_missile_inventory_idx > 0 }
				}
			}
			delete_button_14_click_enabled = {
				has_country_flag = missile_construction_14
			}
			production_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			increase_amount_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			decrease_amount_14_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { var_gui_prod_14_amount > 1 }
			}
			increase_CIC_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { prod_14_multiplier < var_gui_prod_14_amount }
			}
			decrease_CIC_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
				check_variable = { prod_14_multiplier > 1 }
			}
			start_button_14_visible = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			prod_icon_14_visible = {
				has_country_flag = missile_construction_14
			}
			prod_time_14_visible = {
				has_country_flag = missile_construction_14
			}
			delete_button_14_visible = {
				has_country_flag = missile_construction_14
			}
			### Rods
			start_button_15_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
				custom_trigger_tooltip = {
					tooltip = has_selected_prod_15_trigger_TT
					check_variable = { var_gui_prod_15_missile_inventory_idx > 0 }
				}
			}
			delete_button_15_click_enabled = {
				has_country_flag = missile_construction_15
			}
			production_type_15_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
			}
			increase_amount_15_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
			}
			decrease_amount_15_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
				check_variable = { var_gui_prod_15_amount > 1 }
			}
			increase_CIC_15_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
				check_variable = { prod_15_multiplier < var_gui_prod_15_amount }
			}
			decrease_CIC_15_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
				check_variable = { prod_15_multiplier > 1 }
			}
			start_button_15_visible = {
				NOT = { has_country_flag = missile_construction_15 }
			}
			prod_icon_15_visible = {
				has_country_flag = missile_construction_15
			}
			prod_time_15_visible = {
				has_country_flag = missile_construction_15
			}
			prod_time_15_visible = {
				has_country_flag = missile_construction_15
			}
			delete_button_15_visible = {
				has_country_flag = missile_construction_15
			}
			####
			production_type_1_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_2_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_3_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_4_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_5_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_6_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_7_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_8_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_9_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
			production_type_15_button_click_enabled = {
				NOT = { has_country_flag = missile_production_type_1 }
				NOT = { has_country_flag = missile_production_type_2 }
				NOT = { has_country_flag = missile_production_type_3 }
				NOT = { has_country_flag = missile_production_type_4 }
				NOT = { has_country_flag = missile_production_type_5 }
				NOT = { has_country_flag = missile_production_type_6 }
				NOT = { has_country_flag = missile_production_type_7 }
				NOT = { has_country_flag = missile_production_type_8 }
				NOT = { has_country_flag = missile_production_type_9 }
				NOT = { has_country_flag = missile_production_type_10 }
				NOT = { has_country_flag = missile_production_type_11 }
				NOT = { has_country_flag = missile_production_type_12 }
				NOT = { has_country_flag = missile_production_type_13 }
				NOT = { has_country_flag = missile_production_type_14 }
				NOT = { has_country_flag = missile_production_type_15 }
			}
		}

		properties = {
			### ICBM
			prod_icon_1 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_1_model_icon = { image = "[prod_1_icon_gui_texture]" }
			### IRBM
			prod_icon_2 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_2_model_icon = { image = "[prod_2_icon_gui_texture]" }
			### SLBM
			prod_icon_3 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_3_model_icon = { image = "[prod_3_icon_gui_texture]" }
			### ALCM
			prod_icon_4 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_4_model_icon = { image = "[prod_4_icon_gui_texture]" }
			### GLCM
			prod_icon_5 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_5_model_icon = { image = "[prod_5_icon_gui_texture]" }
			### SLCM
			prod_icon_6 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_6_model_icon = { image = "[prod_6_icon_gui_texture]" }
			### HSCM
			prod_icon_7 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_7_model_icon = { image = "[prod_7_icon_gui_texture]" }
			### SAM
			prod_icon_8 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_8_model_icon = { image = "[prod_8_icon_gui_texture]" }
			### ABM
			prod_icon_9 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_9_model_icon = { image = "[prod_9_icon_gui_texture]" }
			### OLV
			prod_icon_10 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_10_model_icon = { image = "[prod_10_icon_gui_texture]" }
			### GNSS
			prod_icon_11 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_11_model_icon = { image = "[prod_11_icon_gui_texture]" }
			### COMSAT
			prod_icon_12 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_12_model_icon = { image = "[prod_12_icon_gui_texture]" }
			### SPYSAT
			prod_icon_13 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_13_model_icon = { image = "[prod_13_icon_gui_texture]" }
			### KILLSAT
			prod_icon_14 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_14_model_icon = { image = "[prod_14_icon_gui_texture]" }
			### Rods
			prod_icon_15 = { image = "GFX_MD_prod_icon" frame = 2 }
			production_type_15_model_icon = { image = "[prod_15_icon_gui_texture]" }
		}
	}

	MD_missile_production_type_window_gui = {
		window_name = MD_missile_production_type_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_production

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_missile_production_type_window
		}

		effects = {
			### ICBM
			missile_type_1_button_click = {
				set_variable = { var_gui_prod_1_missile_inventory_idx = prod_1_display_array^i }
				set_variable = { var_gui_prod_1_price_unit = global.prod_1_price_unit^i }
				set_variable = { var_gui_prod_1_days_unit = global.prod_1_duration_unit^i }
				set_variable = { var_gui_prod_1_amount = 1 }
				set_variable = { prod_1_multiplier = 1 }
				calculate_production_vars_1 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_1
				missile_ui_update = yes
			}
			### IRBM
			missile_type_2_button_click = {
				set_variable = { var_gui_prod_2_missile_inventory_idx = prod_2_display_array^i }
				set_variable = { var_gui_prod_2_price_unit = global.prod_2_price_unit^i }
				set_variable = { var_gui_prod_2_days_unit = global.prod_2_duration_unit^i }
				set_variable = { var_gui_prod_2_amount = 1 }
				set_variable = { prod_2_multiplier = 1 }
				calculate_production_vars_2 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_2
				missile_ui_update = yes
			}
			### SLBM
			missile_type_3_button_click = {
				set_variable = { var_gui_prod_3_missile_inventory_idx = prod_3_display_array^i }
				set_variable = { var_gui_prod_3_price_unit = global.prod_3_price_unit^i }
				set_variable = { var_gui_prod_3_days_unit = global.prod_3_duration_unit^i }
				set_variable = { var_gui_prod_3_amount = 1 }
				set_variable = { prod_3_multiplier = 1 }
				calculate_production_vars_3 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_3
				missile_ui_update = yes
			}
			### ALCM
			missile_type_4_button_click = {
				set_variable = { var_gui_prod_4_missile_inventory_idx = prod_4_display_array^i }
				set_variable = { var_gui_prod_4_price_unit = global.prod_4_price_unit^i }
				set_variable = { var_gui_prod_4_days_unit = global.prod_4_duration_unit^i }
				set_variable = { var_gui_prod_4_amount = 1 }
				set_variable = { prod_4_multiplier = 1 }
				calculate_production_vars_4 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_4
				missile_ui_update = yes
			}
			### GLCM
			missile_type_5_button_click = {
				set_variable = { var_gui_prod_5_missile_inventory_idx = prod_5_display_array^i }
				set_variable = { var_gui_prod_5_price_unit = global.prod_5_price_unit^i }
				set_variable = { var_gui_prod_5_days_unit = global.prod_5_duration_unit^i }
				set_variable = { var_gui_prod_5_amount = 1 }
				set_variable = { prod_5_multiplier = 1 }
				calculate_production_vars_5 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_5
				missile_ui_update = yes
			}
			### SLCM
			missile_type_6_button_click = {
				set_variable = { var_gui_prod_6_missile_inventory_idx = prod_6_display_array^i }
				set_variable = { var_gui_prod_6_price_unit = global.prod_6_price_unit^i }
				set_variable = { var_gui_prod_6_days_unit = global.prod_6_duration_unit^i }
				set_variable = { var_gui_prod_6_amount = 1 }
				set_variable = { prod_6_multiplier = 1 }
				calculate_production_vars_6 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_6
				missile_ui_update = yes
			}
			### HSCM
			missile_type_7_button_click = {
				set_variable = { var_gui_prod_7_missile_inventory_idx = prod_7_display_array^i }
				set_variable = { var_gui_prod_7_price_unit = global.prod_7_price_unit^i }
				set_variable = { var_gui_prod_7_days_unit = global.prod_7_duration_unit^i }
				set_variable = { var_gui_prod_7_amount = 1 }
				set_variable = { prod_7_multiplier = 1 }
				calculate_production_vars_7 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_7
				missile_ui_update = yes
			}
			### SAM
			missile_type_8_button_click = {
				set_variable = { var_gui_prod_8_missile_inventory_idx = prod_8_display_array^i }
				set_variable = { var_gui_prod_8_price_unit = global.prod_8_price_unit^i }
				set_variable = { var_gui_prod_8_days_unit = global.prod_8_duration_unit^i }
				set_variable = { var_gui_prod_8_amount = 1 }
				set_variable = { prod_8_multiplier = 1 }
				calculate_production_vars_8 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_8
				missile_ui_update = yes
			}
			### ABM
			missile_type_9_button_click = {
				set_variable = { var_gui_prod_9_missile_inventory_idx = prod_9_display_array^i }
				set_variable = { var_gui_prod_9_price_unit = global.prod_9_price_unit^i }
				set_variable = { var_gui_prod_9_CIC_unit = global.prod_9_CIC_unit^i }
				set_variable = { var_gui_prod_9_days_unit = global.prod_9_duration_unit^i }
				set_variable = { var_gui_prod_9_amount = 1 }
				set_variable = { prod_9_multiplier = 1 }
				calculate_production_vars_9 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_9
				missile_ui_update = yes
			}
			### OLV
			missile_type_10_button_click = {
				set_variable = { var_gui_prod_10_missile_inventory_idx = prod_10_display_array^i }
				set_variable = { var_gui_prod_10_price_unit = global.prod_10_price_unit^i }
				set_variable = { var_gui_prod_10_days_unit = global.prod_10_duration_unit^i }
				if = {
					limit = {
						has_tech = part_reusable_OLV6
						check_variable = { prod_10_display_array^i = 106 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.005 }
					add_to_variable = { var_gui_prod_10_days_unit = -10 }
				}
				if = {
					limit = {
						has_tech = full_reusable_OLV7
						check_variable = { prod_10_display_array^i = 107 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.01 }
					add_to_variable = { var_gui_prod_10_days_unit = -25 }
				}
				if = {
					limit = {
						has_tech = full_reusable_OLV8
						check_variable = { prod_10_display_array^i = 108 }
					}
					add_to_variable = { var_gui_prod_10_price_unit = -0.03 }
					add_to_variable = { var_gui_prod_10_days_unit = -45 }
				}
				set_variable = { var_gui_prod_10_amount = 1 }
				set_variable = { prod_10_multiplier = 1 }
				calculate_production_vars_10 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_10
				missile_ui_update = yes
			}
			### GNSS
			missile_type_11_button_click = {
				set_variable = { var_gui_prod_11_missile_inventory_idx = prod_11_display_array^i }
				set_variable = { var_gui_prod_11_price_unit = global.prod_11_price_unit^i }
				set_variable = { var_gui_prod_11_days_unit = global.prod_11_duration_unit^i }
				set_variable = { var_gui_prod_11_amount = 1 }
				set_variable = { prod_11_multiplier = 1 }
				calculate_production_vars_11 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_11
				missile_ui_update = yes
			}
			### COMSAT
			missile_type_12_button_click = {
				set_variable = { var_gui_prod_12_missile_inventory_idx = prod_12_display_array^i }
				set_variable = { var_gui_prod_12_price_unit = global.prod_12_price_unit^i }
				set_variable = { var_gui_prod_12_days_unit = global.prod_12_duration_unit^i }
				set_variable = { var_gui_prod_12_amount = 1 }
				set_variable = { prod_12_multiplier = 1 }
				calculate_production_vars_12 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_12
				missile_ui_update = yes
			}
			### SPYSAT
			missile_type_13_button_click = {
				set_variable = { var_gui_prod_13_missile_inventory_idx = prod_13_display_array^i }
				set_variable = { var_gui_prod_13_price_unit = global.prod_13_price_unit^i }
				set_variable = { var_gui_prod_13_days_unit = global.prod_13_duration_unit^i }
				set_variable = { var_gui_prod_13_amount = 1 }
				set_variable = { prod_13_multiplier = 1 }
				calculate_production_vars_13 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_13
				missile_ui_update = yes
			}
			### KILLSAT
			missile_type_14_button_click = {
				set_variable = { var_gui_prod_14_missile_inventory_idx = prod_14_display_array^i }
				set_variable = { var_gui_prod_14_price_unit = global.prod_14_price_unit^i }
				set_variable = { var_gui_prod_14_days_unit = global.prod_14_duration_unit^i }
				set_variable = { var_gui_prod_14_amount = 1 }
				set_variable = { prod_14_multiplier = 1 }
				calculate_production_vars_14 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_14
				missile_ui_update = yes
			}
			### Rods
			missile_type_15_button_click = {
				set_variable = { var_gui_prod_15_missile_inventory_idx = prod_15_display_array^i }
				set_variable = { var_gui_prod_15_price_unit = global.prod_15_price_unit^i }
				set_variable = { var_gui_prod_15_days_unit = global.prod_15_duration_unit^i }
				set_variable = { var_gui_prod_15_amount = 1 }
				set_variable = { prod_15_multiplier = 1 }
				calculate_production_vars_15 = yes

				clear_prod_display_arrays = yes
				clr_country_flag = open_MD_missile_production_type_window
				clr_country_flag = missile_production_type_15
				missile_ui_update = yes
			}

			close_button_click = {
				clear_prod_display_arrays = yes
				if = {
					limit = {
						has_country_flag = open_MD_missile_production_type_window
					}
					clr_country_flag = open_MD_missile_production_type_window
				}
				missile_ui_update = yes
			}
		}

		triggers = {
			### ICBM
			missile_type_1_button_visible = {
				has_country_flag = missile_production_type_1
			}
			missile_type_1_icon_visible = {
				has_country_flag = missile_production_type_1
			}
			missile_model_name_1_visible = {
				has_country_flag = missile_production_type_1
			}
			missile_type_1_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_1 }
			}
			### IRBM
			missile_type_2_button_visible = {
				has_country_flag = missile_production_type_2
			}
			missile_type_2_icon_visible = {
				has_country_flag = missile_production_type_2
			}
			missile_model_name_2_visible = {
				has_country_flag = missile_production_type_2
			}
			missile_type_2_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_2 }
			}
			### SLBM
			missile_type_3_button_visible = {
				has_country_flag = missile_production_type_3
			}
			missile_type_3_icon_visible = {
				has_country_flag = missile_production_type_3
			}
			missile_model_name_3_visible = {
				has_country_flag = missile_production_type_3
			}
			missile_type_3_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_3 }
			}
			### ALCM
			missile_type_4_button_visible = {
				has_country_flag = missile_production_type_4
			}
			missile_type_4_icon_visible = {
				has_country_flag = missile_production_type_4
			}
			missile_model_name_4_visible = {
				has_country_flag = missile_production_type_4
			}
			missile_type_4_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_4 }
			}
			### GLCM
			missile_type_5_button_visible = {
				has_country_flag = missile_production_type_5
			}
			missile_type_5_icon_visible = {
				has_country_flag = missile_production_type_5
			}
			missile_model_name_5_visible = {
				has_country_flag = missile_production_type_5
			}
			missile_type_5_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_5 }
			}
			### SLCM
			missile_type_6_button_visible = {
				has_country_flag = missile_production_type_6
			}
			missile_type_6_icon_visible = {
				has_country_flag = missile_production_type_6
			}
			missile_model_name_6_visible = {
				has_country_flag = missile_production_type_6
			}
			missile_type_6_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_6 }
			}
			### HSCM
			missile_type_7_button_visible = {
				has_country_flag = missile_production_type_7
			}
			missile_type_7_icon_visible = {
				has_country_flag = missile_production_type_7
			}
			missile_model_name_7_visible = {
				has_country_flag = missile_production_type_7
			}
			missile_type_7_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_7 }
			}
			### SAM
			missile_type_8_button_visible = {
				has_country_flag = missile_production_type_8
			}
			missile_type_8_icon_visible = {
				has_country_flag = missile_production_type_8
			}
			missile_model_name_8_visible = {
				has_country_flag = missile_production_type_8
			}
			missile_type_8_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_8 }
			}
			### ABM
			missile_type_9_button_visible = {
				has_country_flag = missile_production_type_9
			}
			missile_type_9_icon_visible = {
				has_country_flag = missile_production_type_9
			}
			missile_model_name_9_visible = {
				has_country_flag = missile_production_type_9
			}
			missile_type_9_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_9 }
			}
			### OLV
			missile_type_10_button_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_type_10_icon_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_model_name_10_visible = {
				has_country_flag = missile_production_type_10
			}
			missile_type_10_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_10 }
			}
			### GNSS
			missile_type_11_button_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_type_11_icon_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_model_name_11_visible = {
				has_country_flag = missile_production_type_11
			}
			missile_type_11_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_11 }
			}
			### COMSAT
			missile_type_12_button_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_type_12_icon_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_model_name_12_visible = {
				has_country_flag = missile_production_type_12
			}
			missile_type_12_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_12 }
			}
			### SPYSAT
			missile_type_13_button_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_type_13_icon_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_model_name_13_visible = {
				has_country_flag = missile_production_type_13
			}
			missile_type_13_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_13 }
			}
			### KILLSAT
			missile_type_14_button_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_type_14_icon_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_model_name_14_visible = {
				has_country_flag = missile_production_type_14
			}
			missile_type_14_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_14 }
			}
			### Rods
			missile_type_15_button_visible = {
				has_country_flag = missile_production_type_15
			}
			missile_type_15_icon_visible = {
				has_country_flag = missile_production_type_15
			}
			missile_model_name_15_visible = {
				has_country_flag = missile_production_type_15
			}
			missile_type_15_button_click_enabled = {
				NOT = { has_country_flag = missile_construction_15 }
			}
		}
		properties = {
			### ICBM
			missile_type_1_icon = {
				image = "[prod_1_icon_texture]"
			}
			### IRBM
			missile_type_2_icon = {
				image = "[prod_2_icon_texture]"
			}
			### SLBM
			missile_type_3_icon = {
				image = "[prod_3_icon_texture]"
			}
			### ALCM
			missile_type_4_icon = {
				image = "[prod_4_icon_texture]"
			}
			### GLCM
			missile_type_5_icon = {
				image = "[prod_5_icon_texture]"
			}
			### SLCM
			missile_type_6_icon = {
				image = "[prod_6_icon_texture]"
			}
			### HSCM
			missile_type_7_icon = {
				image = "[prod_7_icon_texture]"
			}
			### SAM
			missile_type_8_icon = {
				image = "[prod_8_icon_texture]"
			}
			### ABM
			missile_type_9_icon = {
				image = "[prod_9_icon_texture]"
			}
			### OLV
			missile_type_10_icon = {
				image = "[prod_10_icon_texture]"
			}
			### GNSS
			missile_type_11_icon = {
				image = "[prod_11_icon_texture]"
			}
			### COMSAT
			missile_type_12_icon = {
				image = "[prod_12_icon_texture]"
			}
			### SPYSAT
			missile_type_13_icon = {
				image = "[prod_13_icon_texture]"
			}
			### KILLSAT
			missile_type_14_icon = {
				image = "[prod_14_icon_texture]"
			}
			### Rods
			missile_type_15_icon = {
				image = "[prod_15_icon_texture]"
			}
		}

		dynamic_lists = {
			### ICBM
			production_types_1_gridbox = {
				array = prod_1_display_array
				entry_container = missile_type_1_entry
			}
			### IRBM
			production_types_2_gridbox = {
				array = prod_2_display_array
				entry_container = missile_type_2_entry
			}
			### SLBM
			production_types_3_gridbox = {
				array = prod_3_display_array
				entry_container = missile_type_3_entry
			}
			### ALCM
			production_types_4_gridbox = {
				array = prod_4_display_array
				entry_container = missile_type_4_entry
			}
			### GLCM
			production_types_5_gridbox = {
				array = prod_5_display_array
				entry_container = missile_type_5_entry
			}
			### SLCM
			production_types_6_gridbox = {
				array = prod_6_display_array
				entry_container = missile_type_6_entry
			}
			### HSCM
			production_types_7_gridbox = {
				array = prod_7_display_array
				entry_container = missile_type_7_entry
			}
			### SAM
			production_types_8_gridbox = {
				array = prod_8_display_array
				entry_container = missile_type_8_entry
			}
			### ABM
			production_types_9_gridbox = {
				array = prod_9_display_array
				entry_container = missile_type_9_entry
			}
			### OLV
			production_types_10_gridbox = {
				array = prod_10_display_array
				entry_container = missile_type_10_entry
			}
			### GNSS
			production_types_11_gridbox = {
				array = prod_11_display_array
				entry_container = missile_type_11_entry
			}
			### COMSAT
			production_types_12_gridbox = {
				array = prod_12_display_array
				entry_container = missile_type_12_entry
			}
			### SPYSAT
			production_types_13_gridbox = {
				array = prod_13_display_array
				entry_container = missile_type_13_entry
			}
			### KILLSAT
			production_types_14_gridbox = {
				array = prod_14_display_array
				entry_container = missile_type_14_entry
			}
			### Rods
			production_types_15_gridbox = {
				array = prod_15_display_array
				entry_container = missile_type_15_entry
			}
		}
	}

	MD_countrymissilesview_launch_gui = {
		window_name = MD_countrymissilesview_launch
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_2 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			missile_launch_selected_TAG_flag_button_click = {
				set_country_flag = open_MD_missile_launch_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				missile_ui_update = yes
			}
			missile_launch_selected_TAG_flag_button_right_click = {
				set_variable = { missile_launch_selected_TAG = ROOT.id }
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			target_selection_button_click = {
				set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 2 } # 1 active, 2 not active
				set_building_display_array = yes
				if = {
					limit = {
						has_country_flag = open_MD_target_selection_view
					}
					clr_country_flag = open_MD_target_selection_view
				}
				else = {
					set_country_flag = open_MD_target_selection_view
					# if = {
					# 	limit = {
					# 		check_variable = { var_gui_nuke = 1 }
					# 	}
					# 	### effect not needed already set with  set_conventional_warhead_targets_gui
					# 	#set_conventional_warhead_display_targets = yes
					# }
				}
				missile_ui_update = yes
			}
			target_selection_2_button_click = {
				set_variable = { var_strike_type = 2 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 2 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 1 } # 1 active, 2 not active
				if = {
					limit = {
						has_country_flag = open_MD_target_selection_view
					}
					clr_country_flag = open_MD_target_selection_view
				}
				missile_ui_update = yes
			}
			missile_model_button_click = {
				### MD_missile_type_window ###
				set_country_flag = open_MD_missile_type_window
				set_variable = { var_open_missile_selection_ledger_1 = 2 }
				set_ballistic_missile_display_array = yes
				set_country_flag = ballistic_missile_model

				clear_gui_salvo_duration_vars = yes
				clear_launch_button_number_vars = yes
				clear_launch_button_loc_vars = yes
				missile_ui_update = yes
			}
			warhead_button_click = {
				### MD_warhead_window ###
				set_country_flag = open_MD_warhead_window
				set_variable = { var_open_warhead_selection_ledger_1 = 2 }
				set_conventional_warhead_display_array = yes
				set_country_flag = conventional_warhead_model
				missile_ui_update = yes
			}

			### salvo button effects ###
			salvo_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_gui_salvo = 1 }
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			salvo_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_gui_salvo = 1 }
					if = {
						limit = {
							check_variable = { var_gui_salvo < 0 }
						}
						set_variable = { var_gui_salvo = 0 }
					}
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			salvo_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_gui_salvo = 10 }
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			salvo_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_gui_salvo = 10 }
					if = {
						limit = {
							check_variable = { var_gui_salvo < 0 }
						}
						set_variable = { var_gui_salvo = 0 }
					}
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			salvo_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_gui_salvo = 100 }
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			salvo_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_gui_salvo = 100 }
					if = {
						limit = {
							check_variable = { var_gui_salvo < 0 }
						}
						set_variable = { var_gui_salvo = 0 }
					}
					set_variable = { var_total_firing = var_gui_salvo }
					multiply_variable = { var_total_firing = var_gui_duration }
					clear_launch_button_loc_vars = yes
					set_launch_button_number_vars = yes
				}
				missile_ui_update = yes
			}
			### duration button effects ###
			duration_small_plus_button_bg_click = {
				add_to_variable = { var_gui_duration = 1 }
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				missile_ui_update = yes
			}
			duration_small_minus_button_bg_click = {
				subtract_from_variable = { var_gui_duration = 1 }
				if = {
					limit = {
						check_variable = { var_gui_duration < 0 }
					}
					set_variable = { var_gui_duration = 0 }
				}
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				missile_ui_update = yes
			}
			duration_small_plus_button_bg_control_click = {
				add_to_variable = { var_gui_duration = 10 }
				missile_ui_update = yes
			}
			duration_small_minus_button_bg_control_click = {
				subtract_from_variable = { var_gui_duration = 10 }
				if = {
					limit = {
						check_variable = { var_gui_duration < 0 }
					}
					set_variable = { var_gui_duration = 0 }
				}
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				missile_ui_update = yes
			}
			duration_small_plus_button_bg_shift_click = {
				add_to_variable = { var_gui_duration = 100 }
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				missile_ui_update = yes
			}
			duration_small_minus_button_bg_shift_click = {
				subtract_from_variable = { var_gui_duration = 100 }
				if = {
					limit = {
						check_variable = { var_gui_duration < 0 }
					}
					set_variable = { var_gui_duration = 0 }
				}
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				missile_ui_update = yes
			}
			trajectory_gui_delete_button_click = {
				remove_from_array = {
					array = missile_launch_point_array
					index = var_missile_trajectory_ID
				}
				if = {
					limit = {
						has_country_flag = has_trajectory
					}
					remove_from_array = {
						array = missile_target_point_array
						index = var_missile_trajectory_ID
					}
					remove_from_array = {
						array = missile_target_controller_array
						index = var_missile_trajectory_ID
					}
				}
				subtract_from_variable = { var_missile_trajectory_ID = 1 }
				set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 2 } # 1 active, 2 not active
				clr_country_flag = search_target_point
				clr_country_flag = has_trajectory
				missile_ui_update = yes
			}
			fire_button_click = {
				clr_country_flag = has_trajectory
				clr_country_flag = has_missile_model
				clr_country_flag = has_warhead
				clr_country_flag = has_targets_selected
				### new costs
				if = {
					limit = {
						check_variable = { var_gui_nuke = 2 } # 2 = nuke
					}
					multiply_variable = { var_gui_nuclear_warhead_cost = var_total_firing }
					subtract_from_variable = { treasury = var_gui_nuclear_warhead_cost }
				}
				else = {
					multiply_variable = { var_gui_conventional_warhead_cost = var_total_firing }
					subtract_from_variable = { treasury = var_gui_conventional_warhead_cost }
				}
				###
				add_to_array = {
					array = missile_type_array
					value = var_gui_missile_type
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_tech_array
					value = var_gui_missile_tech
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_conventional_warhead_array
					value = var_conventional_warhead
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_nuclear_warhead_array
					value = var_nuclear_warhead
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_nuke_array
					value = var_gui_nuke
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_MIRV_array
					value = var_gui_MIRV
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_decoy_array
					value = var_gui_decoy
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_salvo_array
					value = var_gui_salvo
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_duration_array
					value = var_gui_duration
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_strike_type_array
					value = var_strike_type
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					#### 1 = fire; 2 = alert
					array = missile_alert_array
					value = 1
					index = var_missile_trajectory_ID
				}
				if = {
					limit = {
						check_variable = { var_gui_nuke = 1 }
					}
					set_conventional_warhead_targets = yes
				}
				if = {
					limit = {
						check_variable = { var_gui_nuke = 2 } # 2 = nuke
					}
					### check for alert, needs to be added somewhere???
					set_temp_variable = { temp4 = ROOT.var_total_firing }
					multiply_temp_variable = { temp4 = ROOT.var_gui_MIRV }
					subtract_from_variable = { ROOT.var_strike_limit = temp4 }
				}
				clear_gui_salvo_duration_vars = yes
				clear_launch_button_number_vars = yes
				clear_launch_button_loc_vars = yes
				#
				set_variable = { var_fire_sort_button = 2 }
				set_variable = { var_alert_sort_button = 1 }
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			alert_button_click = {
				clr_country_flag = has_trajectory
				clr_country_flag = has_missile_model
				clr_country_flag = has_warhead
				clr_country_flag = has_targets_selected
				### new costs
				if = {
					limit = {
						check_variable = { var_gui_nuke = 2 } # 2 = nuke
					}
					multiply_variable = { var_gui_nuclear_warhead_cost = var_total_firing }
					subtract_from_variable = { treasury = var_gui_nuclear_warhead_cost }
				}
				else = {
					multiply_variable = { var_gui_conventional_warhead_cost = var_total_firing }
					subtract_from_variable = { treasury = var_gui_conventional_warhead_cost }
				}
				###
				add_to_array = {
					array = missile_type_array
					value = var_gui_missile_type
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_conventional_warhead_array
					value = var_conventional_warhead
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_nuclear_warhead_array
					value = var_nuclear_warhead
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_nuke_array
					value = var_gui_nuke
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_MIRV_array
					value = var_gui_MIRV
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_decoy_array
					value = var_gui_decoy
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_salvo_array
					value = var_gui_salvo
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_duration_array
					value = var_gui_duration
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					array = missile_strike_type_array
					value = var_strike_type
					index = var_missile_trajectory_ID
				}
				add_to_array = {
					#### 1 = fire; 2 = alert
					array = missile_alert_array
					value = 2
					index = var_missile_trajectory_ID
				}
				if = {
					limit = {
						check_variable = { var_gui_nuke = 1 }
					}
					set_conventional_warhead_targets = yes
				}
				clear_gui_salvo_duration_vars = yes
				clear_launch_button_number_vars = yes
				clear_launch_button_loc_vars = yes
				#
				set_variable = { var_fire_sort_button = 1 }
				set_variable = { var_alert_sort_button = 2 }
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			stats_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_missile_stat_view
					}
					clr_country_flag = open_MD_missile_stat_view
					clear_array = building_damage_stat_display_array
				}
				else = {
					set_country_flag = open_MD_missile_stat_view
					set_building_damage_stat_display_array = yes
				}
				### set stats for current ID ###
				set_variable = { var_stat_trajectory_ID = i } # var_missile_trajectory_ID
				missile_ui_update = yes
			}
			###
			fire_sort_button_click = {
				set_variable = { var_fire_sort_button = 2 }
				set_variable = { var_alert_sort_button = 1 }
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			alert_sort_button_click = {
				set_variable = { var_fire_sort_button = 1 }
				set_variable = { var_alert_sort_button = 2 }
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			trajectory_delete_button_click = {
				set_temp_variable = { delete_idx = ROOT.trajectory_display_array^i }
				subtract_from_variable = { var_missile_trajectory_ID = 1 }
				#missile_launch_point_array
				remove_from_array = {
					array = missile_launch_point_array
					index = delete_idx
				}
				#missile_target_point_array
				remove_from_array = {
					array = missile_target_point_array
					index = delete_idx
				}
				#missile_type_array
				remove_from_array = {
					array = missile_type_array
					index = delete_idx
				}
				#missile_conventional_warhead_array
				remove_from_array = {
					array = missile_conventional_warhead_array
					index = delete_idx
				}
				#missile_nuclear_warhead_array
				remove_from_array = {
					array = missile_nuclear_warhead_array
					index = delete_idx
				}
				#missile_nuke_array
				remove_from_array = {
					array = missile_nuke_array
					index = delete_idx
				}
				#missile_MIRV_array
				remove_from_array = {
					array = missile_MIRV_array
					index = delete_idx
				}
				#missile_decoy_array
				remove_from_array = {
					array = missile_decoy_array
					index = delete_idx
				}
				#missile_salvo_array
				remove_from_array = {
					array = missile_salvo_array
					index = delete_idx
				}
				#missile_duration_array
				remove_from_array = {
					array = missile_duration_array
					index = delete_idx
				}
				#missile_strike_type_array
				remove_from_array = {
					array = missile_strike_type_array
					index = delete_idx
				}
				#missile_alert_array
				remove_from_array = {
					array = missile_alert_array
					index = delete_idx
				}
				#target_selected_[ID_icon_frame]_array
				remove_from_array = {
					array = target_selected_1_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_2_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_3_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_4_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_5_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_6_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_7_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_8_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_9_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_10_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_11_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_12_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_13_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_14_array
					index = delete_idx
				}
				remove_from_array = {
					array = target_selected_15_array
					index = delete_idx
				}
				### delete stat arrays needs to be tested!
				### other stats
				remove_from_array = {
					array = missile_boost_completed_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_boost_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_boost_completed_land_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_boost_land_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_midcourse_completed_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_midcourse_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_midcourse_completed_land_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_midcourse_land_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_terminal_completed_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_terminal_sea_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_interception_terminal_land_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_target_miss_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = missile_target_hit_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = SAM_consumption_sea_array
					index = delete_idx
				}
				remove_from_array = {
					array = SAM_consumption_land_array
					index = delete_idx
				}
				remove_from_array = {
					array = ABM_consumption_sea_array
					index = delete_idx
				}
				remove_from_array = {
					array = ABM_consumption_land_array
					index = delete_idx
				}
				### damage stats
				remove_from_array = {
					array = damage_building_1_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_2_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_3_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_4_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_5_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_6_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_8_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_9_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_10_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_11_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_12_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_13_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_14_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_15_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_16_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_17_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_18_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_19_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_20_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = damage_building_21_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = total_org_damage_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = total_str_damage_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = unit_org_damage_stat_array
					index = delete_idx
				}
				remove_from_array = {
					array = unit_str_damage_stat_array
					index = delete_idx
				}
				#
				remove_from_array = {
					array = silo_launcher_array
					index = delete_idx
				}
				remove_from_array = {
					array = TEL_launcher_array
					index = delete_idx
				}
				remove_from_array = {
					array = bomber_number_ALCM_array
					index = delete_idx
				}
				remove_from_array = {
					array = STK_number_ALCM_array
					index = delete_idx
				}
				remove_from_array = {
					array = MR_number_ALCM_array
					index = delete_idx
				}
				remove_from_array = {
					array = MR_CV_number_ALCM_array
					index = delete_idx
				}
				#
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			launch_trigger_yes_checkbox_button_click = {
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			launch_trigger_no_checkbox_button_click = {
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			launch_trigger_checkbox_button_click = {
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
		}

		triggers = {
			missile_model_button_click_enabled = {
				button_enable = yes
				NOT = { has_country_flag = open_MD_warhead_window }
			}
			warhead_button_click_enabled = {
				button_enable = yes
				NOT = { has_country_flag = open_MD_missile_type_window }
			}
			salvo_small_plus_button_bg_click_enabled = {
				button_enable = yes
			}
			salvo_small_minus_button_bg_click_enabled = {
				button_enable = yes
				check_variable = { var_gui_salvo > 0 }
			}
			duration_small_plus_button_bg_click_enabled = {
				button_enable = yes
			}
			duration_small_minus_button_bg_click_enabled = {
				button_enable = yes
				check_variable = { var_gui_duration > 0 }
			}
			fire_button_click_enabled = {
				if = {
					limit = {
						check_variable = { var_gui_nuke = 2 }
					}
					nuclear_strike_allowed_gui = yes
				}
				has_country_flag = has_trajectory
				has_country_flag = has_missile_model
				has_country_flag = has_warhead
				has_num_missiles = yes
				if = {
					limit = {
						check_variable = { var_gui_nuke = 2 } # 2 = nuke
					}
					has_num_nuke_warheads = yes
				}
			}
			alert_button_click_enabled = {
				has_country_flag = has_trajectory
				has_country_flag = has_missile_model
				has_country_flag = has_warhead
				has_num_missiles = yes
			}
			target_selection_button_click_enabled = {
				check_variable = { var_gui_nuke = 1 }
				has_country_flag = has_trajectory
				has_country_flag = has_missile_model
				has_country_flag = has_warhead
			}
			target_selection_2_button_click_enabled = {
				check_variable = { var_gui_nuke = 1 }
				has_country_flag = has_trajectory
				has_country_flag = has_missile_model
				has_country_flag = has_warhead
			}
			# gui
			trajectory_gui_delete_button_click_enabled = {
				OR = {
					has_country_flag = search_target_point
					has_country_flag = has_trajectory
				}
			}
			# dynamic list
			trajectory_delete_button_click_enabled = {
				ROOT = {
					original_tag = var:missile_launch_selected_TAG
				}
			}
			stats_button_click_enabled = {
				ROOT = {
					original_tag = var:missile_launch_selected_TAG
				}
			}
		}
		properties = {
			missile_model_icon = {
				image = "[MD_missile_type_selected_texture]"
			}
			warhead_icon = {
				image = "[MD_warhead_selected_texture]"
			}
			missile_launch_selected_TAG_flag_button = {
				image = "[?missile_launch_selected_TAG.GetFlag]"
			}
			fire_sort_button = {
				image = "GFX_sort_button_83x29"
				frame = var_fire_sort_button
				#scale = 0.75
			}
			alert_sort_button = {
				image = "GFX_sort_button_83x29"
				frame = var_alert_sort_button
				#scale = 0.75
			}
			missile_model_trajectory_icon = {
				image = "[missile_name_trajectory_selected_TAG_texture]"
			}
			warhead_trajectory_icon = {
				image = "[missile_trajectory_warhead_selected_TAG_textures]"
			}
			target_selection_button = {
				image = "GFX_strategicair_mission_btn_bg"
				frame = var_strategic_strike # 1 active, 2 not active
			}
			target_selection_2_button = {
				image = "GFX_strategicair_mission_btn_bg"
				frame = var_tactical_strike # 1 active, 2 not active
			}
			strike_type_trajectory_icon = {
				image = "GFX_strategicair_mission_types"
				#frame = missile_strike_type_array^i # 1 active, 2 not active
				frame = selected_TAG_missile_strike_type_array^i
			}
		}
		dynamic_lists = {
			trajectory_display_gridbox = {
				array = trajectory_display_array
				entry_container = trajectory_list_entry
			}
		}
	}

	MD_target_selection_view_gui = {
		window_name = MD_target_selection_view
		context_type = player_context
		parent_window_token = MD_countrymissilesview_launch

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_target_selection_view
		}

		dynamic_lists = {
			target_priorities_gridbox = {
				array = building_display_array
				entry_container = target_priorities_entry
			}
		}

		effects = {
			target_priority_button_click = {
				meta_effect = {
					text = {
						if = {
							limit = {
								check_variable = { var_target_selected_[ID_icon_frame] = 1 }
							}
							set_variable = { var_target_selected_[ID_icon_frame] = 0 }
						}
						else = {
							set_variable = { var_target_selected_[ID_icon_frame] = 1 }
						}
					}
					ID_icon_frame = "[?building_display_array^i]"
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			target_selected_icon_visible = {
				meta_trigger = {
					text = {
						check_variable = { var_target_selected_[ID_icon_frame] = 1 }
					}
					ID_icon_frame = "[?building_display_array^i]"
				}
			}
			target_priority_button_click_enabled = {
				OR = {
					AND = {
						check_variable = { global.conventional_warhead_industrial_complex_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 1 }
					}
					AND = {
						check_variable = { global.conventional_warhead_arms_factory_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 2 }
					}
					AND = {
						check_variable = { global.conventional_warhead_infrastructure_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 3 }
					}
					AND = {
						check_variable = { global.conventional_warhead_internet_station_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 4 }
					}
					AND = {
						check_variable = { global.conventional_warhead_dockyard_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 5 }
					}
					AND = {
						check_variable = { global.conventional_warhead_air_base_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 6 }
					}
					AND = {
						check_variable = { global.conventional_warhead_radar_station_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 7 }
					}
					AND = {
						check_variable = { global.conventional_warhead_anti_air_building_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 8 }
					}
					AND = {
						check_variable = { global.conventional_warhead_missile_defense_station_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 9 }
					}
					AND = {
						check_variable = { global.conventional_warhead_TEL_base_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 10 }
					}
					AND = {
						check_variable = { global.conventional_warhead_missile_silo_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 11 }
					}
					AND = {
						check_variable = { global.conventional_warhead_nuclear_reactor_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 12 }
					}
					AND = {
						check_variable = { global.conventional_warhead_synthetic_refinery_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 13 }
					}
					AND = {
						check_variable = { global.conventional_warhead_fuel_silo_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 14 }
					}
					AND = {
						check_variable = { global.conventional_warhead_offices_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 15 }
					}
					AND = {
						check_variable = { global.conventional_warhead_naval_base_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 16 }
					}
					AND = {
						check_variable = { global.conventional_warhead_bunker_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 17 }
					}
					AND = {
						check_variable = { global.conventional_warhead_coastal_bunker_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 18 }
					}
					AND = {
						check_variable = { global.conventional_warhead_supply_node_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 19 }
					}
					AND = {
						check_variable = { global.conventional_warhead_rail_way_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 20 }
					}
					AND = {
						check_variable = { global.conventional_warhead_fossil_powerplant_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 21 }
					}
					AND = {
						check_variable = { global.conventional_warhead_renewable_energy_target_array^var_conventional_warhead = 1 }
						check_variable = { building_display_array^i = 22 }
					}
				}
			}
		}
		properties = { target_priority_button = { frame = building_display_array^i } }
	}

	MD_missile_type_window_gui = {
		window_name = MD_missile_type_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_launch

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_missile_type_window
		}

		effects = {
			missile_selection_ledger_btn_1_click = {
				set_variable = { var_open_missile_selection_ledger_1 = 2 }
				clear_variable = var_open_missile_selection_ledger_2
				clear_array = cruise_missile_display_array
				set_ballistic_missile_display_array = yes
				set_country_flag = ballistic_missile_model
				clr_country_flag = cruise_missile_model
				missile_ui_update = yes
			}
			missile_selection_ledger_btn_2_click = {
				set_variable = { var_open_missile_selection_ledger_2 = 2 }
				clear_variable = var_open_missile_selection_ledger_1
				clear_array = ballistic_missile_display_array
				set_cruise_missile_display_array = yes
				set_country_flag = cruise_missile_model
				clr_country_flag = ballistic_missile_model
				missile_ui_update = yes
			}
			ballistic_missile_type_button_click = {
				clear_launch_button_loc_vars = yes
				set_country_flag = has_missile_model
				set_variable = { var_gui_missile_type = ballistic_missile_display_array^i }
				set_variable = { var_gui_salvo = 1 }
				set_variable = { var_gui_duration = 1 }
				set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 1 } # 1 active, 2 not active
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				set_ballistic_missile_model_gui = yes
				set_variable = { var_inventory = missile_inventory_array^var_gui_missile_type }
				clr_country_flag = open_MD_missile_type_window
				set_launch_button_number_vars = yes
				missile_ui_update = yes
			}
			cruise_missile_type_button_click = {
				clear_launch_button_loc_vars = yes
				set_country_flag = has_missile_model
				set_variable = { var_gui_missile_type = cruise_missile_display_array^i }
				set_variable = { var_gui_salvo = 1 }
				set_variable = { var_gui_duration = 1 }
					set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 1 } # 1 active, 2 not active
				set_variable = { var_total_firing = var_gui_salvo }
				multiply_variable = { var_total_firing = var_gui_duration }
				set_cruise_missile_model_gui = yes
				set_variable = { var_inventory = missile_inventory_array^var_gui_missile_type }
				clr_country_flag = open_MD_missile_type_window
				set_launch_button_number_vars = yes
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_missile_type_window
					}
					clr_country_flag = open_MD_missile_type_window
				}
				clear_variable = var_open_missile_selection_ledger_2
				clear_array = cruise_missile_display_array
				clr_country_flag = cruise_missile_model
				clear_variable = var_open_missile_selection_ledger_1
				clear_array = ballistic_missile_display_array
				clr_country_flag = ballistic_missile_model
				missile_ui_update = yes
			}
		}
		triggers = {
			### ballistic_missile
			ballistic_missile_type_button_visible = {
				has_country_flag = ballistic_missile_model
			}
			ballistic_missile_type_icon_visible = {
				has_country_flag = ballistic_missile_model
			}
			ballistic_missile_type_model_name_visible = {
				has_country_flag = ballistic_missile_model
			}
			ballistic_missile_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_BM_inventory_TT
					check_variable = { missile_inventory_array^ballistic_missile_display_array^i > 0 }
				}
			}
			### cruise_missile
			cruise_missile_type_button_visible = {
				has_country_flag = cruise_missile_model
			}
			cruise_missile_type_icon_visible = {
				has_country_flag = cruise_missile_model
			}
			cruise_missile_type_model_name_visible = {
				has_country_flag = cruise_missile_model
			}
			cruise_missile_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = NOT_has_selected_BM_warhead_TT
					NOT = {
						check_variable = { var_conventional_warhead = 7 }
						check_variable = { var_conventional_warhead = 8 }
						check_variable = { var_conventional_warhead = 9 }
						check_variable = { var_conventional_warhead = 10 }
						check_variable = { var_conventional_warhead = 11 }
					}
				}
				has_GNSS_mil_system_for_CM = yes
				custom_trigger_tooltip = {
					tooltip = has_CM_inventory_TT
					check_variable = { missile_inventory_array^cruise_missile_display_array^i > 0 }
				}
			}
		}
		properties = {
			# missile_type_icon = {
			# 	image = "[MD_missile_type_tech_icon_texture]"
			# }
			ballistic_missile_type_icon = {
				image = "[ballistic_missile_type_icon_texture]"
			}
			cruise_missile_type_icon = {
				image = "[cruise_missile_type_icon_texture]"
			}
			missile_selection_ledger_btn_1 = {
				frame = var_open_missile_selection_ledger_1
			}
			missile_selection_ledger_btn_2 = {
				frame = var_open_missile_selection_ledger_2
			}
		}
		dynamic_lists = {
			ballistic_missile_gridbox = {
				array = ballistic_missile_display_array # value = missile ID
				entry_container = ballistic_missile_entry
			}
			cruise_missile_gridbox = {
				array = cruise_missile_display_array # value = missile ID
				entry_container = cruise_missile_entry
			}
		}
	}

	MD_warhead_window_gui = {
		window_name = MD_warhead_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_launch

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_warhead_window
		}

		effects = {
			warhead_selection_ledger_btn_1_click = {
				set_variable = { var_open_warhead_selection_ledger_1 = 2 }
				clear_variable = var_open_warhead_selection_ledger_2
				clear_array = nuclear_warhead_display_array
				set_conventional_warhead_display_array = yes
				set_country_flag = conventional_warhead_model
				clr_country_flag = nuclear_warhead_model
				missile_ui_update = yes
			}
			warhead_selection_ledger_btn_2_click = {
				set_variable = { var_open_warhead_selection_ledger_2 = 2 }
				clear_variable = var_open_warhead_selection_ledger_1
				clear_array = conventional_warhead_display_array
				set_nuclear_warhead_display_array = yes
				set_country_flag = nuclear_warhead_model
				clr_country_flag = conventional_warhead_model
				missile_ui_update = yes
			}
			MIRV_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_win_MIRV = 1 }
				}
				missile_ui_update = yes
			}
			MIRV_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_win_MIRV = 1 }
					if = {
						limit = {
							check_variable = { var_win_MIRV < 0 }
						}
						set_variable = { var_win_MIRV = 0 }
					}
				}
				missile_ui_update = yes
			}
			Decoy_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_win_decoy = 1 }
				}
				missile_ui_update = yes
			}
			Decoy_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_win_decoy = 1 }
					if = {
						limit = {
							check_variable = { var_win_decoy < 0 }
						}
						set_variable = { var_win_decoy = 0 }
					}
				}
				missile_ui_update = yes
			}
			conventional_warhead_button_click = {
				set_country_flag = has_warhead
				set_variable = { var_conventional_warhead = conventional_warhead_display_array^i }
				if = {
					limit = {
						check_variable = { var_win_MIRV = 0 }
					}
					set_variable = { var_gui_MIRV = 1 }
				}
				else = {
					set_variable = { var_gui_MIRV = var_win_MIRV }
				}
				set_variable = { var_gui_decoy = var_win_decoy }
				set_variable = { var_gui_nuke = 1 }
				set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 2 } # 1 active, 2 not active
				set_gui_conventional_warhead_cost = yes
				set_conventional_warhead_targets_gui = yes
				clr_country_flag = open_MD_warhead_window
				clear_variable = var_open_warhead_selection_ledger_2
				clear_array = nuclear_warhead_display_array
				clr_country_flag = nuclear_warhead_model
				clear_variable = var_open_warhead_selection_ledger_1
				clear_array = conventional_warhead_display_array
				clr_country_flag = conventional_warhead_model
				missile_ui_update = yes
			}
			nuclear_warhead_button_click = {
				set_country_flag = has_warhead
				set_variable = { var_nuclear_warhead = nuclear_warhead_display_array^i }
				if = {
					limit = {
						check_variable = { var_win_MIRV = 0 }
					}
					set_variable = { var_gui_MIRV = 1 }
				}
				else = {
					set_variable = { var_gui_MIRV = var_win_MIRV }
				}
				set_variable = { var_gui_decoy = var_win_decoy }
				set_variable = { var_gui_nuke = 2 }
				set_variable = { var_strike_type = 4 } # 4 = strategic, 2 = tactical
				set_variable = { var_strategic_strike = 1 } # 1 active, 2 not active
				set_variable = { var_tactical_strike = 1 } # 1 active, 2 not active
				set_gui_nuclear_warhead_cost = yes
				clr_country_flag = open_MD_warhead_window
				clear_variable = var_open_warhead_selection_ledger_2
				clear_array = nuclear_warhead_display_array
				clr_country_flag = nuclear_warhead_model
				clear_variable = var_open_warhead_selection_ledger_1
				clear_array = conventional_warhead_display_array
				clr_country_flag = conventional_warhead_model
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_warhead_window
					}
					clr_country_flag = open_MD_warhead_window
				}
				clear_variable = var_open_warhead_selection_ledger_2
				clear_array = nuclear_warhead_display_array
				clr_country_flag = nuclear_warhead_model
				clear_variable = var_open_warhead_selection_ledger_1
				clear_array = conventional_warhead_display_array
				clr_country_flag = conventional_warhead_model
				missile_ui_update = yes
			}
		}
		triggers = {
			conventional_warhead_button_click_enabled = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = has_selected_BM_TT
						AND = {
							check_variable = { global.conventional_warhead_missile_type_array^i = 0 }
							check_variable = { var_gui_missile_type > 10 }
							check_variable = { var_gui_missile_type < 39 }
						}
					}
					custom_trigger_tooltip = {
						tooltip = has_selected_CM_TT
						AND = {
							check_variable = { global.conventional_warhead_missile_type_array^i = 1 }
						}
					}
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 0 }
					}
					has_tech = conventional_warhead_0
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 1 }
					}
					has_tech = conventional_warhead_1
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 2 }
					}
					has_tech = conventional_warhead_2
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 3 }
					}
					has_tech = conventional_warhead_3
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 4 }
					}
					has_tech = conventional_warhead_4
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 5 }
					}
					has_tech = conventional_warhead_5
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 6 }
					}
					has_tech = conventional_warhead_6
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 7 }
					}
					has_tech = conventional_warhead_7
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 8 }
					}
					has_tech = conventional_warhead_8
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 9 }
					}
					has_tech = conventional_warhead_9
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 10 }
					}
					has_tech = conventional_warhead_10
				}
				if = {
					limit = {
						check_variable = { conventional_warhead_display_array^i = 11 }
					}
					has_tech = conventional_warhead_11
				}
			}
			nuclear_warhead_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_nuclear_warhead_inventory_TT
					check_variable = { nuclear_warhead_inventory_array^nuclear_warhead_display_array^i > 0 }
				}
				NOT_has_PNW = yes
				has_NPOWER_OR_SPOWER = yes
				OR = {
					has_N3 = yes
					AND = {
						has_NBOMB = yes
						custom_trigger_tooltip = {
							tooltip = has_NBOMB_TT1
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 10 }
									check_variable = { var_gui_missile_type < 39 }
								}
							}
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 50 }
									check_variable = { var_gui_missile_type < 109 }
								}
							}
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 10 }
									check_variable = { var_gui_missile_type < 39 }
								}
							}
						}
					}
					AND = {
						has_NICBM = yes
						custom_trigger_tooltip = {
							tooltip = has_NICBM_TT1
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 30 }
									check_variable = { var_gui_missile_type < 49 }
								}
							}
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 60 }
									check_variable = { var_gui_missile_type < 73 }
								}
							}
						}
					}
					AND = {
						has_SSBN = yes
						custom_trigger_tooltip = {
							tooltip = has_SSBN_TT1
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 10 }
									check_variable = { var_gui_missile_type < 29 }
								}
							}
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 40 }
									check_variable = { var_gui_missile_type < 109 }
								}
							}
							NOT = {
								AND = {
									check_variable = { var_gui_missile_type > 70 }
									check_variable = { var_gui_missile_type < 73 }
								}
							}
						}
					}
				}
			}
			MIRV_small_plus_button_bg_click_enabled = {
				check_variable = { var_gui_missile_type > 10 }
				check_variable = { var_gui_missile_type < 39 }
				#limit MIRV
				set_temp_variable = { temp_MIRV = var_win_MIRV }
				add_to_temp_variable = { temp_MIRV = var_win_decoy }
				check_variable = { var_max_MIRV > temp_MIRV }
			}
			MIRV_small_minus_button_bg_click_enabled = {
				check_variable = { var_gui_missile_type > 10 }
				check_variable = { var_gui_missile_type < 39 }
			}
			Decoy_small_plus_button_bg_click_enabled = {
				check_variable = { var_gui_missile_type > 10 }
				check_variable = { var_gui_missile_type < 39 }
				#
				has_tech = ICBM4_MIRV_decoys
				#limit MIRV
				set_temp_variable = { temp_MIRV = var_win_MIRV }
				add_to_temp_variable = { temp_MIRV = var_win_decoy }
				check_variable = { var_max_MIRV > temp_MIRV }
			}
			Decoy_small_minus_button_bg_click_enabled = {
				check_variable = { var_gui_missile_type > 10 }
				check_variable = { var_gui_missile_type < 39 }
			}
		}
		properties = {
			# warhead_icon = {
			# 	image = "[MD_warhead_tech_icon_texture]"
			# }
			conventional_warhead_icon = {
				image = "[MD_conventional_warhead_window_texture]"
			}
			nuclear_warhead_icon = {
				image = "[MD_nuclear_warhead_window_texture]"
			}
			warhead_selection_ledger_btn_1 = {
				frame = var_open_warhead_selection_ledger_1
			}
			warhead_selection_ledger_btn_2 = {
				frame = var_open_warhead_selection_ledger_2
			}
		}
		dynamic_lists = {
			conventional_warhead_gridbox = {
				array = conventional_warhead_display_array # value = tech lvl
				entry_container = conventional_warhead_entry
			}
			nuclear_warhead_gridbox = {
				array = nuclear_warhead_display_array # value = tech lvl
				entry_container = nuclear_warhead_entry
			}
		}
	}

	MD_missile_launch_country_selection_gui = {
		window_name = MD_missile_launch_country_selection
		context_type = player_context
		parent_window_token = MD_countrymissilesview_launch

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_2 = 2 }
				has_country_flag = open_MD_countrymissilesview
				has_country_flag = open_MD_missile_launch_country_selection
			}
		}
		effects = {
			missile_launch_country_list_flag_button_click = {
				set_variable = { missile_launch_selected_TAG = ROOT.temp_countries^i }
				clr_country_flag = open_MD_missile_launch_country_selection
				set_missile_launch_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_missile_launch_country_selection
					}
					clr_country_flag = open_MD_missile_launch_country_selection
				}
				clear_array = ROOT.temp_countries
				missile_ui_update = yes
			}
		}

		dynamic_lists = {
			missile_launch_country_list_gridbox = {
				array = temp_countries
				entry_container = missile_launch_country_list_entry
			}
		}
		properties = {
			missile_launch_country_list_flag_button = {
				image = "[?ROOT.temp_countries^i.GetFlag]"
			}
		}
	}

	MD_missile_stat_view_gui = {
		window_name = MD_missile_stat_view
		context_type = player_context
		parent_window_token = MD_countrymissilesview_launch

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_missile_stat_view
		}

		effects = {
			previous_stat_trajectory_button_click = {
				subtract_from_variable = { var_stat_trajectory_ID = 1 }
				missile_ui_update = yes
			}
			next_stat_trajectory_button_click = {
				add_to_variable = { var_stat_trajectory_ID = 1 }
				missile_ui_update = yes
			}
		}

		dynamic_lists = {
			missiles_stat_gridbox = {
				array = building_damage_stat_display_array #missile_launch_point_array
				entry_container = missiles_stat_entry
				#change_scope = yes
			}
		}

		properties = {
			stat_icon = {
				frame = building_damage_stat_display_array^i # building_display_array^i ???
			}
		}
	}

	MD_countrymissilesview_defense_gui = {
		window_name = MD_countrymissilesview_defense
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_3 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			NSAM_model_button_click = {
				ROOT = {
					set_SAM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = NSAM_model
				}
				missile_ui_update = yes
			}
			SAM_model_button_click = {
				ROOT = {
					set_SAM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = SAM_model
				}
				missile_ui_update = yes
			}
			NSAM_MD_model_button_click = {
				ROOT = {
					set_SAM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = NSAM_MD_model
				}
				missile_ui_update = yes
			}
			SAM_MD_model_button_click = {
				ROOT = {
					set_SAM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = SAM_MD_model
				}
				missile_ui_update = yes
			}
			NABM_model_button_click = {
				ROOT = {
					set_ABM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = NABM_model
				}
				missile_ui_update = yes
			}
			ABM_model_button_click = {
				ROOT = {
					set_ABM_display_array = yes
					set_country_flag = open_MD_missile_defense_type_window
					set_country_flag = ABM_model
				}
				missile_ui_update = yes
			}
			NSAM_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_NSAM_AD_deployed = 1 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_type = 1 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_NSAM_AD_deployed = 1 }
					add_to_variable = { missile_inventory_array^var_NSAM_type = 1 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_NSAM_AD_deployed = 10 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_type = 10 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_NSAM_AD_deployed = 10 }
					add_to_variable = { missile_inventory_array^var_NSAM_type = 10 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_NSAM_AD_deployed = 100 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_type = 100 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_NSAM_AD_deployed = 100 }
					add_to_variable = { missile_inventory_array^var_NSAM_type = 100 }
					calculate_NSAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_SAM_AD_deployed = 1 }
					subtract_from_variable = { missile_inventory_array^var_SAM_type = 1 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_SAM_AD_deployed = 1 }
					add_to_variable = { missile_inventory_array^var_SAM_type = 1 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_SAM_AD_deployed = 10 }
					subtract_from_variable = { missile_inventory_array^var_SAM_type = 10 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_SAM_AD_deployed = 10 }
					add_to_variable = { missile_inventory_array^var_SAM_type = 10 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_SAM_AD_deployed = 100 }
					subtract_from_variable = { missile_inventory_array^var_SAM_type = 100 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_SAM_AD_deployed = 100 }
					add_to_variable = { missile_inventory_array^var_SAM_type = 100 }
					calculate_SAM_AD_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_sea = 1 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_MD_type = 1 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_sea = 1 }
					add_to_variable = { missile_inventory_array^var_NSAM_MD_type = 1 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_sea = 10 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_MD_type = 10 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_sea = 10 }
					add_to_variable = { missile_inventory_array^var_NSAM_MD_type = 10 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_sea = 100 }
					subtract_from_variable = { missile_inventory_array^var_NSAM_MD_type = 100 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_MD_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_sea = 100 }
					add_to_variable = { missile_inventory_array^var_NSAM_MD_type = 100 }
					calculate_SAM_MD_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_land = 1 }
					subtract_from_variable = { missile_inventory_array^var_SAM_MD_type = 1 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_land = 1 }
					add_to_variable = { missile_inventory_array^var_SAM_MD_type = 1 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_land = 10 }
					subtract_from_variable = { missile_inventory_array^var_SAM_MD_type = 10 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_land = 10 }
					add_to_variable = { missile_inventory_array^var_SAM_MD_type = 10 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_deployed_SAM_MD_land = 100 }
					subtract_from_variable = { missile_inventory_array^var_SAM_MD_type = 100 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			SAM_MD_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_SAM_MD_land = 100 }
					add_to_variable = { missile_inventory_array^var_SAM_MD_type = 100 }
					calculate_SAM_MD_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NABM_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_sea = 1 }
					subtract_from_variable = { missile_inventory_array^var_NABM_type = 1 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NABM_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_sea = 1 }
					add_to_variable = { missile_inventory_array^var_NABM_type = 1 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NABM_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_sea = 10 }
					subtract_from_variable = { missile_inventory_array^var_NABM_type = 10 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}

			NABM_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_sea = 10 }
					add_to_variable = { missile_inventory_array^var_NABM_type = 10 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NABM_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_sea = 100 }
					subtract_from_variable = { missile_inventory_array^var_NABM_type = 100 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}

			NABM_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_sea = 100 }
					add_to_variable = { missile_inventory_array^var_NABM_type = 100 }
					calculate_ABM_sea_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_land = 1 }
					subtract_from_variable = { missile_inventory_array^var_ABM_type = 1 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_land = 1 }
					add_to_variable = { missile_inventory_array^var_ABM_type = 1 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_land = 10 }
					subtract_from_variable = { missile_inventory_array^var_ABM_type = 10 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_land = 10 }
					add_to_variable = { missile_inventory_array^var_ABM_type = 10 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_deployed_ABM_land = 100 }
					subtract_from_variable = { missile_inventory_array^var_ABM_type = 100 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			ABM_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_deployed_ABM_land = 100 }
					add_to_variable = { missile_inventory_array^var_ABM_type = 100 }
					calculate_ABM_land_gui_vars = yes
				}
				missile_ui_update = yes
			}
			NSAM_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_NSAM_auto_redeploy = 1 }
					}
					set_variable = { var_NSAM_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_NSAM_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			SAM_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_SAM_auto_redeploy = 1 }
					}
					set_variable = { var_SAM_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_SAM_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			NSAM_MD_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_NSAM_MD_auto_redeploy = 1 }
					}
					set_variable = { var_NSAM_MD_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_NSAM_MD_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			SAM_MD_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_SAM_MD_auto_redeploy = 1 }
					}
					set_variable = { var_SAM_MD_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_SAM_MD_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			NABM_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_NABM_auto_redeploy = 1 }
					}
					set_variable = { var_NABM_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_NABM_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
			ABM_auto_redeploy_checkmark_click = {
				if = {
					limit = {
						check_variable = { var_ABM_auto_redeploy = 1 }
					}
					set_variable = { var_ABM_auto_redeploy = 2 }
				}
				else = {
					set_variable = { var_ABM_auto_redeploy = 1 }
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			NSAM_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_NSAM_type > 0 }
			}
			SAM_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_SAM_type > 0 }
			}
			NSAM_MD_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_NSAM_MD_type > 0 }
			}
			SAM_MD_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_SAM_MD_type > 0 }
			}
			NABM_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_NABM_type > 0 }
			}
			ABM_auto_redeploy_checkmark_click_enabled = {
				check_variable = { var_ABM_type > 0 }
			}
			#NSAM
			NSAM_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_type > 0 }
				check_variable = { var_NSAM_AD_deploy_ratio < 1 }
			}
			NSAM_small_minus_button_bg_click_enabled = {
				check_variable = { var_NSAM_AD_deployed > 0 }
			}
			NSAM_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_type > 9 }
				check_variable = { var_NSAM_AD_deploy_ratio < 1 }
			}
			NSAM_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_NSAM_AD_deployed > 9 }
			}
			NSAM_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_type > 99 }
				check_variable = { var_NSAM_AD_deploy_ratio < 1 }
			}
			NSAM_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_NSAM_AD_deployed > 99 }
			}
			#SAM
			SAM_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_type > 0 }
				check_variable = { var_SAM_AD_deploy_ratio < 1 }
			}
			SAM_small_minus_button_bg_click_enabled = {
				check_variable = { var_SAM_AD_deployed > 0 }
			}
			SAM_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_type > 9 }
				check_variable = { var_SAM_AD_deploy_ratio < 1 }
			}
			SAM_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_SAM_AD_deployed > 9 }
			}
			SAM_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_type > 99 }
				check_variable = { var_SAM_AD_deploy_ratio < 1 }
			}
			SAM_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_SAM_AD_deployed > 99 }
			}
			#NSAM_MD
			NSAM_MD_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_MD_type > 0 }
				OR = {
					check_variable = { var_deployed_SAM_MD_sea < var_max_deployed_SAM_MD_sea }
					check_variable = { var_deployed_SAM_MD_sea = 0 }
				}
			}
			NSAM_MD_small_minus_button_bg_click_enabled = {
				check_variable = { var_deployed_SAM_MD_sea > 0 }
			}
			NSAM_MD_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_MD_type > 9 }
				OR = {
					check_variable = { var_deployed_SAM_MD_sea < var_max_deployed_SAM_MD_sea }
					check_variable = { var_deployed_SAM_MD_sea = 0 }
				}
			}
			NSAM_MD_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_deployed_SAM_MD_sea > 9 }
			}
			NSAM_MD_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_NSAM_MD_type > 99 }
				OR = {
					check_variable = { var_deployed_SAM_MD_sea < var_max_deployed_SAM_MD_sea }
					check_variable = { var_deployed_SAM_MD_sea = 0 }
				}
			}
			NSAM_MD_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_deployed_SAM_MD_sea > 99 }
			}
			#SAM_MD
			SAM_MD_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_MD_type > 0 }
				OR = {
					check_variable = { var_deployed_SAM_MD_land < var_max_deployed_SAM_MD_land }
					check_variable = { var_deployed_SAM_MD_land = 0 }
				}
			}
			SAM_MD_small_minus_button_bg_click_enabled = {
				check_variable = { var_deployed_SAM_MD_land > 0 }
			}
			SAM_MD_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_MD_type > 9 }
				OR = {
					check_variable = { var_deployed_SAM_MD_land < var_max_deployed_SAM_MD_land }
					check_variable = { var_deployed_SAM_MD_land = 0 }
				}
			}
			SAM_MD_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_deployed_SAM_MD_land > 9 }
			}
			SAM_MD_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_SAM_MD_type > 99 }
				OR = {
					check_variable = { var_deployed_SAM_MD_land < var_max_deployed_SAM_MD_land }
					check_variable = { var_deployed_SAM_MD_land = 0 }
				}
			}
			SAM_MD_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_deployed_SAM_MD_land > 99 }
			}
			#NABM
			NABM_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_NABM_type > 0 }
				OR = {
					check_variable = { var_deployed_ABM_sea < var_max_deployed_ABM_sea }
					check_variable = { var_deployed_ABM_sea = 0 }
				}
			}
			NABM_small_minus_button_bg_click_enabled = {
				check_variable = { var_deployed_ABM_sea > 0 }
			}
			NABM_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_NABM_type > 9 }
				OR = {
					check_variable = { var_deployed_ABM_sea < var_max_deployed_ABM_sea }
					check_variable = { var_deployed_ABM_sea = 0 }
				}
			}
			NABM_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_deployed_ABM_sea > 9 }
			}
			NABM_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_NABM_type > 99 }
				OR = {
					check_variable = { var_deployed_ABM_sea < var_max_deployed_ABM_sea }
					check_variable = { var_deployed_ABM_sea = 0 }
				}
			}
			NABM_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_deployed_ABM_sea > 99 }
			}
			#ABM
			ABM_small_plus_button_bg_click_enabled = {
				check_variable = { missile_inventory_array^var_ABM_type > 0 }
				OR = {
					check_variable = { var_deployed_ABM_land < var_max_deployed_ABM_land }
					check_variable = { var_deployed_ABM_land = 0 }
				}
			}
			ABM_small_minus_button_bg_click_enabled = {
				check_variable = { var_deployed_ABM_land > 0 }
			}
			ABM_small_plus_button_bg_control_click_enabled = {
				check_variable = { missile_inventory_array^var_ABM_type > 9 }
				OR = {
					check_variable = { var_deployed_ABM_land < var_max_deployed_ABM_land }
					check_variable = { var_deployed_ABM_land = 0 }
				}
			}
			ABM_small_minus_button_bg_control_click_enabled = {
				check_variable = { var_deployed_ABM_land > 9 }
			}
			ABM_small_plus_button_bg_shift_click_enabled = {
				check_variable = { missile_inventory_array^var_ABM_type > 99 }
				OR = {
					check_variable = { var_deployed_ABM_land < var_max_deployed_ABM_land }
					check_variable = { var_deployed_ABM_land = 0 }
				}
			}
			ABM_small_minus_button_bg_shift_click_enabled = {
				check_variable = { var_deployed_ABM_land > 99 }
			}
		}
		properties = {
			### NSAM
			NSAM_model_icon = {
				image = "[NSAM_selected_icon_texture]"
			}
			### SAM
			SAM_model_icon = {
				image = "[SAM_selected_icon_texture]"
			}
			### NSAM_MD
			NSAM_MD_model_icon = {
				image = "[NSAM_MD_selected_icon_texture]"
			}
			### SAM_MD
			SAM_MD_model_icon = {
				image = "[SAM_MD_selected_icon_texture]"
			}
			### NABM
			NABM_model_icon = {
				image = "[NABM_selected_icon_texture]"
			}
			### ABM
			ABM_model_icon = {
				image = "[ABM_selected_icon_texture]"
			}
			NSAM_auto_redeploy_checkmark = {
				frame = var_NSAM_auto_redeploy
			}
			SAM_auto_redeploy_checkmark = {
				frame = var_SAM_auto_redeploy
			}
			NSAM_MD_auto_redeploy_checkmark = {
				frame = var_NSAM_MD_auto_redeploy
			}
			SAM_MD_auto_redeploy_checkmark = {
				frame = var_SAM_MD_auto_redeploy
			}
			NABM_auto_redeploy_checkmark = {
				frame = var_NABM_auto_redeploy
			}
			ABM_auto_redeploy_checkmark = {
				frame = var_ABM_auto_redeploy
			}
		}
	}

	MD_missile_defense_type_window_gui = {
		window_name = MD_missile_defense_type_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_defense

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_missile_defense_type_window
		}
		effects = {
			### NSAM
			NSAM_type_button_click = {
				clr_country_flag = NSAM_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_NSAM_type = var_NSAM_AD_deployed }
				set_variable = { var_NSAM_AD_deployed = 0 }
				#set_variable = { var_ship_SAM_launcher_tech = global.SAM_TEL_array^i } ### needs to be changed to ship launcher
				set_variable = { var_NSAM_AD_damage = global.SAM_AD_damage_array^i }
				set_variable = { var_NSAM_AD_costs_unit = global.SAM_AD_costs_total_array^i }
				set_variable = { var_fleet_air_defense_system = global.fleet_air_defense_system_array^i }
				set_variable = { var_NSAM_type = SAM_display_array^i }
				clear_array = SAM_display_array
				calculate_NSAM_AD_gui_vars = yes
				missile_ui_update = yes
			}
			### SAM
			SAM_type_button_click = {
				clr_country_flag = SAM_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_SAM_type = var_SAM_AD_deployed }
				set_variable = { var_SAM_AD_deployed = 0 }
				#set_variable = { var_SAM_AD_launcher_tech = global.SAM_TEL_array^i }
				set_variable = { var_SAM_AD_launcher_tech = var_SAM_launcher_tech }
				#set_variable = { var_SAM_AD_damage = global.SAM_AD_damage_array^i }
				set_variable = { var_SAM_AD_damage_gui = global.SAM_AD_damage_array^i }
				set_variable = { var_SAM_AD_costs_unit = global.SAM_AD_costs_total_array^i }
				#set_variable = { var_SAM_AD_intercept_chance_total = global.SAM_intercept_chance_array^i }
				set_variable = { var_SAM_AD_intercept_chance_total_gui = global.SAM_intercept_chance_array^i }
				set_variable = { var_SAM_type = SAM_display_array^i }
				clear_array = SAM_display_array
				calculate_SAM_AD_gui_vars = yes
				missile_ui_update = yes
			}
			### NSAM_MD
			NSAM_MD_type_button_click = {
				clr_country_flag = NSAM_MD_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_NSAM_MD_type = var_deployed_SAM_MD_sea }
				set_variable = { var_deployed_SAM_MD_sea = 0 }
				#set_variable = { var_SAM_launcher_tech = global.SAM_TEL_array^i }
				set_variable = { var_NSAM_MD_costs_unit = global.SAM_AD_costs_total_array^i }
				#set_variable = { var_SAM_range = global.SAM_range_array^i }
				set_variable = { var_SAM_intercept_chance_sea = global.SAM_intercept_chance_array^i }
				set_variable = { var_NSAM_MD_type = SAM_display_array^i }
				clear_array = SAM_display_array
				missile_ui_update = yes
			}
			### SAM_MD
			SAM_MD_type_button_click = {
				clr_country_flag = SAM_MD_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_SAM_MD_type = var_deployed_SAM_MD_land }
				set_variable = { var_deployed_SAM_MD_land = 0 }
				#set_variable = { var_SAM_launcher_tech = global.SAM_TEL_array^i }
				set_variable = { var_SAM_MD_costs_unit = global.SAM_AD_costs_total_array^i }
				set_variable = { var_SAM_range = global.SAM_range_array^i }
				set_variable = { var_SAM_intercept_chance_land = global.SAM_intercept_chance_array^i }
				set_variable = { var_SAM_MD_type = SAM_display_array^i }
				clear_array = SAM_display_array
				missile_ui_update = yes
			}
			### NABM
			NABM_type_button_click = {
				clr_country_flag = NABM_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_NABM_type = var_deployed_ABM_sea }
				set_variable = { var_deployed_ABM_sea = 0 }
				#set_variable = { var_ship_ABM_launcher_tech = global.ABM_silo_array^i } ### needs to be changed to ship launcher
				set_variable = { var_NABM_costs_unit = global.ABM_costs_total_array^i }
				#set_variable = { var_SAM_range = global.SAM_range_array^i }
				set_variable = { var_ABM_intercept_chance_sea = global.ABM_intercept_chance_array^i }
				set_variable = { var_NABM_type = ABM_display_array^i }
				clear_array = ABM_display_array
				missile_ui_update = yes
			}
			### ABM
			ABM_type_button_click = {
				clr_country_flag = ABM_model
				clr_country_flag = open_MD_missile_defense_type_window
				#remove current
				add_to_variable = { missile_inventory_array^var_ABM_type = var_deployed_ABM_land }
				set_variable = { var_deployed_ABM_land = 0 }
				#set_variable = { var_ABM_launcher_tech = global.ABM_silo_array^i }
				set_variable = { var_ABM_costs_unit = global.ABM_costs_total_array^i }
				set_variable = { var_ABM_range = global.ABM_range_array^i }
				set_variable = { var_ABM_intercept_chance_land = global.ABM_intercept_chance_array^i }
				set_variable = { var_ABM_type = ABM_display_array^i }
				clear_array = ABM_display_array
				missile_ui_update = yes
			}
			close_button_click = {
				clr_country_flag = NSAM_model
				clr_country_flag = SAM_model
				clr_country_flag = NSAM_MD_model
				clr_country_flag = SAM_MD_model
				clr_country_flag = NABM_model
				clr_country_flag = ABM_model
				clear_array = SAM_display_array
				clear_array = ABM_display_array
				if = {
					limit = {
						has_country_flag = open_MD_missile_defense_type_window
					}
					clr_country_flag = open_MD_missile_defense_type_window
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			### NSAM
			NSAM_type_button_visible = {
				has_country_flag = NSAM_model
			}
			NSAM_type_icon_visible = {
				has_country_flag = NSAM_model
			}
			NSAM_type_model_name_visible = {
				has_country_flag = NSAM_model
			}
			NSAM_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_NSAM_inventory_TT
					check_variable = { missile_inventory_array^SAM_display_array^i > 0 }
				}
			}
			### SAM
			SAM_type_button_visible = {
				has_country_flag = SAM_model
			}
			SAM_type_icon_visible = {
				has_country_flag = SAM_model
			}
			SAM_type_model_name_visible = {
				has_country_flag = SAM_model
			}
			SAM_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SAM_inventory_TT
					check_variable = { missile_inventory_array^SAM_display_array^i > 0 }
				}
			}
			### NSAM_MD
			NSAM_MD_type_button_visible = {
				has_country_flag = NSAM_MD_model
			}
			NSAM_MD_type_icon_visible = {
				has_country_flag = NSAM_MD_model
			}
			NSAM_MD_type_model_name_visible = {
				has_country_flag = NSAM_MD_model
			}
			NSAM_MD_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_NSAM_MD_inventory_TT
					check_variable = { missile_inventory_array^SAM_display_array^i > 0 }
				}
			}
			### SAM_MD
			SAM_MD_type_button_visible = {
				has_country_flag = SAM_MD_model
			}
			SAM_MD_type_icon_visible = {
				has_country_flag = SAM_MD_model
			}
			SAM_MD_type_model_name_visible = {
				has_country_flag = SAM_MD_model
			}
			SAM_MD_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SAM_MD_inventory_TT
					check_variable = { missile_inventory_array^SAM_display_array^i > 0 }
				}
			}
			### NABM
			NABM_type_button_visible = {
				has_country_flag = NABM_model
			}
			NABM_type_icon_visible = {
				has_country_flag = NABM_model
			}
			NABM_type_model_name_visible = {
				has_country_flag = NABM_model
			}
			NABM_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_NABM_inventory_TT
					check_variable = { missile_inventory_array^ABM_display_array^i > 0 }
				}
			}
			### ABM
			ABM_type_button_visible = {
				has_country_flag = ABM_model
			}
			ABM_type_icon_visible = {
				has_country_flag = ABM_model
			}
			ABM_type_model_name_visible = {
				has_country_flag = ABM_model
			}
			ABM_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_NABM_inventory_TT
					check_variable = { missile_inventory_array^ABM_display_array^i > 0 }
				}
			}
		}
		properties = {
			### NSAM
			NSAM_type_icon = {
				image = "[NSAM_type_icon_texture]"
			}
			### SAM
			SAM_type_icon = {
				image = "[SAM_type_icon_texture]"
			}
			### NSAM_MD
			NSAM_MD_type_icon = {
				image = "[NSAM_MD_type_icon_texture]"
			}
			### SAM_MD
			SAM_MD_type_icon = {
				image = "[SAM_MD_type_icon_texture]"
			}
			### NABM
			NABM_type_icon = {
				image = "[NABM_type_icon_texture]"
			}
			### ABM
			ABM_type_icon = {
				image = "[ABM_type_icon_texture]"
			}
		}
		dynamic_lists = {
			### NSAM
			NSAM_types_gridbox = {
				array = SAM_display_array
				entry_container = NSAM_type_entry
			}
			### SAM
			SAM_types_gridbox = {
				array = SAM_display_array
				entry_container = SAM_type_entry
			}
			### NSAM_MD
			NSAM_MD_types_gridbox = {
				array = SAM_display_array
				entry_container = NSAM_MD_type_entry
			}
			### SAM_MD
			SAM_MD_types_gridbox = {
				array = SAM_display_array
				entry_container = SAM_MD_type_entry
			}
			### NABM
			NABM_types_gridbox = {
				array = ABM_display_array
				entry_container = NABM_type_entry
			}
			### ABM
			ABM_types_gridbox = {
				array = ABM_display_array
				entry_container = ABM_type_entry
			}
		}
	}

	MD_countrymissilesview_space_gui = {
		window_name = MD_countrymissilesview_space
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			OLV_model_button_click = {
				ROOT = {
					set_OLV_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = OLV_model
				}
				missile_ui_update = yes
			}
			payload_button_click = {
				ROOT = {
					set_variable = { var_open_space_selection_ledger_1 = 2 }
					set_sat_payload_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = sat_payload_model
				}
				missile_ui_update = yes
			}
			clear_payload_button_click = {
				clear_payload_types = yes
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 1 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 1 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 10 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 10 }
					if = {
						limit = {
							check_variable = { var_OLV_flights < 0 }
						}
						set_variable = { var_OLV_flights = 0 }
					}
				}
				missile_ui_update = yes
			}
			OLV_flights_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_OLV_flights = 100 }
				}
				missile_ui_update = yes
			}
			OLV_flights_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_OLV_flights = 100 }
					if = {
						limit = {
							check_variable = { var_OLV_flights < 0 }
						}
						set_variable = { var_OLV_flights = 0 }
					}
				}
				missile_ui_update = yes
			}
			OLV_launch_button_click = {
				launch_OLV = yes
				### update orbit stat
				set_variable = { orbit_selected_TAG = ROOT.id }
				set_sat_access_arrays_selected_TAG = yes
				set_satellites_gui = yes
				missile_ui_update = yes
			}
			ASAT_model_button_click = {
				ROOT = {
					set_ASAT_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = ASAT_model
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 1 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 1 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 10 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 10 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_ASAT_salvo = 100 }
				}
				missile_ui_update = yes
			}
			ASAT_salvo_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_ASAT_salvo = 100 }
					if = {
						limit = {
							check_variable = { var_ASAT_salvo < 0 }
						}
						set_variable = { var_ASAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			ASAT_button_click = {
				set_variable = { ROOT.var_anti_sat_accuracy = ROOT.var_ASAT_accuracy }
				set_variable = { ROOT.var_anti_satellite_weapon_num = ROOT.var_ASAT_salvo }
				anti_satellite_weapon_use = yes
				subtract_from_variable = { ROOT.missile_inventory_array^var_ASAT_type = ROOT.var_ASAT_salvo }
				set_variable = { ROOT.var_ASAT_inventory = ROOT.missile_inventory_array^var_ASAT_type }
				set_variable = { ROOT.var_ASAT_salvo = 0 }
				missile_ui_update = yes
			}
			KILLSAT_model_button_click = {
				ROOT = {
					set_KILLSAT_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = KILLSAT_model
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 1 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 1 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_control_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 10 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_control_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 10 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_plus_button_bg_shift_click = {
				ROOT = {
					add_to_variable = { var_KILLSAT_salvo = 100 }
				}
				missile_ui_update = yes
			}
			KILLSAT_salvo_small_minus_button_bg_shift_click = {
				ROOT = {
					subtract_from_variable = { var_KILLSAT_salvo = 100 }
					if = {
						limit = {
							check_variable = { var_KILLSAT_salvo < 0 }
						}
						set_variable = { var_KILLSAT_salvo = 0 }
					}
				}
				missile_ui_update = yes
			}
			activate_killsat_button_click = {
				set_variable = { ROOT.var_anti_sat_accuracy = ROOT.var_KILLSAT_accuracy }
				set_variable = { ROOT.var_anti_satellite_weapon_num = ROOT.var_KILLSAT_salvo }
				anti_satellite_weapon_use = yes
				remove_killsat_used = yes
				missile_ui_update = yes
			}
			RODS_model_button_click = {
				ROOT = {
					set_RODS_display_array = yes
					set_country_flag = open_MD_space_selection_window
					set_country_flag = RODS_model
				}
				missile_ui_update = yes
			}
			kinetic_bombardment_button_click = {
				set_kinetic_bombardment_damage = yes
				if = {
					limit = {
						check_variable = { var_kinetic_bombardment_stats = 2 }
					}
					news_event = {
						id = satellites.9
					}
				}
				remove_rods_used = yes
				clr_country_flag = RODS_has_target
				clear_variable = var_RODS_type
				clear_variable = var_RODS_orbit
				missile_ui_update = yes
			}
			kinetic_bombardment_stats_button_click = {
				if = {
					limit = {
						NOT = { check_variable = { var_kinetic_bombardment_stats = 1 } }
					}
					set_variable = { var_kinetic_bombardment_stats = 1 }
				}
				else = {
					set_variable = { var_kinetic_bombardment_stats = 2 }
				}
				missile_ui_update = yes
			}
			rods_search_target_button_click = {
				if = {
					limit = {
						NOT = { has_country_flag = rods_search_target }
					}
					set_country_flag = rods_search_target
				}
				else = {
					clr_country_flag = rods_search_target
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			OLV_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			payload_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			ASAT_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			KILLSAT_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			KILLSAT_salvo_small_minus_button_bg_click_enabled = {
				check_variable = { var_KILLSAT_salvo > 0 }
			}
			RODS_model_button_click_enabled = {
				NOT = {
					has_country_flag = open_MD_space_selection_window
				}
			}
			OLV_launch_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_1
					OR = {
						check_variable = { var_launch_mass < var_OLV_payload_mass }
						check_variable = { var_launch_mass = var_OLV_payload_mass }
					}
				}
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_2
					OR = {
						check_variable = { var_OLV_flights < var_OLV_inventory }
						check_variable = { var_OLV_flights = var_OLV_inventory }
					}
				}
				custom_trigger_tooltip = {
					tooltip = OLV_LAUNCH_BUTTON_TT_trigger_3
					check_variable = { var_OLV_flights > 0 }
				}
			}
			OLV_flights_small_minus_button_bg_click_enabled = {
				check_variable = { var_OLV_flights > 0 }
			}
			ASAT_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = ASAT_salvo_trigger_1_TT
					check_variable = { var_ASAT_salvo > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = ASAT_salvo_trigger_2_TT
					OR = {
						check_variable = { var_ASAT_salvo < var_ASAT_inventory }
						check_variable = { var_ASAT_salvo = var_ASAT_inventory }
					}
				}
				custom_trigger_tooltip = {
					tooltip = has_target_list_TT
					check_variable = { ROOT.sat_target_array^num > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = has_war_sat_trigger_TT
					all_of_scopes = {
						array = ROOT.sat_target_TAG_array

						ROOT = { has_war_with = PREV }
					}
				}
			}
			ASAT_salvo_small_minus_button_bg_click_enabled = {
				check_variable = { var_ASAT_salvo > 0 }
			}
			activate_killsat_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = KILLSAT_salvo_trigger_1_TT
					check_variable = { var_KILLSAT_salvo > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = KILLSAT_salvo_trigger_2_TT
					OR = {
						check_variable = { var_KILLSAT_salvo < var_KILLSAT_orbit }
						check_variable = { var_KILLSAT_salvo = var_KILLSAT_orbit }
					}
				}
				custom_trigger_tooltip = {
					tooltip = has_target_list_TT
					check_variable = { ROOT.sat_target_array^num > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = has_war_sat_trigger_TT
					all_of_scopes = {
						array = ROOT.sat_target_TAG_array

						ROOT = { has_war_with = PREV }
					}
				}
			}
			kinetic_bombardment_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_RODS_orbit_target_TT
					check_variable = { var_RODS_orbit > 0 }
				}
				custom_trigger_tooltip = {
					tooltip = RODS_has_target_TT
					has_country_flag = RODS_has_target
				}
			}
		}
		properties = {
			### OLV
			OLV_model_icon = {
				image = "[OLV_selected_icon_texture]"
			}
			payload_icon = {
				image = "[payload_icon_selected_texture]"
			}
			ASAT_model_icon = {
				image = "[ASAT_selected_icon_texture]"
			}
			KILLSAT_model_icon = {
				image = "[KILLSAT_selected_icon_texture]"
			}
			RODS_model_icon = {
				image = "[RODS_selected_icon_texture]"
			}
			kinetic_bombardment_stats_button = {
				frame = var_kinetic_bombardment_stats
			}
		}
		dynamic_lists = {
			payload_types_gridbox = {
				array = payload_types_array # one element per type, value = tech lvl
				entry_container = payload_type_entry
				#change_scope = yes
			}
		}
	}

	MD_space_selection_window_gui = {
		window_name = MD_space_selection_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_space

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_space_selection_window
		}

		effects = {
			OLV_type_button_click = {
				set_variable = { var_OLV_type = OLV_display_array^i }
				set_variable = { var_OLV_reliability = global.OLV_reliability_array^i }
				set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				set_variable = { var_OLV_inventory = missile_inventory_array^OLV_display_array^i }
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			sat_payload_type_button_click = {
				if = {
					limit = {
						check_variable = { payload_types_array^0 = 1 }
					}
					set_variable = { payload_types_array^0 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^1 = 1 }
					}
					set_variable = { payload_types_array^1 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^2 = 1 }
					}
					set_variable = { payload_types_array^2 = sat_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^3 = 1 }
					}
					set_variable = { payload_types_array^3 = sat_payload_display_array^i }
				}
				else = {
					add_to_array = { payload_types_array = sat_payload_display_array^i }
				}
				add_to_variable = { var_launch_mass = global.sat_mass_array^i }
				#set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				clear_array = sat_payload_display_array
				clr_country_flag = sat_payload_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			spp_payload_type_button_click = {
				if = {
					limit = {
						check_variable = { payload_types_array^0 = 1 }
					}
					set_variable = { payload_types_array^0 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^1 = 1 }
					}
					set_variable = { payload_types_array^1 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^2 = 1 }
					}
					set_variable = { payload_types_array^2 = spp_payload_display_array^i }
				}
				else_if = {
					limit = {
						check_variable = { payload_types_array^3 = 1 }
					}
					set_variable = { payload_types_array^3 = spp_payload_display_array^i }
				}
				else = {
					add_to_array = { payload_types_array = spp_payload_display_array^i }
				}
				add_to_variable = { var_launch_mass = global.spp_mass_array^i }
				#set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				clear_array = spp_payload_display_array
				clr_country_flag = spp_payload_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			space_selection_ledger_btn_1_click = {
				set_variable = { var_open_space_selection_ledger_1 = 2 }
				clear_variable = var_open_space_selection_ledger_2
				set_sat_payload_display_array = yes
				set_country_flag = sat_payload_model
				clear_array = spp_payload_display_array
				clr_country_flag = spp_payload_model
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				missile_ui_update = yes
			}
			space_selection_ledger_btn_2_click = {
				set_variable = { var_open_space_selection_ledger_2 = 2 }
				clear_variable = var_open_space_selection_ledger_1
				set_spp_payload_display_array = yes
				set_country_flag = spp_payload_model
				clear_array = sat_payload_display_array
				clr_country_flag = sat_payload_model
				clear_array = OLV_display_array
				clr_country_flag = OLV_model
				missile_ui_update = yes
			}
			ASAT_type_button_click = {
				set_variable = { var_ASAT_type = ASAT_display_array^i }
				set_variable = { var_ASAT_accuracy = global.ASAT_accuracy_array^i }
				set_variable = { var_ASAT_inventory = missile_inventory_array^ASAT_display_array^i }
				clear_array = ASAT_display_array
				clr_country_flag = ASAT_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			KILLSAT_type_button_click = {
				set_variable = { var_KILLSAT_type = KILLSAT_display_array^i }
				set_variable = { var_KILLSAT_accuracy = global.KILLSAT_accuracy_array^i }
				set_variable = { var_KILLSAT_orbit = KILL_satellite_array^i }
				clear_array = KILLSAT_display_array
				clr_country_flag = KILLSAT_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			RODS_type_button_click = {
				set_variable = { var_RODS_type = RODS_display_array^i }
				set_variable = { var_kinetic_bombardment_damage = global.RODS_damage_array^i }
				set_variable = { var_RODS_orbit = RODS_satellite_array^i }
				#set_variable = { var_OLV_reliability = global.OLV_reliability_array^i }
				#set_variable = { var_OLV_payload_mass = global.OLV_payload_mass_array^i }
				#set_variable = { var_OLV_inventory = missile_inventory_array^OLV_display_array^i }
				clear_array = RODS_display_array
				clr_country_flag = RODS_model
				clr_country_flag = open_MD_space_selection_window
				missile_ui_update = yes
			}
			close_button_click = {
				clear_array = OLV_display_array
				clear_array = sat_payload_display_array
				clear_array = spp_payload_display_array
				clr_country_flag = OLV_model
				clr_country_flag = sat_payload_model
				clr_country_flag = spp_payload_model
				clear_variable = var_open_space_selection_ledger_1
				clear_variable = var_open_space_selection_ledger_2
				if = {
					limit = {
						has_country_flag = open_MD_space_selection_window
					}
					clr_country_flag = open_MD_space_selection_window
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			### OLV
			OLV_type_button_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_icon_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_model_name_visible = {
				has_country_flag = OLV_model
			}
			OLV_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_OLV_inventory_TT
					check_variable = { missile_inventory_array^OLV_display_array^i > 0 }
				}
			}
			### sat_payload
			sat_payload_type_button_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_icon_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_model_name_visible = {
				has_country_flag = sat_payload_model
			}
			sat_payload_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SAT_inventory_TT
					check_variable = { missile_inventory_array^sat_payload_display_array^i > 0 }
				}
			}
			### spp_payload
			spp_payload_type_button_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_icon_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_model_name_visible = {
				has_country_flag = spp_payload_model
			}
			spp_payload_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_SPP_inventory_TT
					check_variable = { spp_inventory_array^i > 0 }
				}
			}
			#
			space_selection_ledger_btn_1_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			icon_space_selection_btn_1_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			space_selection_ledger_btn_2_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			icon_space_selection_btn_2_visible = {
				OR = {
					has_country_flag = sat_payload_model
					has_country_flag = spp_payload_model
				}
			}
			### ASAT
			ASAT_type_button_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_icon_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_model_name_visible = {
				has_country_flag = ASAT_model
			}
			ASAT_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_ASAT_inventory_TT
					check_variable = { missile_inventory_array^ASAT_display_array^i > 0 }
				}
			}
			### KILLSAT
			KILLSAT_type_button_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_icon_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_model_name_visible = {
				has_country_flag = KILLSAT_model
			}
			KILLSAT_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_KILLSAT_orbit_TT
					check_variable = { KILL_satellite_array^i > 0 }
				}
			}
			### RODS
			RODS_type_button_visible = {
				has_country_flag = RODS_model
			}
			RODS_type_icon_visible = {
				has_country_flag = RODS_model
			}
			RODS_type_model_name_visible = {
				has_country_flag = RODS_model
			}
			RODS_type_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = has_RODS_orbit_TT
					check_variable = { RODS_satellite_array^i > 0 }
				}
			}
		}
		properties = {
			OLV_type_icon = {
				image = "[OLV_type_icon_texture]"
			}
			sat_payload_type_icon = {
				image = "[sat_payload_type_icon_texture]"
			}
			spp_payload_type_icon = {
				image = "[spp_payload_type_icon_texture]"
			}
			space_selection_ledger_btn_1 = {
				frame = var_open_space_selection_ledger_1
			}
			space_selection_ledger_btn_2 = {
				frame = var_open_space_selection_ledger_2
			}
			ASAT_type_icon = {
				image = "[ASAT_type_icon_texture]"
			}
			KILLSAT_type_icon = {
				image = "[KILLSAT_type_icon_texture]"
			}
			RODS_type_icon = {
				image = "[RODS_type_icon_texture]"
			}
		}
		dynamic_lists = {
			OLV_types_gridbox = {
				array = OLV_display_array # one element per type, value = tech lvl
				entry_container = OLV_type_entry
				#change_scope = yes
			}
			sat_payload_types_gridbox = {
				array = sat_payload_display_array # one element per type, value = tech lvl
				entry_container = sat_payload_type_entry
				#change_scope = yes
			}
			spp_payload_types_gridbox = {
				array = spp_payload_display_array # one element per type, value = tech lvl
				entry_container = spp_payload_type_entry
				#change_scope = yes
			}
			ASAT_gridbox = {
				array = ASAT_display_array # one element per type, value = tech lvl
				entry_container = ASAT_type_entry
				#change_scope = yes
			}
			KILLSAT_gridbox = {
				array = KILLSAT_display_array # one element per type, value = tech lvl
				entry_container = KILLSAT_type_entry
				#change_scope = yes
			}
			RODS_gridbox = {
				array = RODS_display_array # one element per type, value = tech lvl
				entry_container = RODS_type_entry
				#change_scope = yes
			}
		}
	}

	MD_countrymissilesview_satellites_gui = {
		window_name = MD_countrymissilesview_satellites
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_5 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			### GNSS
			GNSS_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_GNSS_mil_systems = yes
				missile_ui_update = yes
			}
			GNSS_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_GNSS_civ_systems = yes
				missile_ui_update = yes
			}
			### COM
			COM_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_COM_mil_systems = yes
				missile_ui_update = yes
			}
			COM_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_COM_civ_systems = yes
				missile_ui_update = yes
			}
			### SPY
			SPY_mil_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_SPY_mil_systems = yes
				missile_ui_update = yes
			}
			SPY_civ_button_click = {
				set_country_flag = open_MD_select_satellite_system_window
				set_SPY_civ_systems = yes
				missile_ui_update = yes
			}
		}

		properties = {
			GNSS_mil_treaty_flags_button = {
				image = "[?ROOT.GNSS_mil_treaty_array^i.GetFlag]"
			}
			GNSS_mil_access_flags_button = {
				image = "[?ROOT.GNSS_mil_access_array^i.GetFlag]"
			}
			GNSS_civ_treaty_flags_button = {
				image = "[?ROOT.GNSS_civ_treaty_array^i.GetFlag]"
			}
			GNSS_civ_access_flags_button = {
				image = "[?ROOT.GNSS_civ_access_array^i.GetFlag]"
			}
			COM_mil_treaty_flags_button = {
				image = "[?ROOT.COM_mil_treaty_array^i.GetFlag]"
			}
			COM_mil_access_flags_button = {
				image = "[?ROOT.COM_mil_access_array^i.GetFlag]"
			}
			COM_civ_treaty_flags_button = {
				image = "[?ROOT.COM_civ_treaty_array^i.GetFlag]"
			}
			COM_civ_access_flags_button = {
				image = "[?ROOT.COM_civ_access_array^i.GetFlag]"
			}
			SPY_mil_treaty_flags_button = {
				image = "[?ROOT.SPY_mil_treaty_array^i.GetFlag]"
			}
			SPY_mil_access_flags_button = {
				image = "[?ROOT.SPY_mil_access_array^i.GetFlag]"
			}
			SPY_civ_treaty_flags_button = {
				image = "[?ROOT.SPY_civ_treaty_array^i.GetFlag]"
			}
			SPY_civ_access_flags_button = {
				image = "[?ROOT.SPY_civ_access_array^i.GetFlag]"
			}
		}

		dynamic_lists = {
			## GNSS
			GNSS_mil_treaty_gridbox = {
				array = ROOT.GNSS_mil_treaty_array
				entry_container = GNSS_mil_treaty_entry
			}
			GNSS_mil_access_gridbox = {
				array = ROOT.GNSS_mil_access_array
				entry_container = GNSS_mil_access_entry
			}
			GNSS_civ_treaty_gridbox = {
				array = ROOT.GNSS_civ_treaty_array
				entry_container = GNSS_civ_treaty_entry
			}
			GNSS_civ_access_gridbox = {
				array = ROOT.GNSS_civ_access_array
				entry_container = GNSS_civ_access_entry
			}
			## COM
			COM_mil_treaty_gridbox = {
				array = ROOT.COM_mil_treaty_array
				entry_container = COM_mil_treaty_entry
			}
			COM_mil_access_gridbox = {
				array = ROOT.COM_mil_access_array
				entry_container = COM_mil_access_entry
			}
			COM_civ_treaty_gridbox = {
				array = ROOT.COM_civ_treaty_array
				entry_container = COM_civ_treaty_entry
			}
			COM_civ_access_gridbox = {
				array = ROOT.COM_civ_access_array
				entry_container = COM_civ_access_entry
			}
			## SPY
			SPY_mil_treaty_gridbox = {
				array = ROOT.SPY_mil_treaty_array
				entry_container = SPY_mil_treaty_entry
			}
			SPY_mil_access_gridbox = {
				array = ROOT.SPY_mil_access_array
				entry_container = SPY_mil_access_entry
			}
			SPY_civ_treaty_gridbox = {
				array = ROOT.SPY_civ_treaty_array
				entry_container = SPY_civ_treaty_entry
			}
			SPY_civ_access_gridbox = {
				array = ROOT.SPY_civ_access_array
				entry_container = SPY_civ_access_entry
			}
		}
	}

	MD_select_satellite_system_window_gui = {
		window_name = MD_select_satellite_system_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_satellites

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_select_satellite_system_window
		}

		effects = {
			GNSS_mil_button_click = {
				set_variable = { var_GNSS_mil_system_idx = GNSS_mil_systems_array^i }
				set_variable = { var_GNSS_mil_sat_system_max = global.GNSS_sat_system_max_array^i }
				set_variable = { var_GNSS_mil_army_speed_factor = GNSS_mil_army_speed_factor_array^i }
				set_variable = { var_GNSS_mil_air_cas_efficiency = GNSS_mil_air_cas_efficiency_array^i }
				set_variable = { var_GNSS_mil_air_nav_efficiency = GNSS_mil_air_nav_efficiency_array^i }
				set_variable = { var_GNSS_mil_air_strategic_bomber_bombing_factor = GNSS_mil_air_strategic_bomber_bombing_factor_array^i }
				set_variable = { var_GNSS_mil_positioning = GNSS_mil_positioning_array^i }
				set_variable = { var_GNSS_mil_naval_hit_chance = GNSS_mil_naval_hit_chance_array^i }
				update_GNSS_system_stats = yes
				calculate_GNSS_mil_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = GNSS_mil_systems_array
				missile_ui_update = yes
			}
			GNSS_civ_button_click = {
				set_variable = { var_GNSS_civ_system_idx = GNSS_civ_systems_array^i }
				set_variable = { var_GNSS_civ_sat_system_max = global.GNSS_sat_system_max_array^i }
				set_variable = { var_GNSS_civ_production_speed_buildings_factor = GNSS_civ_production_speed_buildings_factor_array^i }
				set_variable = { var_GNSS_civ_production_speed_infrastructure_factor = GNSS_civ_production_speed_infrastructure_factor_array^i }
				set_variable = { var_GNSS_civ_local_resources_factor = GNSS_civ_local_resources_factor_array^i }
				update_GNSS_system_stats = yes
				calculate_GNSS_civ_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = GNSS_civ_systems_array
				missile_ui_update = yes
			}
			COM_mil_button_click = {
				set_variable = { var_COM_mil_system_idx = COM_mil_systems_array^i }
				set_variable = { var_COM_mil_sat_system_max = global.COM_sat_system_max_array^i }
				set_variable = { var_COM_mil_max_command_power = COM_mil_max_command_power_array^i }
				set_variable = { var_COM_mil_army_org_factor = COM_mil_army_org_factor_array^i }
				set_variable = { var_COM_mil_planning_speed = COM_mil_planning_speed_array^i }
				set_variable = { var_COM_mil_air_escort_efficiency = COM_mil_air_escort_efficiency_array^i }
				set_variable = { var_COM_mil_air_intercept_efficiency = COM_mil_air_intercept_efficiency_array^i }
				set_variable = { var_COM_mil_naval_coordination = COM_mil_naval_coordination_array^i }
				update_COM_system_stats = yes
				calculate_COM_mil_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = COM_mil_systems_array
				missile_ui_update = yes
			}
			COM_civ_button_click = {
				set_variable = { var_COM_civ_system_idx = COM_civ_systems_array^i }
				set_variable = { var_COM_civ_sat_system_max = global.COM_sat_system_max_array^i }
				#set_variable = { var_COM_civ_income = COM_civ_income_array^i }
				set_variable = { var_COM_civ_political_power_factor = COM_civ_political_power_factor_array^i }
				set_variable = { var_COM_civ_decryption_factor = COM_civ_decryption_factor_array^i }
				set_variable = { var_COM_civ_encryption_factor = COM_civ_encryption_factor_array^i }
				set_variable = { var_COM_civ_intel_network_gain_factor = COM_civ_intel_network_gain_factor_array^i }
				set_variable = { var_COM_civ_operation_outcome = COM_civ_operation_outcome_array^i }
				update_COM_system_stats = yes
				calculate_COM_civ_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = COM_civ_systems_array
				missile_ui_update = yes
			}
			SPY_mil_button_click = {
				set_variable = { var_SPY_mil_system_idx = SPY_mil_systems_array^i }
				set_variable = { var_SPY_mil_sat_system_max = global.SPY_sat_system_max_array^i }
				set_variable = { var_SPY_mil_max_planning_factor = SPY_mil_max_planning_factor_array^i }
				set_variable = { var_SPY_mil_recon_factor = SPY_mil_recon_factor_array^i }
				set_variable = { var_SPY_mil_air_weather_penalty = SPY_mil_air_weather_penalty_array^i }
				set_variable = { var_SPY_mil_spotting_chance = SPY_mil_spotting_chance_array^i }
				set_variable = { var_SPY_mil_convoy_raiding_efficiency_factor = SPY_mil_convoy_raiding_efficiency_factor_array^i }
				set_variable = { var_SPY_mil_convoy_escort_efficiency = SPY_mil_convoy_escort_efficiency_array^i }
				update_SPY_system_stats = yes
				calculate_SPY_mil_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = SPY_mil_systems_array
				missile_ui_update = yes
			}
			SPY_civ_button_click = {
				set_variable = { var_SPY_civ_system_idx = SPY_civ_systems_array^i }
				set_variable = { var_SPY_civ_sat_system_max = global.SPY_sat_system_max_array^i }
				set_variable = { var_SPY_civ_research_speed_factor = SPY_civ_research_speed_factor_array^i }
				set_variable = { var_SPY_civ_civilian_intel_factor = SPY_civ_civilian_intel_factor_array^i }
				set_variable = { var_SPY_civ_army_intel_factor = SPY_civ_army_intel_factor_array^i }
				set_variable = { var_SPY_civ_navy_intel_factor = SPY_civ_navy_intel_factor_array^i }
				set_variable = { var_SPY_civ_airforce_intel_factor = SPY_civ_airforce_intel_factor_array^i }
				set_variable = { var_SPY_civ_root_out_resistance_effectiveness_factor = SPY_civ_root_out_resistance_effectiveness_factor_array^i }
				update_SPY_system_stats = yes
				calculate_SPY_civ_gui_vars = yes

				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = SPY_civ_systems_array
				missile_ui_update = yes
			}
			close_click = {
				clr_country_flag = open_MD_select_satellite_system_window
				clear_array = GNSS_mil_systems_array
				clear_array = GNSS_civ_systems_array
				clear_array = COM_mil_systems_array
				clear_array = COM_civ_systems_array
				clear_array = SPY_mil_systems_array
				clear_array = SPY_civ_systems_array
				missile_ui_update = yes
			}
		}
		triggers = {
			GNSS_mil_button_click_enabled = {
				OR = {
					check_variable = { GNSS_satellite_array^i > global.GNSS_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			GNSS_civ_button_click_enabled = {
				OR = {
					check_variable = { GNSS_satellite_array^i > global.GNSS_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			COM_mil_button_click_enabled = {
				OR = {
					check_variable = { COM_satellite_array^i > global.COM_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			COM_civ_button_click_enabled = {
				OR = {
					check_variable = { COM_satellite_array^i > global.COM_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			SPY_mil_button_click_enabled = {
				OR = {
					check_variable = { SPY_satellite_array^i > global.SPY_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
			SPY_civ_button_click_enabled = {
				OR = {
					check_variable = { SPY_satellite_array^i > global.SPY_sat_system_min_array^i }
					check_variable = { i = 0 }
				}
			}
		}

		properties = {
			GNSS_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			GNSS_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			COM_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			COM_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			SPY_mil_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
			SPY_civ_button = {
				image = "GFX_sat_system_2_frame_btn"
				frame = 2
			}
		}

		dynamic_lists = {
			GNSS_mil_systems_gridbox = {
				array = ROOT.GNSS_mil_systems_array
				entry_container = GNSS_mil_systems_entry
			}
			GNSS_civ_systems_gridbox = {
				array = ROOT.GNSS_civ_systems_array
				entry_container = GNSS_civ_systems_entry
			}
			COM_mil_systems_gridbox = {
				array = ROOT.COM_mil_systems_array
				entry_container = COM_mil_systems_entry
			}
			COM_civ_systems_gridbox = {
				array = ROOT.COM_civ_systems_array
				entry_container = COM_civ_systems_entry
			}
			SPY_mil_systems_gridbox = {
				array = ROOT.SPY_mil_systems_array
				entry_container = SPY_mil_systems_entry
			}
			SPY_civ_systems_gridbox = {
				array = ROOT.SPY_civ_systems_array
				entry_container = SPY_civ_systems_entry
			}
		}
	}

	MD_countrymissilesview_nukes_gui = {
		window_name = MD_countrymissilesview_nukes
		context_type = player_context
		parent_window_name = MD_countrymissilesview

		dirty = global.missile_ui_updated

		visible = {
			check_variable = { var_open_MD_missiles_gui_ledger_6 = 2 }
			has_country_flag = open_MD_countrymissilesview
		}

		effects = {
			nuke_gui_selected_TAG_flag_button_click = {
				set_country_flag = open_MD_nukes_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				missile_ui_update = yes
			}
			nuke_gui_selected_TAG_flag_button_right_click = {
				set_variable = { nukes_selected_TAG = ROOT.id }
				set_nuke_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			nuke_gui_selected_TAG_flag_button_2_click = {
				set_country_flag = open_MD_nukes_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				missile_ui_update = yes
			}
			nuke_gui_selected_TAG_flag_button_2_right_click = {
				set_variable = { nukes_selected_TAG = ROOT.id }
				set_nuke_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			nuke_gui_selected_TAG_flag_button_3_click = {
				set_country_flag = open_MD_nukes_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				missile_ui_update = yes
			}
			nuke_gui_selected_TAG_flag_button_3_right_click = {
				set_variable = { nukes_selected_TAG = ROOT.id }
				set_nuke_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			nuclear_status_entry_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					set_country_flag = open_MD_nuclear_doctrine_window
					clear_array = nuclear_status_display_array
					add_to_array = { nuclear_status_display_array = 0 }
					add_to_array = { nuclear_status_display_array = 1 }
					### deactivate nuclear sharing till a proper implementation in 1.6.1
					#add_to_array = { nuclear_status_display_array = 2 }
					add_to_array = { nuclear_status_display_array = 3 }
					add_to_array = { nuclear_status_display_array = 4 }
					add_to_array = { nuclear_status_display_array = 5 }
					add_to_array = { nuclear_status_display_array = 6 }
					add_to_array = { nuclear_status_display_array = 7 }
					add_to_array = { nuclear_status_display_array = 8 }
					add_to_array = { nuclear_status_display_array = 9 }
					add_to_array = { nuclear_status_display_array = 10 }
					add_to_array = { nuclear_status_display_array = 11 }
					add_to_array = { nuclear_status_display_array = 12 }
				}
				missile_ui_update = yes
				ingame_update_setup = yes
			}
			no_nuclear_status_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					set_country_flag = open_MD_nuclear_doctrine_window
					clear_array = nuclear_status_display_array
					add_to_array = { nuclear_status_display_array = 0 }
					add_to_array = { nuclear_status_display_array = 1 }
					### deactivate nuclear sharing till a proper implementation in 1.6.1
					#add_to_array = { nuclear_status_display_array = 2 }
					add_to_array = { nuclear_status_display_array = 3 }
					add_to_array = { nuclear_status_display_array = 4 }
					add_to_array = { nuclear_status_display_array = 5 }
					add_to_array = { nuclear_status_display_array = 6 }
					add_to_array = { nuclear_status_display_array = 7 }
					add_to_array = { nuclear_status_display_array = 8 }
					add_to_array = { nuclear_status_display_array = 9 }
					add_to_array = { nuclear_status_display_array = 10 }
					add_to_array = { nuclear_status_display_array = 11 }
					add_to_array = { nuclear_status_display_array = 12 }
				}
				missile_ui_update = yes
				ingame_update_setup = yes
			}
			delete_status_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					remove_nuclear_status_special_effect = yes
					remove_from_array = {
						array = nuclear_status_array
						value = nuclear_status_array^i
					}
					update_nuclear_deterrence = yes
					set_nuke_arrays_selected_TAG = yes
				}
				missile_ui_update = yes
				ingame_update_setup = yes
			}
			nuclear_doctrine_entry_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					set_country_flag = open_MD_nuclear_doctrine_window
					clear_array = nuclear_doctrine_display_array
					add_to_array = { nuclear_doctrine_display_array = 0 }
					add_to_array = { nuclear_doctrine_display_array = 1 }
					add_to_array = { nuclear_doctrine_display_array = 2 }
					add_to_array = { nuclear_doctrine_display_array = 3 }
					add_to_array = { nuclear_doctrine_display_array = 4 }
					add_to_array = { nuclear_doctrine_display_array = 5 }
					add_to_array = { nuclear_doctrine_display_array = 6 }
					add_to_array = { nuclear_doctrine_display_array = 7 }
					### deactivate nuclear terrorism till a proper implementation in 1.6.1
					#add_to_array = { nuclear_doctrine_display_array = 8 }
				}
				missile_ui_update = yes
				ingame_update_setup = yes
			}
			no_nuclear_doctrine_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					set_country_flag = open_MD_nuclear_doctrine_window
					clear_array = nuclear_doctrine_display_array
					add_to_array = { nuclear_doctrine_display_array = 0 }
					add_to_array = { nuclear_doctrine_display_array = 1 }
					add_to_array = { nuclear_doctrine_display_array = 2 }
					add_to_array = { nuclear_doctrine_display_array = 3 }
					add_to_array = { nuclear_doctrine_display_array = 4 }
					add_to_array = { nuclear_doctrine_display_array = 5 }
					add_to_array = { nuclear_doctrine_display_array = 6 }
					add_to_array = { nuclear_doctrine_display_array = 7 }
					### deactivate nuclear terrorism till a proper implementation in 1.6.1
					#add_to_array = { nuclear_doctrine_display_array = 8 }
				}
				missile_ui_update = yes
			}
			delete_button_click = {
				if = {
					limit = {
						original_tag = var:nukes_selected_TAG
					}
					remove_from_array = {
						array = nuclear_doctrine_array
						value = nuclear_doctrine_array^i
					}
					update_nuclear_deterrence = yes
					set_nuke_arrays_selected_TAG = yes
				}
				missile_ui_update = yes
			}
			LEU_button_click = {
				clear_variable = var_selected_TAG_LEU_selected
				clear_variable = var_selected_TAG_HEU_selected
				if = {
					limit = {
						check_variable = { var_LEU_selected = 2 }
					}
					set_variable = { var_LEU_selected = 1 }
				}
				else = {
					set_variable = { var_LEU_selected = 2 }
					set_variable = { var_HEU_selected = 1 }
				}
				set_enrichment_efficiency_LEU = yes
				update_nuclear_production = yes
				var:nukes_selected_TAG = {
					set_variable = { var_selected_TAG_LEU_selected = ROOT.var_LEU_selected }
				}
				if = {
					limit = {
						check_variable = { var_CIC_use_enrichment = 0 }
					}
					set_variable = { var_CIC_use_nuclear = 0 }
				}
			}
			HEU_button_click = {
				clear_variable = var_selected_TAG_LEU_selected
				clear_variable = var_selected_TAG_HEU_selected
				if = {
					limit = {
						check_variable = { var_HEU_selected = 2 }
					}
					set_variable = { var_HEU_selected = 1 }
				}
				else = {
					set_variable = { var_LEU_selected = 1 }
					set_variable = { var_HEU_selected = 2 }
				}
				set_enrichment_efficiency_HEU = yes
				update_nuclear_production = yes
				var:nukes_selected_TAG = {
					set_variable = { var_selected_TAG_HEU_selected = ROOT.var_HEU_selected }
				}
				if = {
					limit = {
						check_variable = { var_CIC_use_enrichment = 0 }
					}
					set_variable = { var_CIC_use_nuclear = 0 }
				}
			}
			# enrichment_small_plus_button_bg_click = {
			# 	update_nuclear_production = yes
			# }
			# enrichment_small_minus_button_bg_click = {
			# 	update_nuclear_production = yes
			# 	if = {
			# 		limit = {
			# 			check_variable = { var_CIC_use_enrichment = 0 }
			# 		}
			# 		set_variable = { var_CIC_use_nuclear = 0 }
			# 	}
			# }
			warhead_production_button_click = {
				set_country_flag = open_MD_nuclear_doctrine_window
				clear_array = nuclear_warhead_prod_display_array

				add_to_array = { nuclear_warhead_prod_display_array = 0 }
				add_to_array = { nuclear_warhead_prod_display_array = 1 }
				add_to_array = { nuclear_warhead_prod_display_array = 2 }
				add_to_array = { nuclear_warhead_prod_display_array = 3 }
				add_to_array = { nuclear_warhead_prod_display_array = 4 }
				add_to_array = { nuclear_warhead_prod_display_array = 5 }
				add_to_array = { nuclear_warhead_prod_display_array = 6 }
				add_to_array = { nuclear_warhead_prod_display_array = 7 }
				add_to_array = { nuclear_warhead_prod_display_array = 8 }
				add_to_array = { nuclear_warhead_prod_display_array = 9 }
				add_to_array = { nuclear_warhead_prod_display_array = 10 }
				add_to_array = { nuclear_warhead_prod_display_array = 11 }
				add_to_array = { nuclear_warhead_prod_display_array = 12 }
				add_to_array = { nuclear_warhead_prod_display_array = 13 }
				add_to_array = { nuclear_warhead_prod_display_array = 14 }
				add_to_array = { nuclear_warhead_prod_display_array = 15 }
				missile_ui_update = yes
			}
			warhead_small_plus_button_bg_click = {
				add_to_variable = { var_nuclear_warhead_prod = 1 }
				missile_ui_update = yes
			}
			warhead_small_minus_button_bg_click = {
				subtract_from_variable = { var_nuclear_warhead_prod = 1 }
				missile_ui_update = yes
			}
			warhead_small_plus_button_bg_control_click = {
				add_to_variable = { var_nuclear_warhead_prod = 10 }
				missile_ui_update = yes
			}
			warhead_small_minus_button_bg_control_click = {
				subtract_from_variable = { var_nuclear_warhead_prod = 10 }
				missile_ui_update = yes
			}
			warhead_small_plus_button_bg_shift_click = {
				add_to_variable = { var_nuclear_warhead_prod = 100 }
				missile_ui_update = yes
			}
			warhead_small_minus_button_bg_shift_click = {
				subtract_from_variable = { var_nuclear_warhead_prod = 100 }
				missile_ui_update = yes
			}
			nuclear_warhead_prod_start_button_click = {
				set_country_flag = nuclear_warhead_prod
				set_variable = { var_nuclear_warhead_prod_time = var_nuclear_warhead_prod }
				multiply_variable = { var_nuclear_warhead_prod_time = 2 }
				### var_nuclear_warhead_prod_factor is set on_startup ### tech tree to do
				set_variable = { var_CIC_use_nuclear_warhead_prod = var_nuclear_warhead_prod_factor }
				add_to_variable = { var_CIC_use_nuclear = var_CIC_use_nuclear_warhead_prod }
				set_temp_variable = { temp1 = var_nuclear_warhead_prod }
				multiply_temp_variable = { temp1 = var_nuclear_warhead_critical_mass }
				subtract_from_variable = { var_nuclear_material_stockpile = temp1 }
				activate_mission = nuclear_warhead_prod
				missile_ui_update = yes
			}
			nuclear_warhead_prod_delete_button_click = {
				clr_country_flag = nuclear_warhead_prod
				remove_mission = nuclear_warhead_prod
				missile_ui_update = yes
			}
		}

		triggers = {
			no_nuclear_status_button_visible = {
				var:nukes_selected_TAG = {
					check_variable = { selected_TAG_nuclear_status_array^num = 0 }
				}
			}
			no_nuclear_status_visible = {
				var:nukes_selected_TAG = {
					check_variable = { selected_TAG_nuclear_status_array^num = 0 }
				}
			}
			no_nuclear_doctrine_button_visible = {
				var:nukes_selected_TAG = {
					check_variable = { selected_TAG_nuclear_doctrine_array^num = 0 }
				}
			}
			no_nuclear_doctrine_visible = {
				var:nukes_selected_TAG = {
					check_variable = { selected_TAG_nuclear_doctrine_array^num = 0 }
				}
			}
			LEU_button_click_enabled = {
				tag = var:nukes_selected_TAG
				can_enrich_LEU = yes
				has_enrichment_facilities = yes
			}
			HEU_button_click_enabled = {
				tag = var:nukes_selected_TAG
				can_enrich_HEU = yes
				has_enrichment_facilities = yes
			}
			enrichment_small_plus_button_bg_click_enabled = {
				tag = var:nukes_selected_TAG
				check_variable = { var_enrichment_efficiency < 1 }
				num_of_civilian_factories_available_for_projects > var_CIC_use_enrichment
			}
			enrichment_small_minus_button_bg_click_enabled = {
				tag = var:nukes_selected_TAG
				#check_variable = { var_enrichment_efficiency > 0 }
				check_variable = { var_CIC_use_enrichment > 0 }
			}
			# nuclear_energy_button_click_enabled = {
			# 	tag = var:nukes_selected_TAG
			# 	check_variable = { var_nuke_energy_ratio < 1 }
			# 	check_variable = { var_nuke_nuclear_material_ratio > 0 }
			# }
			# nuclear_material_button_click_enabled = {
			# 	tag = var:nukes_selected_TAG
			# 	check_variable = { var_nuke_nuclear_material_ratio < 1 }
			# 	check_variable = { var_nuke_energy_ratio > 0 }
			# }
			warhead_production_button_click_enabled = {
				tag = var:nukes_selected_TAG
			}
			warhead_small_plus_button_bg_click_enabled = {
				tag = var:nukes_selected_TAG
				NOT = { has_country_flag = nuclear_warhead_prod }
			}
			warhead_small_minus_button_bg_click_enabled = {
				tag = var:nukes_selected_TAG
				check_variable = { var_nuclear_warhead_prod > 0 }
				NOT = { has_country_flag = nuclear_warhead_prod }
			}
			warhead_small_minus_button_bg_control_click_enabled = {
				tag = var:nukes_selected_TAG
				check_variable = { var_nuclear_warhead_prod > 10 }
				NOT = { has_country_flag = nuclear_warhead_prod }
			}
			warhead_small_minus_button_bg_shift_click_enabled = {
				tag = var:nukes_selected_TAG
				check_variable = { var_nuclear_warhead_prod > 100 }
				NOT = { has_country_flag = nuclear_warhead_prod }
			}
			nuclear_warhead_prod_start_button_visible = {
				var:nukes_selected_TAG = {
					NOT = { has_country_flag = nuclear_warhead_prod }
				}
			}
			nuclear_warhead_prod_delete_button_click_enabled = {
				tag = var:nukes_selected_TAG
			}
			nuclear_warhead_prod_start_button_click_enabled = {
				nuclear_warhead_prod_start_button_trigger = yes
				if = {
					limit = { original_tag = PER }
					NOT = {
						has_country_flag = PER_no_nukes_for_you
					}
					OR = {
						has_completed_focus = PER_with_determination_and_tears
						has_completed_focus = PER_with_trust_and_patience
						has_completed_focus = PER_with_pride_and_prejudice
						has_completed_focus = PER_with_foresight_and_cunning
					}
				}
				#
				if = {
					limit = { original_tag = GER }
					NOT = {
						has_country_flag = GER_no_nuclear
					}
				}
			}
			nuclear_warhead_prod_delete_button_visible = {
				var:nukes_selected_TAG = {
					has_country_flag = nuclear_warhead_prod
				}
			}
			nuclear_warhead_prod_icon_1_visible = {
				var:nukes_selected_TAG = {
					has_country_flag = nuclear_warhead_prod
				}
			}
			nuclear_warhead_prod_icon_2_visible = {
				var:nukes_selected_TAG = {
					NOT = { has_country_flag = nuclear_warhead_prod }
				}
			}
			warhead_production_days_visible = {
				var:nukes_selected_TAG = {
					has_country_flag = nuclear_warhead_prod
				}
			}
			enrichment_sabotage_icon_visible = {
				var:nukes_selected_TAG = {
					has_country_flag = enrichment_sabotage
				}
			}
			nuclear_material_sabotage_icon_visible = {
				var:nukes_selected_TAG = {
					has_country_flag = nuclear_material_sabotage
				}
			}
		}
		dynamic_lists = {
			nuclear_status_gridbox = {
				array = selected_TAG_nuclear_status_array #array = nuclear_status_array
				entry_container = nuclear_status_entry
			}
			nuclear_doctrine_gridbox = {
				array = selected_TAG_nuclear_doctrine_array #array = nuclear_doctrine_array
				entry_container = nuclear_doctrine_entry
			}
		}
		properties = {
			nuke_gui_selected_TAG_flag_button = {
				image = "[?nukes_selected_TAG.GetFlag]"
			}
			nuke_gui_selected_TAG_flag_button_2 = {
				image = "[?nukes_selected_TAG.GetFlag]"
			}
			nuke_gui_selected_TAG_flag_button_3 = {
				image = "[?nukes_selected_TAG.GetFlag]"
			}
			checkbox_icon_1 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_1_frame^i
			}
			checkbox_icon_2 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_2_frame^i
			}
			checkbox_icon_3 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_3_frame^i
			}
			checkbox_icon_4 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_4_frame^i
			}
			LEU_button = {
				image = "GFX_sort_button_83x29"
				frame = var_selected_TAG_LEU_selected
			}
			HEU_button = {
				image = "GFX_sort_button_83x29"
				frame = var_selected_TAG_HEU_selected
			}
			warhead_production_icon = {
				image = "[warhead_production_icon_texture]" ### change to nukes
			}
		}
	}

	MD_nuclear_doctrine_window_gui = {
		window_name = MD_nuclear_doctrine_window
		context_type = player_context
		parent_window_token = MD_countrymissilesview_nukes

		dirty = global.missile_ui_updated

		visible = {
			has_country_flag = open_MD_nuclear_doctrine_window
		}
		effects = {
			nuclear_status_entry_button_click = {
				add_political_power = -100
				add_to_array = { nuclear_status_array = nuclear_status_display_array^i }
				set_nuclear_status_special_effect = yes
				clr_country_flag = open_MD_nuclear_doctrine_window
				clear_array = nuclear_status_display_array
				set_nuke_arrays_selected_TAG = yes
				update_nuclear_deterrence = yes
				missile_ui_update = yes
			}
			nuclear_doctrine_entry_button_click = {
				add_political_power = -100
				add_to_array = { nuclear_doctrine_array = nuclear_doctrine_display_array^i }
				clr_country_flag = open_MD_nuclear_doctrine_window
				clear_array = nuclear_doctrine_display_array
				set_nuke_arrays_selected_TAG = yes
				update_nuclear_deterrence = yes
				missile_ui_update = yes
			}
			nuclear_warhead_prod_button_click = {
				#set_variable = { var_nuclear_warhead_prod = nuclear_warhead_prod_display_array^i }
				set_variable = { var_nuclear_warhead_prod = 1 }
				set_variable = { var_nuclear_warhead_prod_inventory_idx = i }
				set_variable = { var_nuclear_warhead_critical_mass = global.nuclear_warhead_critical_mass_array^i }
				clr_country_flag = open_MD_nuclear_doctrine_window
				clear_array = nuclear_warhead_prod_display_array
				missile_ui_update = yes
			}
			close_button_click = {
				clr_country_flag = open_MD_nuclear_doctrine_window
				clear_array = nuclear_status_display_array
				clear_array = nuclear_doctrine_display_array
				clear_array = nuclear_warhead_prod_display_array
				missile_ui_update = yes
			}
		}
		triggers = {
			nuclear_status_entry_button_click_enabled = {
				has_political_power > 99
				custom_trigger_tooltip = {
					tooltip = NOT_has_THIS_nuclear_status_TT
					NOT = {
						is_in_array = {
							array = nuclear_status_array
							value = nuclear_status_display_array^i
						}
					}
				}
				#PNW
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 0 }
					}
					NOT_has_NPOWER_OR_SPOWER = yes
				}
				#NTB
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 1 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_NTEST = yes
				}
				#NSHARE
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 2 }
					}
					OR = {
						has_NPOWER = yes
						has_NSHARE_condition = yes
					}
				}
				#NPOWER
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 3 }
					}
					has_country_flag = NPROG_completed
					NOT_has_SPOWER_OR_SPROG = yes
				}
				#NENERGY
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 4 }
					}
					NOT_has_NOUT = yes
					nuclear_reactor > 0
				}
				#NOUT
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 5 }
					}
					NOT_has_NENERGY = yes
				}
				#SPOWER
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 6 }
					}
					has_country_flag = NPROG_completed
					NOT_has_NPOWER_OR_SPROG = yes
				}
				#SPROG
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 7 }
					}
					NOT_has_NPOWER_OR_SPOWER = yes
					nuclear_reactor > 0
				}
				#NTEST
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 8 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_NTB = yes
				}
				#N3
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 9 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_NBOMB_NICBM_SSBM = yes
				}
				#NBOMB
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 10 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_N3 = yes
				}
				#NICBM
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 11 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_N3 = yes
				}
				#SSBN
				if = {
					limit = {
						check_variable = { nuclear_status_display_array^i = 12 }
					}
					has_NPOWER_OR_SPOWER = yes
					NOT_has_N3 = yes
				}
			}
			nuclear_doctrine_entry_button_click_enabled = {
				has_political_power > 99
				custom_trigger_tooltip = {
					tooltip = NOT_has_THIS_nuclear_doctrine_TT
					NOT = {
						is_in_array = {
							array = nuclear_doctrine_array
							value = nuclear_doctrine_display_array^i
						}
					}
				}
				#NFU
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 0 }
					}
					NOT_has_MASSR_FXRSP_NDESC_FSTK = yes
				}
				#MAD
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 1 }
					}
					NOT_has_MASSR_FXRSP = yes
				}
				#MASSR
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 2 }
					}
					NOT_has_NFU = yes
					NOT_has_MAD_FXRSP = yes
					hidden_trigger = {
						if = {
							limit = {
								has_global_flag = NO_AI_first_use
							}
							NOT = { is_ai = yes }
						}
					}
				}
				#FXRSP
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 3 }
					}
					NOT_has_NFU = yes
					NOT_has_MAD_MASSR = yes
					hidden_trigger = {
						if = {
							limit = {
								has_global_flag = NO_AI_first_use
							}
							NOT = { is_ai = yes }
						}
					}
				}
				#PRMTR
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 4 }
					}
					###
				}
				#NDESC
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 5 }
					}
					NOT_has_NFU = yes
					hidden_trigger = {
						if = {
							limit = {
								has_global_flag = NO_AI_first_use
							}
							NOT = { is_ai = yes }
						}
					}
				}
				#FSTK
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 6 }
					}
					custom_trigger_tooltip = {
						tooltip = GAME_RULE_FSTK_TT
						has_global_flag = FSTK_allowed
					}
					NOT = { is_ai = yes }
					NOT_has_NFU = yes
					hidden_trigger = {
						if = {
							limit = {
								has_global_flag = NO_AI_first_use
							}
							NOT = { is_ai = yes }
						}
					}
				}
				#RSTK
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 7 }
					}
					###
				}
				#NTERROR
				if = {
					limit = {
						check_variable = { nuclear_doctrine_display_array^i = 8 }
					}
					###
				}
			}
			nuclear_warhead_prod_button_click_enabled = {
				OR = {
					AND = {
						has_tech = nuclear_warhead_0
						check_variable = { i = 0 }
					}
					AND = {
						has_tech = nuclear_warhead_1
						check_variable = { i = 1 }
					}
					AND = {
						has_tech = nuclear_warhead_2
						check_variable = { i = 2 }
					}
					AND = {
						has_tech = nuclear_warhead_3
						check_variable = { i = 3 }
					}
					AND = {
						has_tech = nuclear_warhead_4
						check_variable = { i = 4 }
					}
					AND = {
						has_tech = nuclear_warhead_5
						check_variable = { i = 5 }
					}
					AND = {
						has_tech = nuclear_warhead_6
						check_variable = { i = 6 }
					}
					AND = {
						has_tech = nuclear_warhead_7
						check_variable = { i = 7 }
					}
					AND = {
						has_tech = nuclear_warhead_8
						check_variable = { i = 8 }
					}
					AND = {
						has_tech = nuclear_warhead_9
						check_variable = { i = 9 }
					}
					AND = {
						has_tech = nuclear_warhead_10
						check_variable = { i = 10 }
					}
					AND = {
						has_tech = nuclear_warhead_11
						check_variable = { i = 11 }
					}
					AND = {
						has_tech = nuclear_warhead_12
						check_variable = { i = 12 }
					}
					AND = {
						has_tech = nuclear_warhead_13
						check_variable = { i = 13 }
					}
					AND = {
						has_tech = nuclear_warhead_14
						check_variable = { i = 14 }
					}
					AND = {
						has_tech = nuclear_warhead_15
						check_variable = { i = 15 }
					}
				}
			}
		}
		dynamic_lists = {
			nuclear_status_window_gridbox = {
				array = nuclear_status_display_array
				entry_container = nuclear_status_window_entry
			}
			nuclear_doctrine_window_gridbox = {
				array = nuclear_doctrine_display_array
				entry_container = nuclear_doctrine_window_entry
			}
			nuclear_warhead_prod_window_gridbox = {
				array = nuclear_warhead_prod_display_array
				entry_container = nuclear_warhead_prod_window_entry
			}
		}
		properties = {
			checkbox_icon_1 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_1_frame^i
			}
			checkbox_icon_2 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_2_frame^i
			}
			checkbox_icon_3 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_3_frame^i
			}
			checkbox_icon_4 = {
				image = "GFX_MD_nuke_checkbox_button"
				frame = checkbox_icon_4_frame^i
			}
			warhead_icon = {
				image = "[warhead_production_window_icon_texture]" # "[MD_warhead_selected_texture]"
			}
		}
	}

	MD_nukes_country_selection_gui = {
		window_name = MD_nukes_country_selection
		context_type = player_context
		#context_type = selected_country_context
		parent_window_token = MD_countrymissilesview_nukes_gui

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_6 = 2 }
				has_country_flag = open_MD_countrymissilesview
				has_country_flag = open_MD_nukes_country_selection
			}
		}
		effects = {
			nukes_country_list_flag_button_click = {
				set_variable = { nukes_selected_TAG = ROOT.temp_countries^i }
				clr_country_flag = open_MD_nukes_country_selection
				set_nuke_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_nukes_country_selection
					}
					clr_country_flag = open_MD_nukes_country_selection
				}
				clear_array = ROOT.temp_countries
				missile_ui_update = yes
			}
		}

		dynamic_lists = {
			nukes_country_list_gridbox = {
				array = temp_countries
				entry_container = nukes_country_list_entry
			}
		}
		properties = {
			nukes_country_list_flag_button = {
				image = "[?ROOT.temp_countries^i.GetFlag]"
			}
		}
	}

	MD_satellite_orbit_view_gui = {
		window_name = MD_satellite_orbit_view
		context_type = player_context
		parent_window_token = MD_countrymissilesview_space

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				has_country_flag = open_MD_countrymissilesview
				NOT = { has_country_flag = rods_search_target }
			}
		}
		effects = {
			rotete_globe_1_click = {
				if = {
					limit = {
						has_country_flag = globe_back_view
					}
					clr_country_flag = globe_back_view
				}
				else = {
					set_country_flag = globe_back_view
				}
				missile_ui_update = yes
			}
			sat_1_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_1_array^i }
				}
				missile_ui_update = yes
			}
			sat_1_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_1_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_2_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_2_array^i }
				}
				missile_ui_update = yes
			}
			sat_2_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_2_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_3_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_3_array^i }
				}
				missile_ui_update = yes
			}
			sat_3_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_3_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_4_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_4_array^i }
				}
				missile_ui_update = yes
			}
			sat_4_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_4_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_5_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_5_array^i }
				}
				missile_ui_update = yes
			}
			sat_5_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_5_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			sat_6_button_click = {
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_selected_sat = sat_6_array^i }
				}
				missile_ui_update = yes
			}
			sat_6_button_control_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.sat_target_array = sat_6_array^i }
					add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				}
				missile_ui_update = yes
			}
			add_target_button_click = {
				add_to_array = { ROOT.sat_target_array = var_selected_sat }
				add_to_array = { ROOT.sat_target_TAG_array = orbit_selected_TAG }
				missile_ui_update = yes
			}
			clear_target_array_button_click = {
				clear_array = ROOT.sat_target_array
				clear_array = ROOT.sat_target_TAG_array
				missile_ui_update = yes
			}
			#
			spy_mission_start_button_click = {
				var:orbit_selected_TAG = {
					add_to_array = { ROOT.spy_mission_array = THIS.id }
					add_to_array = { ROOT.spy_mission_sat_num_array = ROOT.var_SPY_mission_num_gui }
					ROOT = {
						add_intel = {
							target = PREV
							civilian_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							army_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							navy_intel = ROOT.var_SPY_mission_intel_add
						}
						add_intel = {
							target = PREV
							airforce_intel = ROOT.var_SPY_mission_intel_add
						}
						PREV = {
							set_country_flag = {
								flag = spy_sat_mission_from_@ROOT
								days = 30
								value = 1
							}
						}
					}
				}
				update_SPY_mission_num = yes
				missile_ui_update = yes
			}
			spy_sat_small_plus_button_bg_click = {
				add_to_variable = { var_SPY_mission_num_gui = 1 }
				update_SPY_mission_plus_minus_button = yes
				missile_ui_update = yes
			}
			spy_sat_small_minus_button_bg_click = {
				subtract_from_variable = { var_SPY_mission_num_gui = 1 }
				update_SPY_mission_plus_minus_button = yes
				missile_ui_update = yes
			}
			spy_mission_button_click = {
				missile_ui_update = yes
			}
			country_view_flag_button_click = {
				set_country_flag = open_MD_satellite_orbit_country_selection
				clear_array = temp_countries
				every_country = {
					ROOT = { add_to_array = { temp_countries = PREV.id } }
				}
				# add_to_array = { ROOT.spy_mission_array = THIS.id }
				# add_to_array = { ROOT.spy_mission_sat_num_array = 199 }
				missile_ui_update = yes
			}
			country_view_flag_button_right_click = {
				set_variable = { orbit_selected_TAG = ROOT.id }
				set_sat_access_arrays_selected_TAG = yes
				set_satellites_gui = yes
				# clear_array = ROOT.sat_target_array
				# clear_array = ROOT.sat_target_TAG_array
				missile_ui_update = yes
			}
			### sat access buttons
			GNSS_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_GNSS_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			GNSS_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_GNSS_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			COM_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_COM_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			COM_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_COM_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			SPY_mil_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_SPY_mil_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			SPY_civ_access_flags_button_click = {
				set_variable = { orbit_selected_TAG = selected_TAG_SPY_civ_access_array^i.id }
				set_sat_access_arrays_selected_TAG = yes
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						NOT = { has_country_flag = rods_search_target }
					}
					set_country_flag = rods_search_target
				}
				else = {
					clr_country_flag = rods_search_target
				}
				missile_ui_update = yes
			}
		}
		triggers = {
			### sat
			sat_1_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_1_array^i > -1 }
					NOT = { check_variable = { sat_1_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_2_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_2_array^i > -1 }
					NOT = { check_variable = { sat_2_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_3_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_3_array^i > -1 }
					NOT = { check_variable = { sat_3_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_4_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_4_array^i > -1 }
					NOT = { check_variable = { sat_4_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}
			### sat
			sat_5_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_5_array^i > -1 }
					NOT = { check_variable = { sat_5_array^i < 0 } }
				}
				NOT = { has_country_flag = globe_back_view }
			}

			##################
			### front view ###
			##################
			globe_icon_visible = {
				NOT = { has_country_flag = globe_back_view }
			}
			#################
			### back view ###
			#################
			globe_icon_2_visible = {
				has_country_flag = globe_back_view
			}
			### sat
			sat_6_button_visible = {
				var:orbit_selected_TAG = {
					check_variable = { sat_6_array^i > 0 }
					NOT = { check_variable = { sat_6_array^i < 1 } }
				}
				has_country_flag = globe_back_view
			}
			rotete_globe_1_visible = {
				OR = {
					var:orbit_selected_TAG = {
						check_variable = { sat_6_array^num > 0 }
					}
					has_country_flag = globe_back_view
				}
			}
			####################
			### spy missions ###
			####################
			spy_mission_start_button_click_enabled = {
				custom_trigger_tooltip = {
					tooltip = spy_mission_start_button_trigger_1_TT
					var:orbit_selected_TAG = {
						NOT = { original_tag = ROOT }
						NOT = { has_country_flag = spy_sat_mission_from_@ROOT }
					}
				}
				check_variable = { ROOT.var_SPY_mission_num_gui > 0 }
				custom_trigger_tooltip = {
					tooltip = spy_mission_start_button_trigger_2_TT
					OR = {
						check_variable = { var_SPY_mission_num_available > ROOT.var_SPY_mission_num_gui }
						check_variable = { var_SPY_mission_num_available = ROOT.var_SPY_mission_num_gui }
					}
				}
			}
			spy_sat_small_plus_button_bg_click_enabled = {
				check_variable = { ROOT.var_SPY_mission_intel_ratio < 1 }
			}
			spy_sat_small_minus_button_bg_click_enabled = {
				check_variable = { ROOT.var_SPY_mission_intel_ratio > 0 }
			}
		}
		dynamic_lists = {
			sat_1_gridbox = {
				array = sat_1_array
				entry_container = sat_1_entry
			}
			sat_2_gridbox = {
				array = sat_2_array
				entry_container = sat_2_entry
			}
			sat_3_gridbox = {
				array = sat_3_array
				entry_container = sat_3_entry
			}
			sat_4_gridbox = {
				array = sat_4_array
				entry_container = sat_4_entry
			}
			sat_5_gridbox = {
				array = sat_5_array
				entry_container = sat_5_entry
			}
			sat_6_gridbox = {
				array = sat_6_array
				entry_container = sat_6_entry
			}
			### sat treaties
			## GNSS
			GNSS_mil_access_gridbox = {
				array = selected_TAG_GNSS_mil_access_array
				entry_container = selected_TAG_GNSS_mil_access_entry
			}
			GNSS_civ_access_gridbox = {
				array = selected_TAG_GNSS_civ_access_array
				entry_container = selected_TAG_GNSS_civ_access_entry
			}
			## COM
			COM_mil_access_gridbox = {
				array = selected_TAG_COM_mil_access_array
				entry_container = selected_TAG_COM_mil_access_entry
			}
			COM_civ_access_gridbox = {
				array = selected_TAG_COM_civ_access_array
				entry_container = selected_TAG_COM_civ_access_entry
			}
			## SPY
			SPY_mil_access_gridbox = {
				array = selected_TAG_SPY_mil_access_array
				entry_container = selected_TAG_SPY_mil_access_entry
			}
			SPY_civ_access_gridbox = {
				array = selected_TAG_SPY_civ_access_array
				entry_container = selected_TAG_SPY_civ_access_entry
			}
			sat_target_gridbox = {
				array = THIS.sat_target_array
				entry_container = sat_target_entry
			}
			spy_mission_gridbox = {
				array = THIS.spy_mission_array
				entry_container = spy_mission_entry
			}
		}

		properties = {
			sat_1_button = {
				image = "[sat_1_type_icon]"
			}
			sat_2_button = {
				image = "[sat_2_type_icon]"
			}
			sat_3_button = {
				image = "[sat_3_type_icon]"
			}
			sat_4_button = {
				image = "[sat_4_type_icon]"
			}
			sat_5_button = {
				image = "[sat_5_type_icon]"
			}
			sat_6_button = {
				image = "[sat_6_type_icon]"
			}
			country_view_flag_button = {
				image = "[?orbit_selected_TAG.GetFlag]"
			}
			### sat treaties
			# GNSS_mil_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.GNSS_mil_treaty_array^i.GetFlag]"
			# }
			GNSS_mil_access_flags_button = {
				image = "[?selected_TAG_GNSS_mil_access_array^i.GetFlag]"
			}
			# GNSS_civ_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.GNSS_civ_treaty_array^i.GetFlag]"
			# }
			GNSS_civ_access_flags_button = {
				image = "[?selected_TAG_GNSS_civ_access_array^i.GetFlag]"
			}
			# COM_mil_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.COM_mil_treaty_array^i.GetFlag]"
			# }
			COM_mil_access_flags_button = {
				image = "[?selected_TAG_COM_mil_access_array^i.GetFlag]"
			}
			# COM_civ_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.COM_civ_treaty_array^i.GetFlag]"
			# }
			COM_civ_access_flags_button = {
				image = "[?selected_TAG_COM_civ_access_array^i.GetFlag]"
			}
			# SPY_mil_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.SPY_mil_treaty_array^i.GetFlag]"
			# }
			SPY_mil_access_flags_button = {
				image = "[?selected_TAG_SPY_mil_access_array^i.GetFlag]"
			}
			# SPY_civ_treaty_flags_button = {
			# 	image = "[?orbit_selected_TAG.SPY_civ_treaty_array^i.GetFlag]"
			# }
			SPY_civ_access_flags_button = {
				image = "[?selected_TAG_SPY_civ_access_array^i.GetFlag]"
			}
		}
	}

	MD_satellite_orbit_country_selection_gui = {
		window_name = MD_satellite_orbit_country_selection
		context_type = player_context
		#context_type = selected_country_context
		parent_window_token = MD_satellite_orbit_view

		dirty = global.missile_ui_updated

		visible = {
			ROOT = {
				check_variable = { var_open_MD_missiles_gui_ledger_4 = 2 }
				has_country_flag = open_MD_countrymissilesview
				has_country_flag = open_MD_satellite_orbit_country_selection
			}
		}
		effects = {
			country_list_flag_button_click = {
				set_variable = { orbit_selected_TAG = ROOT.temp_countries^i }
				set_sat_access_arrays_selected_TAG = yes
				var:orbit_selected_TAG = {
					set_variable = { ROOT.var_SPY_mission_num_gui = num_controlled_states }
				}
				update_SPY_mission_start_button = yes
				# clear_array = ROOT.sat_target_array
				# clear_array = ROOT.sat_target_TAG_array
				clr_country_flag = open_MD_satellite_orbit_country_selection
				missile_ui_update = yes
			}
			close_button_click = {
				if = {
					limit = {
						has_country_flag = open_MD_satellite_orbit_country_selection
					}
					clr_country_flag = open_MD_satellite_orbit_country_selection
				}
				clear_array = ROOT.temp_countries
				missile_ui_update = yes
			}
		}

		dynamic_lists = {
			country_list_gridbox = {
				array = temp_countries
				entry_container = country_list_entry
			}
		}
		properties = {
			country_list_flag_button = {
				image = "[?ROOT.temp_countries^i.GetFlag]"
			}
		}
	}
}
