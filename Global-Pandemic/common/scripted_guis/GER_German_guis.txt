scripted_gui = {
	GER_bundeswehr_recovery = {
		window_name = "GER_bundeswehr_recovery_container"
		context_type = decision_category

		properties = {
			bundeswehr_recovery_progress = { frame = GER.bundeswehr_recovery_status }
		}
	}
	GER_bavaria_gui = {
		context_type = decision_category
		window_name = "German_bavaria_decision_ui_window"
	}
	GER_bfv_gui_window = {
		window_name = "GER_bfv_gui_window"
		context_type = player_context

		visible = { has_country_flag = open_bfv_screen }
		triggers = {
			main_bfv_open_button_visible = { NOT = { has_country_flag = GER_BFV_GONE } }
			GFX_GER_map_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GFX_GER_bfv_stickynote_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GFX_GER_bfv_paper_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_status_islamist_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_status_leftists_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_status_rightist_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_status_report_description_visible = { NOT = { OR = { has_country_flag = open_dep2_screen has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_sand_people_branch_status_visible = { has_country_flag = open_dep2_screen NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } } }
			GER_commie_people_branch_status_visible = { has_country_flag = open_dep6_screen NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep2_screen } } }
			GER_extremists_people_branch_status_visible = { has_country_flag = open_dep5_screen NOT = { has_country_flag = open_dep2_screen } }
			MD_OS_visible = { OR = {  has_country_flag = open_dep2_screen  has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen } }
			# ISLAMIST DEPARTMENT STUFF
			GFX_GER_BFV_MENU_EXTREMISTS_visible = { has_country_flag = GER_open_the_application_extremists }
			GER_ADD_EXTREMISTS_BUTTON_visible = { has_country_flag = GER_open_the_application_extremists }
			GER_SUBTRACT_EXTREMISTS_BUTTON_visible = { has_country_flag = GER_open_the_application_extremists }
			GER_spending_on_islamists_visible = { has_country_flag = GER_open_the_application_extremists }
			GFX_GER_bfv_inside_extremists_button_visible = { has_country_flag = open_dep2_screen }
			GER_spending_on_islamists_HIGH_visible = { has_idea = GER_idea_bfv_islamist_high has_country_flag = GER_open_the_application_extremists }
			GER_spending_on_islamists_MED_visible = { has_idea = GER_idea_bfv_islamist_med has_country_flag = GER_open_the_application_extremists }
			GER_spending_on_islamists_LOW_visible = { has_idea = GER_idea_bfv_islamist_low has_country_flag = GER_open_the_application_extremists }
			GER_DEPARTMENT_STATS_ISLAMISTS_visible = { has_country_flag = GER_open_the_application_extremists }
			GER_islamist_department_stable_visible = { has_country_flag = GER_open_the_application_extremists has_country_flag = GER_ISLAMIST_DEPT_STABLE }
			GER_islamist_department_unstable_visible = { has_country_flag = GER_open_the_application_extremists has_country_flag = GER_ISLAMIST_DEPT_UNSTABLE }
			GER_islamist_department_collapsing_visible = { has_country_flag = GER_open_the_application_extremists has_country_flag = GER_ISLAMIST_DEPT_COLLAPSING }
			GER_islamist_department_collapsed_visible = { has_country_flag = GER_ISLAMIST_DEPT_COLLAPSED has_country_flag = GER_open_the_application_extremists }
			GER_spending_on_islamists_ENDED_visible = { has_country_flag = GER_ISLAMIST_DEPT_COLLAPSED has_country_flag = GER_open_the_application_extremists }
			# RIGHT WING DEPARTMENT STUFF
			GFX_GER_BFV_MENU_RIGHTWING_visible = { has_country_flag = GER_open_the_application_rightwing }
			GER_ADD_RIGHTWING_BUTTON_visible = { has_country_flag = GER_open_the_application_rightwing }
			GER_SUBTRACT_RIGHTWING_BUTTON_visible = { has_country_flag = GER_open_the_application_rightwing }
			GER_spending_on_rightwing_visible = { has_country_flag = GER_open_the_application_rightwing }
			GFX_GER_bfv_inside_rightwing_button_visible = { has_country_flag = open_dep5_screen }
			GER_spending_on_rightwing_HIGH_visible = { has_idea = GER_idea_bfv_rightwing_high has_country_flag = GER_open_the_application_rightwing }
			GER_spending_on_rightwing_MED_visible = { has_idea = GER_idea_bfv_rightwing_med has_country_flag = GER_open_the_application_rightwing }
			GER_spending_on_rightwing_LOW_visible = { has_idea = GER_idea_bfv_rightwing_low has_country_flag = GER_open_the_application_rightwing }
			GER_DEPARTMENT_STATS_RIGHTWING_visible = { has_country_flag = GER_open_the_application_rightwing }
			GER_rightwing_department_stable_visible = { has_country_flag = GER_open_the_application_rightwing has_country_flag = GER_RIGHTWING_DEPT_STABLE }
			GER_rightwing_department_unstable_visible = { has_country_flag = GER_open_the_application_rightwing has_country_flag = GER_RIGHTWING_DEPT_UNSTABLE }
			GER_rightwing_department_collapsing_visible = { has_country_flag = GER_open_the_application_rightwing has_country_flag = GER_RIGHTWING_DEPT_COLLAPSING }
			GER_rightwing_department_collapsed_visible = { has_country_flag = GER_RIGHTWING_DEPT_COLLAPSED has_country_flag = GER_open_the_application_rightwing }
			GER_spending_on_rightwing_ENDED_visible = { has_country_flag = GER_RIGHTWING_DEPT_COLLAPSED has_country_flag = GER_open_the_application_rightwing }
			# LEFT WING DEPARTMENT STUFF
			GFX_GER_BFV_MENU_LEFTWING_visible = { has_country_flag = GER_open_the_application_leftwing }
			GER_ADD_LEFTWING_BUTTON_visible = { has_country_flag = GER_open_the_application_leftwing }
			GER_SUBTRACT_LEFTWING_BUTTON_visible = { has_country_flag = GER_open_the_application_leftwing }
			GER_spending_on_leftwing_visible = { has_country_flag = GER_open_the_application_leftwing }
			GFX_GER_bfv_inside_leftwing_button_visible = { has_country_flag = open_dep6_screen }
			GER_spending_on_leftwing_HIGH_visible = { has_idea = GER_idea_bfv_leftwing_high has_country_flag = GER_open_the_application_leftwing }
			GER_spending_on_leftwing_MED_visible = { has_idea = GER_idea_bfv_leftwing_med has_country_flag = GER_open_the_application_leftwing }
			GER_spending_on_leftwing_LOW_visible = { has_idea = GER_idea_bfv_leftwing_low has_country_flag = GER_open_the_application_leftwing }
			GER_DEPARTMENT_STATS_LEFTWING_visible = { has_country_flag = GER_open_the_application_leftwing }
			GER_leftwing_department_stable_visible = { has_country_flag = GER_open_the_application_leftwing has_country_flag = GER_LEFTWING_DEPT_STABLE }
			GER_leftwing_department_unstable_visible = { has_country_flag = GER_open_the_application_leftwing has_country_flag = GER_LEFTWING_DEPT_UNSTABLE }
			GER_leftwing_department_collapsing_visible = { has_country_flag = GER_open_the_application_leftwing has_country_flag = GER_LEFTWING_DEPT_COLLAPSING }
			GER_leftwing_department_collapsed_visible = { has_country_flag = GER_LEFTWING_DEPT_COLLAPSED has_country_flag = GER_open_the_application_leftwing }
			GER_spending_on_leftwing_ENDED_visible = { has_country_flag = GER_LEFTWING_DEPT_COLLAPSED has_country_flag = GER_open_the_application_leftwing }
			# RADICALIZATION OF ISLAMISTS
			GER_islamists_radicalized_visible = { has_country_flag = GER_ISLAMISTS_ARE_RADICAL NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_islamists_controlled_visible = { has_country_flag = GER_ISLAMISTS_ARE_CONTROLLED NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_islamists_active_visible = { has_country_flag = GER_ISLAMISTS_ARE_ACTIVE NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			# RADICALIZATION OF LEFTISTS
			GER_leftists_radicalized_visible = { has_country_flag = GER_LEFTISTS_ARE_RADICAL NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_leftists_controlled_visible = { has_country_flag = GER_LEFTISTS_ARE_CONTROLLED NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_leftists_active_visible = { has_country_flag = GER_LEFTISTS_ARE_ACTIVE NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			# RADICALIZATION OF RIGHTISTS
			GER_rightists_radicalized_visible = { has_country_flag = GER_RIGHTISTS_ARE_RADICAL NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_rightists_controlled_visible = { has_country_flag = GER_RIGHTISTS_ARE_CONTROLLED NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
			GER_rightists_active_visible = { has_country_flag = GER_RIGHTISTS_ARE_ACTIVE NOT = { OR = { has_country_flag = open_dep5_screen has_country_flag = open_dep6_screen has_country_flag = open_dep2_screen } } }
		}
		effects = {
			close_button_click = { clr_country_flag = open_bfv_screen }
			GFX_ideology_fascism_group_button_click = { #Button for opening Islamists window
				if = {
					limit = { NOT = { has_country_flag = open_dep2_screen } }
					set_country_flag = open_dep2_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep6_screen
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing
					clr_country_flag = GER_open_the_application_extremists
				}
				else = {
					clr_country_flag = open_dep2_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep6_screen
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing
				}
			}
			GER_nationalist_icon_sub_button_click = { #Button for opening Right-Wing extremist window
				if = {
					limit = { NOT = { has_country_flag = open_dep5_screen } }
					set_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = open_dep6_screen
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing

				}
				else = {
					clr_country_flag = open_dep6_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing
				}
			}
			GFX_ideology_communism_group_button_click = { #Button for opening Left-Wing extremist window
				if = {
					limit = { NOT = { has_country_flag = open_dep6_screen } }
					set_country_flag = open_dep6_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing

				}
				else = {
					clr_country_flag = open_dep6_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_leftwing

				}
			}
			GFX_GER_bfv_button_click = { #
				if = {
					limit = { OR = { has_country_flag = open_dep6_screen has_country_flag = open_dep5_screen has_country_flag = open_dep2_screen } }
					clr_country_flag = open_dep6_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_leftwing
				}
				else = {
					clr_country_flag = open_dep6_screen
					clr_country_flag = open_dep5_screen
					clr_country_flag = open_dep2_screen
					clr_country_flag = GER_open_the_application_rightwing
					clr_country_flag = GER_open_the_application_extremists
					clr_country_flag = GER_open_the_application_leftwing
				}
			}
			GFX_GER_bfv_inside_extremists_button_click = { #
				if = {
					limit = { NOT = { has_country_flag = GER_open_the_application_extremists } }
					set_country_flag = GER_open_the_application_extremists
				}
				else = {
					clr_country_flag = GER_open_the_application_extremists
				}
			}
			GFX_GER_bfv_inside_rightwing_button_click = { #
				if = {
					limit = { NOT = { has_country_flag = GER_open_the_application_rightwing } }
					set_country_flag = GER_open_the_application_rightwing
				}
				else = {
					clr_country_flag = GER_open_the_application_rightwing
				}
			}
			GFX_GER_bfv_inside_leftwing_button_click = { #
				if = {
					limit = { NOT = { has_country_flag = GER_open_the_application_leftwing } }
					set_country_flag = GER_open_the_application_leftwing
				}
				else = {
					clr_country_flag = GER_open_the_application_leftwing
				}
			}
			GER_ADD_EXTREMISTS_BUTTON_click = { #
				add_to_variable = { GER_islamist_spending_level = 1 }
			}
			#
			GER_SUBTRACT_EXTREMISTS_BUTTON_click = { #
				add_to_variable = { GER_islamist_spending_level = -1 }
			}
			# # #
			GER_ADD_RIGHTWING_BUTTON_click = { #
				add_to_variable = { GER_rightwing_spending_level = 1 }
			}
			#
			GER_SUBTRACT_RIGHTWING_BUTTON_click = { #
				add_to_variable = { GER_rightwing_spending_level = -1 }
			}
			# # #
			GER_ADD_LEFTWING_BUTTON_click = { #
				add_to_variable = { GER_leftwing_spending_level = 1 }
			}
			#
			GER_SUBTRACT_LEFTWING_BUTTON_click = { #
				add_to_variable = { GER_leftwing_spending_level = -1 }
			}
		}
	}
	open_bfv_main_button = {
		context_type = player_context
		window_name = "main_bfv_open_button"
		parent_window_name = "MapmodesInterface_Ingame"
		dirty = global.num_days
		visible = {
			original_tag = GER
			NOT = {
				has_country_flag = GER_BFV_GONE
			}
		}
		effects = {
			open_bfv_main_screen_button_click = {
				if = {
					limit = { NOT = { has_country_flag = open_bfv_screen } }
					set_country_flag = open_bfv_screen
				}
				else = {
					clr_country_flag = open_bfv_screen
				}
			}
		}
	}
}
#