# Author(s): alexmarkel0v, AngriestBird
# Last modified April 2023
form_UAR_category = {
	### Integrate ###
	#LBA
	UAR_integrate_LBA = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = LBA
				tag = GNC
				tag = HOR
				tag = GNA
			}
		}
		visible = {
			NOT = { has_country_flag = integrated_LBA }
			OR = {
				AND = {
					LBA = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = HOR
						country_exists = GNC
						country_exists = GNA
					}
				}
				AND = {
					HOR = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = LBA
						country_exists = GNC
						country_exists = GNA
					}
				}
				AND = {
					GNC = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = LBA
						country_exists = HOR
						country_exists = GNA
					}
				}
				AND = {
					GNA = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = LBA
						country_exists = HOR
						country_exists = GNC
					}
				}
				AND = {
					owns_state = 397
					owns_state = 395
					owns_state = 920
					owns_state = 918
					owns_state = 919
					owns_state = 396
					owns_state = 393
					owns_state = 391
					owns_state = 392
					owns_state = 579
					owns_state = 1100
					owns_state = 1101
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_LBA"
			add_state_core = 397
			add_state_core = 395
			add_state_core = 920
			add_state_core = 918
			add_state_core = 919
			add_state_core = 396
			add_state_core = 393
			add_state_core = 391
			add_state_core = 392
			add_state_core = 579
			add_state_core = 1100
			add_state_core = 1101
			annex_country = {
				target = LBA
				transfer_troops = yes
			}
			annex_country = {
				target = HOR
				transfer_troops = yes
			}
			annex_country = {
				target = GNA
				transfer_troops = yes
			}
			annex_country = {
				target = GNC
				transfer_troops = yes
			}

			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_LBA
			set_country_flag = flag_update_required
		}
	}

	#SYR
	UAR_integrate_SYR = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = SYR
				tag = FSA
				tag = NUS
			}
		}
		visible = {
			NOT = { has_country_flag = integrated_SYR }
			OR = {
				AND = {
					SYR = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = FSA
						country_exists = NUS
					}
				}
				AND = {
					FSA = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = SYR
						country_exists = NUS
					}
				}
				AND = {
					NUS = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = SYR
						country_exists = FSA
					}
				}
				AND = {
					owns_state = 575
					owns_state = 571
					owns_state = 566
					owns_state = 561
					owns_state = 193
					owns_state = 190
					owns_state = 191
					owns_state = 192
					owns_state = 189
					owns_state = 186
					owns_state = 188
					owns_state = 184
					owns_state = 185
					owns_state = 186
					owns_state = 994
					owns_state = 995
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_SYR"
			add_state_core = 587
			add_state_core = 575
			add_state_core = 571
			add_state_core = 566
			add_state_core = 561
			add_state_core = 193
			add_state_core = 190
			add_state_core = 191
			add_state_core = 192
			add_state_core = 189
			add_state_core = 186
			add_state_core = 188
			add_state_core = 184
			add_state_core = 185
			add_state_core = 186
			add_state_core = 158
			add_state_core = 994
			add_state_core = 995
			annex_country = {
				target = SYR
				transfer_troops = yes
			}
			annex_country = {
				target = FSA
				transfer_troops = yes
			}
			annex_country = {
				target = NUS
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_SYR
			set_country_flag = flag_update_required
		}
	}

	#ALG
	UAR_integrate_ALG = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = ALG }
		}
		visible = {
			NOT = { has_country_flag = integrated_ALG }
			OR = {
				ALG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 383
					owns_state = 384
					owns_state = 385
					owns_state = 381
					owns_state = 382
					owns_state = 379
					owns_state = 386
					owns_state = 387
					owns_state = 380
					owns_state = 394
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_ALG"
			add_state_core = 383
			add_state_core = 384
			add_state_core = 385
			add_state_core = 381
			add_state_core = 382
			add_state_core = 379
			add_state_core = 386
			add_state_core = 387
			add_state_core = 380
			add_state_core = 394
			annex_country = {
				target = ALG
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_ALG
			set_country_flag = flag_update_required
		}
	}

	#EGY
	UAR_integrate_EGY = {
		icon = GFX_decision_generic_form_nation
		cost = 1000
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = EGY }
		}
		visible = {
			NOT = { has_country_flag = integrated_EGY }
			OR = {
				EGY = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 577
					owns_state = 219
					owns_state = 216
					owns_state = 218
					owns_state = 214
					owns_state = 215
					owns_state = 213
					owns_state = 217
					owns_state = 1102
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_EGY"
			add_state_core = 590
			add_state_core = 577
			add_state_core = 219
			add_state_core = 216
			add_state_core = 218
			add_state_core = 214
			add_state_core = 215
			add_state_core = 213
			add_state_core = 217
			add_state_core = 1102
			annex_country = {
				target = EGY
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_EGY
			set_country_flag = flag_update_required
		}
	}

	#LEB
	UAR_integrate_LEB = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = LEB
				tag = HEZ
			}
		}
		visible = {
			NOT = { has_country_flag = integrated_LEB }
			OR = {
				AND = {
					LEB = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = { country_exists = HEZ }
				}
				AND = {
					HEZ = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = { country_exists = LEB }
				}
				AND = {
					owns_state = 203
					owns_state = 201
					owns_state = 202
					owns_state = 553
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_LEB"
			add_state_core = 203
			add_state_core = 201
			add_state_core = 202
			add_state_core = 553
			annex_country = {
				target = LEB
				transfer_troops = yes
			}
			annex_country = {
				target = HEZ
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_LEB
			set_country_flag = flag_update_required
		}
	}

	#IRQ
	UAR_integrate_IRQ = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = IRQ }
		}
		visible = {
			NOT = { has_country_flag = integrated_IRQ }
			OR = {
				IRQ = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 557
					owns_state = 170
					owns_state = 171
					owns_state = 169
					owns_state = 168
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_IRQ"
			add_state_core = 557
			add_state_core = 170
			add_state_core = 171
			add_state_core = 169
			add_state_core = 168
			add_state_core = 633
			add_state_core = 164
			add_state_core = 630
			add_state_core = 641
			add_state_core = 165
			add_state_core = 166
			add_state_core = 167
			annex_country = {
				target = IRQ
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_IRQ
			set_country_flag = flag_update_required
		}
	}

	#MAU
	UAR_integrate_MAU = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = MAU }
		}
		visible = {
			NOT = { has_country_flag = integrated_MAU }
			OR = {
				MAU = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 370
					owns_state = 371
					owns_state = 369
					owns_state = 413
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_MAU"
			add_state_core = 370
			add_state_core = 371
			add_state_core = 369
			add_state_core = 413
			annex_country = {
				target = MAU
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_MAU
			set_country_flag = flag_update_required
		}
	}

	#PAL
	UAR_integrate_PAL = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = PAL
				tag = HAM
			}
		}
		visible = {
			NOT = { has_country_flag = integrated_PAL }
			OR = {
				AND = {
					PAL = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = { country_exists = HAM }
				}
				AND = {
					HAM = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = { country_exists = PAL }
				}
				AND = {
					owns_state = 208
					owns_state = 209
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_PAL"
			add_state_core = 207
			add_state_core = 208
			add_state_core = 209
			add_state_claim = 204
			add_state_claim = 205
			add_state_claim = 206
			annex_country = {
				target = PAL
				transfer_troops = yes
			}
			annex_country = {
				target = HAM
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_PAL
			set_country_flag = flag_update_required
		}
	}

	#TUN
	UAR_integrate_TUN = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = TUN }
		}
		visible = {
			NOT = { has_country_flag = integrated_TUN }
			OR = {
				TUN = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 388
					owns_state = 389
					owns_state = 390
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_TUN"
			add_state_core = 388
			add_state_core = 389
			add_state_core = 390
			annex_country = {
				target = TUN
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_TUN
			set_country_flag = flag_update_required
		}
	}

	#SHA
	UAR_integrate_SHA = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = SHA }
		}
		visible = {
			NOT = { has_country_flag = integrated_SHA }
			OR = {
				SHA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 372
					owns_state = 373
				}
				AND = {
					owns_state = 372
					owns_state = 373
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_SHA"
			add_state_core = 372
			add_state_core = 373
			annex_country = {
				target = SHA
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_SHA
			set_country_flag = flag_update_required
		}
	}

	#SAU
	UAR_integrate_SAU = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = SAU }
		}
		visible = {
			NOT = { has_country_flag = integrated_SAU }
			OR = {
				SAU = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 173
					owns_state = 174
					owns_state = 175
					owns_state = 176
					owns_state = 177
					owns_state = 178
					owns_state = 932
					owns_state = 933
					owns_state = 1081
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_SAU"
			add_state_core = 173
			add_state_core = 174
			add_state_core = 175
			add_state_core = 176
			add_state_core = 177
			add_state_core = 178
			add_state_core = 932
			add_state_core = 933
			add_state_core = 1081
			annex_country = {
				target = SAU
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_SAU
			set_country_flag = flag_update_required
		}
	}

	#OMA
	UAR_integrate_OMA = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = OMA }
		}
		visible = {
			NOT = { has_country_flag = integrated_OMA }
			OR = {
				OMA = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 182
					owns_state = 183
					owns_state = 425
					owns_state = 486
					owns_state = 1082
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_OMA"
			add_state_core = 182
			add_state_core = 183
			add_state_core = 425
			add_state_core = 486
			add_state_core = 1082
			annex_country = {
				target = OMA
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_OMA
			set_country_flag = flag_update_required
		}
	}

	#UAE
	UAR_integrate_UAE = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365

		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = UAE }
		}
		visible = {
			NOT = { has_country_flag = integrated_UAE }
			OR = {
				UAE = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 179
					owns_state = 180
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_UAE"
			add_state_core = 179
			add_state_core = 180
			annex_country = {
				target = UAE
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_UAE
			set_country_flag = flag_update_required
		}
	}

	#QAT
	UAR_integrate_QAT = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = QAT }
		}
		visible = {
			NOT = { has_country_flag = integrated_QAT }
			OR = {
				QAT = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 181
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_QAT"
			add_state_core = 181
			annex_country = {
				target = QAT
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_QAT
			set_country_flag = flag_update_required
		}
	}

	#BHR Irrelevant
	UAR_integrate_BHR = {
		icon = GFX_decision_generic_form_nation
		cost = 100
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = BHR }
		}
		visible = {
			has_country_flag = is_UAR
			NOT = { has_country_flag = integrated_BHR }
			OR = {
				BHR = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 423
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_BHR"
			add_state_core = 423
			annex_country = {
				target = BHR
				transfer_troops = yes
			}
			set_country_flag = integrated_BHR
		}
	}

	#KUW
	UAR_integrate_KUW = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = KUW }
		}
		visible = {
			NOT = { has_country_flag = integrated_KUW }
			OR = {
				KUW = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 172
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_KUW"
			add_state_core = 172
			add_state_core = 488
			annex_country = {
				target = KUW
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_KUW
			set_country_flag = flag_update_required
		}
	}

	#YEM
	UAR_integrate_YEM = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = YEM
				tag = HOU
				tag = AQY
			}
		}
		visible = {
			NOT = { has_country_flag = integrated_YEM }
			OR = {
				AND = {
					YEM = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = HOU
						country_exists = AQY
					}
				}
				AND = {
					HOU = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = YEM
						country_exists = AQY
					}
				}
				AND = {
					AQY = {
						is_subject_of = ROOT
						has_war = no
					}
					NOT = {
						country_exists = YEM
						country_exists = HOU
					}
				}
				AND = {
					owns_state = 194
					owns_state = 195
					owns_state = 196
					owns_state = 197
					owns_state = 198
					owns_state = 199
					owns_state = 200
					owns_state = 951
					owns_state = 952
					owns_state = 1077
					owns_state = 1103
					owns_state = 1104
					owns_state = 1105
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_YEM"
			add_state_core = 194
			add_state_core = 195
			add_state_core = 196
			add_state_core = 197
			add_state_core = 198
			add_state_core = 199
			add_state_core = 200
			add_state_core = 951
			add_state_core = 952
			add_state_core = 1077
			add_state_core = 1103
			add_state_core = 1104
			add_state_core = 1105
			annex_country = {
				target = YEM
				transfer_troops = yes
			}
			annex_country = {
				target = HOU
				transfer_troops = yes
			}
			annex_country = {
				target = AQY
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_YEM
			set_country_flag = flag_update_required
		}
	}

	#MOR
	UAR_integrate_MOR = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = MOR }
		}
		visible = {
			NOT = { has_country_flag = integrated_MOR }
			OR = {
				MOR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 374
					owns_state = 375
					owns_state = 376
					owns_state = 377
					owns_state = 378
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_MOR"
			add_state_core = 373
			add_state_core = 374
			add_state_core = 375
			add_state_core = 376
			add_state_core = 377
			add_state_core = 378
			add_state_core = 632
			add_state_core = 495
			annex_country = {
				target = MOR
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_MOR
			set_country_flag = flag_update_required
		}
	}

	#SUD
	UAR_integrate_SUD = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = SUD }
		}
		visible = {
			NOT = { has_country_flag = integrated_SUD }
			OR = {
				SUD = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 223
					owns_state = 224
					owns_state = 222
					owns_state = 220
					owns_state = 221
					owns_state = 614
					owns_state = 576
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_SUD"
			add_state_core = 223
			add_state_core = 590
			add_state_core = 224
			add_state_core = 222
			add_state_core = 220
			add_state_core = 221
			add_state_core = 614
			add_state_core = 576
			add_state_claim = 225
			add_state_claim = 226
			add_state_claim = 925
			add_state_claim = 926
			add_state_claim = 923
			add_state_claim = 924
			add_state_claim = 227
			add_state_claim = 927
			annex_country = {
				target = SUD
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_SUD
			set_country_flag = flag_update_required
		}
	}

	#JOR
	UAR_integrate_JOR = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = { tag = JOR }
		}
		visible = {
			NOT = { has_country_flag = integrated_JOR }
			OR = {
				JOR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 210
					owns_state = 211
					owns_state = 212
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_integrate_JOR"
			add_state_core = 210
			add_state_core = 211
			add_state_core = 212
			annex_country = {
				target = JOR
				transfer_troops = yes
			}
			if = {
				limit = {
					has_country_flag = is_UAR
				}
				add_to_variable = {
					var = UAR_member_states
					value = 1
				}
			}
			else = {
				set_country_flag = is_UAR
				set_global_flag = UAR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
				set_variable = {
					var = UAR_member_states
					value = 2
				}
			}
			set_country_flag = integrated_JOR
			set_country_flag = flag_update_required
		}
	}

	### Cosmetic ###
	MGB_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 10 }
		allowed = {
			OR = {
				tag = ALG
				tag = LBA
				tag = MAU
				tag = MOR
				tag = SHA
				tag = TUN
			}
		}
		visible = {
			has_country_flag = flag_update_required
			has_country_flag = is_UAR
			NOT = {
				has_country_flag = integrated_BHR
				has_country_flag = integrated_EGY
				has_country_flag = integrated_IRQ
				has_country_flag = integrated_JOR
				has_country_flag = integrated_KUW
				has_country_flag = integrated_LEB
				has_country_flag = integrated_OMA
				has_country_flag = integrated_PAL
				has_country_flag = integrated_QAT
				has_country_flag = integrated_SAU
				has_country_flag = integrated_SUD
				has_country_flag = integrated_SYR
				has_country_flag = integrated_UAE
				has_country_flag = integrated_YEM
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MGB_update_flag"
			#5
			if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB
			}
			#4
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_MAU_MOR
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_MAU_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_MAU_MOR_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_MOR_TUN
			}
			#3
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_MOR_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_MAU
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_MOR
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
				}
				set_cosmetic_tag = MGB_ALG_MAU_MOR
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_MAU_TUN
			}
			#2
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = LBA
						has_country_flag = integrated_LBA
					}
				}
				set_cosmetic_tag = MGB_ALG_LBA
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_MAU
					}
				}
				set_cosmetic_tag = MGB_ALG_MAU
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MOR
						has_country_flag = integrated_MOR
					}
				}
				set_cosmetic_tag = MGB_ALG_MOR
			}
			else_if = {
				limit = {
					OR = {
						tag = ALG
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_ALG_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = LBA
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = TUN
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_LBA_TUN
			}
			else_if = {
				limit = {
					OR = {
						tag = MOR
						has_country_flag = integrated_ALG
					}
					OR = {
						tag = MAU
						has_country_flag = integrated_TUN
					}
				}
				set_cosmetic_tag = MGB_MOR_MAU
			}
			else = {
				set_cosmetic_tag = MGB_ELSE
			}
			clr_country_flag = flag_update_required
		}
	}

	#UAR
	UAR_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_UAR
			OR = {
				AND = {
					has_country_flag = flag_update_required
					NOT = {
						has_cosmetic_tag = UAR_com
						has_cosmetic_tag = UAR_islamist
						#has_cosmetic_tag = monarchist_flag
					}
				}
				AND = {
					NOT = { has_cosmetic_tag = UAR_com }
					OR = {
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
					has_elections = no
				}
				AND = {
					has_cosmetic_tag = UAR_com

					NOT = {
						AND = {
							is_in_array = { array = ruling_party  value = 4 }
							has_elections = no
						}
						AND = {
							is_in_array = { array = ruling_party  value = 19 }
							has_elections = no
						}
					}
				}
				AND = {
					NOT = { has_cosmetic_tag = UAR_islamist }
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 11 }
					}
					has_elections = no
				}
				AND = {
					has_cosmetic_tag = UAR_islamist
					NOT = {
						AND = {
							is_in_array = { array = ruling_party  value = 10 } # is temp
							has_elections = no
						}
						AND = {
							is_in_array = { array = ruling_party  value = 11 }
							has_elections = no
						}
					}
				}
				#AND = {
				#	has_country_flag = monarchist_flag
				#	has_country_flag = monarchist_flag
				#	NOT = {
				#		is_in_array = { array = ruling_party  value = 10 }
				#		is_in_array = { array = ruling_party  value = 23 }
				#		has_elections = no
				#	}
				#}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UAR_update_flag"
			#communist
			if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
					has_elections = no
				}
				set_cosmetic_tag = UAR_com
			}

			#islamist
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 10 } # is temp
						is_in_array = { array = ruling_party  value = 11 }
					}
					has_elections = no
				}
				set_cosmetic_tag = UAR_islamist
			}

			#Monarchist (not done)

			#2
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 2 }
				}
				set_cosmetic_tag = UAR_2
			}
			#3
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 3 }
				}
				set_cosmetic_tag = UAR_3
			}
			#4
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 4 }
				}
				set_cosmetic_tag = UAR_4
			}
			#5
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 5 }
				}
				set_cosmetic_tag = UAR_5
			}
			#6
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 6 }
				}
				set_cosmetic_tag = UAR_6
			}
			#7
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 7 }
				}
				set_cosmetic_tag = UAR_7
			}
			#8
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 8 }
				}
				set_cosmetic_tag = UAR_8
			}
			#9
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 9 }
				}
				set_cosmetic_tag = UAR_9
			}
			#10
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 10 }
				}
				set_cosmetic_tag = UAR_10
			}
			#11
			else_if = {
				limit = {
					check_variable = { UAR_member_states = 11 }
				}
				set_cosmetic_tag = UAR_11
			}



			#> = 12
			else_if = {
				limit = {
					check_variable = { UAR_member_states > 11 }
				}
				set_cosmetic_tag = UAR_12
			}
			#?
			else = {
				set_cosmetic_tag = UAR
			}
			clr_country_flag = flag_update_required
		}
	}
}

form_BLT_category = {
	### Integrate ###
	BLT_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_BLT }
		}
		available = {
			OR = {
				LIT = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 109
					owns_state = 110
					owns_state = 1043
					owns_state = 1044
				}
			}
			OR = {
				LAT = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 107
					owns_state = 108
					owns_state = 1013
					owns_state = 1058
				}
			}
			OR = {
				EST = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 105
					owns_state = 106
					owns_state = 1012
					owns_state = 1074
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BLT_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_BLT } }
				set_country_flag = is_BLT
				set_global_flag = BLT_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = BLT_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#LIT
	BLT_integrate_LIT = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = LIT } }
		visible = {
			has_country_flag = is_BLT
			NOT = { has_country_flag = integrated_LIT }
			OR = {
				LIT = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 109
					owns_state = 110
					owns_state = 1043
					owns_state = 1044
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BLT_integrate_LIT"
			add_state_core = 109
			add_state_core = 110
			add_state_core = 1043
			add_state_core = 1044
			annex_country = {
				target = LIT
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_BLT } }
				set_country_flag = is_BLT
				set_global_flag = BLT_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_LIT
		}
	}
	#LAT
	BLT_integrate_LAT = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = LAT } }
		visible = {
			has_country_flag = is_BLT
			NOT = { has_country_flag = integrated_LAT }
			OR = {
				LAT = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 107
					owns_state = 108
					owns_state = 1013
					owns_state = 1058
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BLT_integrate_LAT"
			add_state_core = 107
			add_state_core = 108
			add_state_core = 1013
			add_state_core = 1058
			annex_country = {
				target = LAT
				transfer_troops = yes
			}
			if = {
				limit = { NOT = { has_country_flag = is_BLT } }
				set_country_flag = is_BLT
				set_global_flag = BLT_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_LAT
		}
	}
	#EST
	BLT_integrate_EST = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = EST } }
		visible = {
			has_country_flag = is_BLT
			NOT = { has_country_flag = integrated_EST }
			OR = {
				EST = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 105
					owns_state = 106
					owns_state = 1012
					owns_state = 1074
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BLT_integrate_EST"
			add_state_core = 105
			add_state_core = 106
			add_state_core = 1012
			add_state_core = 1074
			annex_country = {
				target = EST
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_BLT } }
				set_country_flag = is_BLT
				set_global_flag = BLT_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_EST
		}
	}

	### Cosmetic ###
	BLT_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_BLT
			has_country_flag = integrated_LIT
			has_country_flag = integrated_LAT
			has_country_flag = integrated_EST
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = BLT
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = BLT_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = BLT_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = BLT_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BLT_update_flag"
			#BLT
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = BLT
			}
			#BLT_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = BLT_AUTH
			}
			#BLT_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = BLT_AUTH_S
			}
			#BLT_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = BLT_AUTH_SS
			}
		}
	}
}

form_FCA_category = {
	### Integrate ###
	FCA_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_FCA }
		}
		available = {
			BLZ = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			GUA = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			ELS = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			HON = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			NIC = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			COS = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			PAN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = FCA_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#BLZ
	FCA_integrate_BLZ = {
		icon = GFX_decision_generic_form_nation
		cost = 100
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BLZ } }
		visible = {
			NOT = { has_country_flag = integrated_BLZ }
			OR = {
				BLZ = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 845
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_BLZ"
			add_state_core = 845
			annex_country = {
				target = BLZ
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_BLZ
		}
	}

	#GUA
	FCA_integrate_GUA = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = GUA } }
		visible = {
			NOT = { has_country_flag = integrated_GUA }
			OR = {
				GUA = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 841
					owns_state = 842
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_GUA"
			add_state_core = 841
			add_state_core = 842
			annex_country = {
				target = GUA
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_GUA
		}
	}

	#ELS
	FCA_integrate_ELS = {
		icon = GFX_decision_generic_form_nation
		cost = 100
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ELS } }
		visible = {
			NOT = { has_country_flag = integrated_ELS }
			OR = {
				ELS = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 843
					owns_state = 844
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_ELS"
			add_state_core = 843
			add_state_core = 844
			annex_country = {
				target = ELS
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_ELS
		}
	}
	#HON
	FCA_integrate_HON = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = HON } }
		visible = {
			NOT = { has_country_flag = integrated_HON }
			OR = {
				HON = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 846
					owns_state = 847
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_HON"
			add_state_core = 846
			add_state_core = 847
			annex_country = {
				target = HON
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_HON
		}
	}
	#NIC
	FCA_integrate_NIC = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = NIC } }
		visible = {
			NOT = { has_country_flag = integrated_NIC }
			OR = {
				NIC = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 848
					owns_state = 849
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_NIC"
			add_state_core = 848
			add_state_core = 849
			annex_country = {
				target = NIC
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_NIC
		}
	}
	#COS
	FCA_integrate_COS = {
		icon = GFX_decision_generic_form_nation
		cost = 100
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = COS } }
		visible = {
			NOT = { has_country_flag = integrated_COS }
			OR = {
				COS = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 850
					owns_state = 851
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_COS"
			add_state_core = 850
			add_state_core = 851
			annex_country = {
				target = COS
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_COS
		}
	}
	#PAN
	FCA_integrate_PAN = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PAN } }
		visible = {
			NOT = { has_country_flag = integrated_PAN }
			OR = {
				PAN = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 852
					owns_state = 853
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_integrate_PAN"
			add_state_core = 852
			add_state_core = 853
			annex_country = {
				target = PAN
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_FCA } }
				set_country_flag = is_FCA
				set_global_flag = FCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_PAN
		}
	}

	### Cosmetic ###
	FCA_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_FCA
			NOT = { has_cosmetic_tag = FCA }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FCA_update_flag"
			# #FCA
			# if = {
			# 	limit = { has_elections = yes }
			# 	set_cosmetic_tag = FCA
			# }
			# #FCA_AUTH
			# else_if = {
			# 	limit = {
			# 		has_elections = no
			# 		OR = {
			# 			is_in_array = { array = ruling_party  value = 0 }
			# 			is_in_array = { array = ruling_party  value = 7 }
			# 			is_in_array = { array = ruling_party  value = 13 }
			# 			is_in_array = { array = ruling_party  value = 22 }
			# 		}
			# 	}
			# 	set_cosmetic_tag = FCA_AUTH
			# }
			# #FCA_AUTH_S
			# else_if = {
			# 	limit = {
			# 		has_elections = no
			# 		OR = {
			# 			is_in_array = { array = ruling_party  value = 10 }
			# 			is_in_array = { array = ruling_party  value = 23 }
			# 			is_in_array = { array = ruling_party  value = 4 }
			# 			is_in_array = { array = ruling_party  value = 19 }
			# 		}
			# 	}
			# 	set_cosmetic_tag = FCA_AUTH_S
			# }
			# #FCA_AUTH_SS
			# else_if = {
			# 	limit = {
			# 		has_elections = no
			# 		OR = {
			# 			is_in_array = { array = ruling_party  value = 21 }
			# 			is_in_array = { array = ruling_party  value = 8 }
			# 			is_in_array = { array = ruling_party  value = 9 }
			# 			is_in_array = { array = ruling_party  value = 11 }
			# 		}
			# 	}
			# 	set_cosmetic_tag = FCA_AUTH_SS
			# }
			set_cosmetic_tag = FCA
		}
	}
}

#Gran Columbia
form_GCL_category = {
	GCL_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_GCL }
		}
		available = {
			ECU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			VEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			COL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GCL_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_GCL } }
				set_country_flag = is_GCL
				set_global_flag = GCL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = GCL_start_integrate_tt
			custom_effect_tooltip = is_GCL
		}
	}
	### Integrate ###
	#COL
	GCL_integrate_COL = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = COL } }
		visible = {
			NOT = { has_country_flag = integrated_COL }
			OR = {
				COL = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 870
					owns_state = 871
					owns_state = 872
					owns_state = 873
					owns_state = 911
					owns_state = 912
					owns_state = 913
					owns_state = 914
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GCL_integrate_COL"
			add_state_core = 870
			add_state_core = 871
			add_state_core = 872
			add_state_core = 873
			add_state_core = 911
			add_state_core = 912
			add_state_core = 913
			add_state_core = 914
			annex_country = {
				target = COL
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_GCL } }
				set_country_flag = is_GCL
				set_global_flag = GCL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_COL
		}
	}

	#VEN
	GCL_integrate_VEN = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = VEN } }
		visible = {
			NOT = { has_country_flag = integrated_VEN }
			OR = {
				VEN = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 874
					owns_state = 875
					owns_state = 876
					owns_state = 915
					owns_state = 916
					owns_state = 917
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GCL_integrate_VEN"
			add_state_core = 874
			add_state_core = 875
			add_state_core = 876
			add_state_core = 915
			add_state_core = 916
			add_state_core = 917
			annex_country = {
				target = VEN
				transfer_troops = yes
			}

			if = {
				limit = { NOT = { has_country_flag = is_GCL } }
				set_country_flag = is_GCL
				set_global_flag = GCL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_VEN
		}
	}

	#ECU
	GCL_integrate_ECU = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ECU } }
		visible = {
			NOT = { has_country_flag = integrated_ECU }
			OR = {
				ECU = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 905
					owns_state = 906
					owns_state = 907
					owns_state = 908
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GCL_integrate_ECU"
			every_state = {
				limit = { is_ecuador_state = yes }
				add_core_of = ROOT
			}
			add_state_core = 908
			if = {
				limit = { country_exists = ECU }
				annex_country = {
					target = ECU
					transfer_troops = yes
				}
			}
			if = {
				limit = { NOT = { has_country_flag = is_GCL } }
				set_country_flag = is_GCL
				set_global_flag = GCL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_ECU
		}
	}

	### Cosmetic ###
	GCL_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_GCL
			NOT = {
				AND = {
					has_cosmetic_tag = GCL
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = GCL_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = GCL_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = GCL_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GCL_update_flag"
			#GCL
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = GCL
			}
			#GCL_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = GCL_AUTH
			}
			#GCL_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = GCL_AUTH_S
			}
			#GCL_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = GCL_AUTH_SS
			}
		}
	}
}

#Scandinavia
form_SCA_category = {
	### Integrate ###
	# Start integrate
	SCA_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_SCA }
		}
		available = {
			SWE = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			NOR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			DEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			FIN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_SCA } }
				set_country_flag = is_SCA
				set_global_flag = SCA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = SCA_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#SWE
	SCA_integrate_SWE = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SWE } }
		visible = {
			has_country_flag = is_SCA
			NOT = { has_country_flag = integrated_SWE }
		}
		available = {
			OR = {
				SWE = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 33
					owns_state = 34
					owns_state = 35
					owns_state = 36
					owns_state = 439
					owns_state = 442
					owns_state = 550
					owns_state = 881
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							SWE = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@SWE > 50
					}
					check_variable = {
						core_resistance@SWE < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_integrate_SWE"
			every_state = {
				limit = { is_sweden_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = SWE }
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SWE
		}
	}

	#NOR
	SCA_integrate_NOR = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = NOR } }
		visible = {
			has_country_flag = is_SCA
			NOT = { has_country_flag = integrated_NOR }
		}
		available = {
			NOR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							NOR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@NOR > 50
					}
					check_variable = {
						core_resistance@NOR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_integrate_NOR"
			every_state = {
				limit = { is_norway_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = NOR }
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NOR
		}
	}

	#DEN
	SCA_integrate_DEN = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = DEN } }
		visible = {
			has_country_flag = is_SCA
			NOT = { has_country_flag = integrated_DEN }
		}
		available = {
			DEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							DEN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@DEN > 50
					}
					check_variable = {
						core_resistance@DEN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_integrate_DEN"
			add_state_core = 2
			add_state_core = 3
			add_state_core = 4
			add_state_core = 5
			add_state_core = 6
			if = {
				limit = { country_exists = DEN }
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_DEN
		}
	}

	#FIN
	SCA_integrate_FIN = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = FIN } }
		visible = {
			has_country_flag = is_SCA
			NOT = { has_country_flag = integrated_FIN }
		}
		available = {
			FIN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							FIN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@FIN > 50
					}
					check_variable = {
						core_resistance@FIN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_integrate_FIN"
			every_state = {
				limit = { is_finland_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = FIN }
				annex_country = {
					target = FIN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_FIN
		}
	}

	### Cosmetic ###
	SCA_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_SCA
			has_country_flag = integrated_SWE
			has_country_flag = integrated_NOR
			has_country_flag = integrated_DEN
			has_country_flag = integrated_FIN
			NOT = {
				has_country_flag = is_NORD
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = SCA
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = SCA_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = SCA_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = SCA_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SCA_update_flag"
			#SCA
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = SCA
			}
			#SCA_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = SCA_AUTH
			}
			#SCA_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = SCA_AUTH_S
			}
			#SCA_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = SCA_AUTH_SS
			}
		}
	}
}

#Iberia
form_IBR_category = {
	### Integrate ###
	#SPR
	IBR_integrate_SPR = {
		icon = GFX_decision_generic_form_nation
		cost = 550
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SPR } }
		visible = {
			NOT = { has_country_flag = integrated_SPR }
			OR = {
				SPR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 91
					owns_state = 970
					owns_state = 87
					owns_state = 92
					owns_state = 969
					owns_state = 93
					owns_state = 94
					owns_state = 968
					owns_state = 971
					owns_state = 89
					owns_state = 90
					owns_state = 1040
					owns_state = 1041
					owns_state = 1042
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision IBR_integrate_SPR"
			add_state_core = 91
			add_state_core = 970
			add_state_core = 87
			add_state_core = 92
			add_state_core = 969
			add_state_core = 93
			add_state_core = 94
			add_state_core = 968
			add_state_core = 971
			add_state_core = 89
			add_state_core = 90
			add_state_core = 1040
			add_state_core = 1041
			add_state_core = 1042
			if = {
				limit = { owns_state = 86 }
				add_state_core = 86
			}
			if = {
				limit = { owns_state = 88 }
				add_state_core = 88
			}
			if = {
				limit = { owns_state = 944 }
				add_state_core = 944
			}
			if = {
				limit = { owns_state = 86 }
				add_state_core = 86
			}
			if = {
				limit = { owns_state = 95 }
				add_state_core = 95
			}
			if = {
				limit = { owns_state = 495 }
				add_state_core = 495
			}
			if = {
				limit = { owns_state = 632 }
				add_state_core = 632
			}
			if = {
				limit = { country_exists = SPR }
				annex_country = {
					target = SPR
					transfer_troops = yes
				}
			}
			if = {
				limit = { NOT = { has_country_flag = is_IBR } }
				set_country_flag = is_IBR
				set_global_flag = IBR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_SPR
		}
	}
	#POR
	IBR_integrate_POR = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = POR } }
		visible = {
			NOT = { has_country_flag = integrated_POR }
			OR = {
				POR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 96
					owns_state = 97
					owns_state = 1055
					owns_state = 1056
					owns_state = 1057
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision IBR_integrate_POR"
			add_state_core = 96
			add_state_core = 97
			add_state_core = 98
			add_state_core = 99
			add_state_core = 1055
			add_state_core = 1056
			add_state_core = 1057
			if = {
				limit = { country_exists = POR }
				annex_country = {
					target = POR
					transfer_troops = yes
				}
			}
			if = {
				limit = { NOT = { has_country_flag = is_IBR } }
				set_country_flag = is_IBR
				set_global_flag = IBR_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_POR
		}
	}

	### Cosmetic ###
	IBR_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_IBR
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = IBR
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = IBR_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = IBR_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = IBR_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision IBR_update_flag"
			#IBR
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = IBR
			}
			#IBR_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = IBR_AUTH
			}
			#IBR_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = IBR_AUTH_S
			}
			#IBR_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = IBR_AUTH_SS
			}
		}
	}
}

#Europe Federation
EFS_flag_category = {
	EFS_flag_change = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = { NOT = { has_country_flag = EFS_flag_change } }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EFS_flag_change"
			if = {
				limit = { tag = ALB }
				set_cosmetic_tag = EFS_ALB
			}
			else_if = {
				limit = { tag = ARM }
				set_cosmetic_tag = EFS_ARM
			}
			else_if = {
				limit = { tag = AUS }
				set_cosmetic_tag = EFS_AUS
			}
			else_if = {
				limit = { tag = AZE }
				set_cosmetic_tag = EFS_AZE
			}
			else_if = {
				limit = { tag = BEL }
				set_cosmetic_tag = EFS_BEL
			}
			else_if = {
				limit = { tag = BLR }
				set_cosmetic_tag = EFS_BLR
			}
			else_if = {
				limit = { tag = BOS }
				set_cosmetic_tag = EFS_BOS
			}
			else_if = {
				limit = { tag = BUL }
				set_cosmetic_tag = EFS_BUL
			}
			else_if = {
				limit = { tag = CAT }
				if = {
					limit = { has_country_flag = is_IBR }
					set_cosmetic_tag = EFS_IBR
				}
				else = {
					set_cosmetic_tag = EFS_CAT
				}
			}
			else_if = {
				limit = { tag = CRE }
				set_cosmetic_tag = EFS_CRE
			}
			else_if = {
				limit = { tag = CRO }
				set_cosmetic_tag = EFS_CRO
			}
			else_if = {
				limit = { tag = CYP }
				set_cosmetic_tag = EFS_CYP
			}
			else_if = {
				limit = { tag = CZE }
				set_cosmetic_tag = EFS_CZE
			}
			else_if = {
				limit = { tag = DEN }
				if = {
					limit = { has_country_flag = is_SCA }
					set_cosmetic_tag = EFS_SCA
				}
				else = {
					set_cosmetic_tag = EFS_DEN
				}
			}
			else_if = {
				limit = { tag = ENG }
				if = {
					limit = { has_cosmetic_tag = ENG_England }
					set_cosmetic_tag = EFS_ENG_england
				}
				else_if = {
					limit = { has_cosmetic_tag = ENG_britain }
					set_cosmetic_tag = EFS_ENG_britain
				}
				else = {
					set_cosmetic_tag = EFS_ENG
				}
			}
			else_if = {
				limit = { tag = EST }
				if = {
					limit = { has_country_flag = is_BLT }
					set_cosmetic_tag = EFS_BLT
				}
				else = {
					set_cosmetic_tag = EFS_EST
				}
			}
			else_if = {
				limit = { tag = FIN }
				if = {
					limit = { has_country_flag = is_SCA }
					set_cosmetic_tag = EFS_SCA
				}
				else = {
					set_cosmetic_tag = EFS_FIN
				}
			}
			else_if = {
				limit = { tag = FRA }
				set_cosmetic_tag = EFS_FRA
			}
			else_if = {
				limit = { tag = FYR }
				set_cosmetic_tag = EFS_FYR
			}
			else_if = {
				limit = { tag = GEO }
				set_cosmetic_tag = EFS_GEO
			}
			else_if = {
				limit = { tag = GER }
				set_cosmetic_tag = EFS_GER
			}
			else_if = {
				limit = { tag = GRE }
				set_cosmetic_tag = EFS_GRE
			}
			else_if = {
				limit = { tag = HOL }
				set_cosmetic_tag = EFS_HOL
			}
			else_if = {
				limit = { tag = HUN }
				set_cosmetic_tag = EFS_HUN
			}
			else_if = {
				limit = { tag = ICE }
				if = {
					limit = { has_country_flag = is_SCA }
					set_cosmetic_tag = EFS_SCA
				}
				else = {
					set_cosmetic_tag = EFS_ICE
				}
			}
			else_if = {
				limit = { tag = IRE }
				set_cosmetic_tag = EFS_IRE
			}
			else_if = {
				limit = { tag = ITA }
				set_cosmetic_tag = EFS_ITA
			}
			else_if = {
				limit = { tag = KOS }
				set_cosmetic_tag = EFS_KOS
			}
			else_if = {
				limit = { tag = LAT }
				if = {
					limit = { has_country_flag = is_BLT }
					set_cosmetic_tag = EFS_BLT
				}
				else = {
					set_cosmetic_tag = EFS_LAT
				}
			}
			else_if = {
				limit = { tag = LIT }
				if = {
					limit = { has_country_flag = is_BLT }
					set_cosmetic_tag = EFS_BLT
				}
				else = {
					set_cosmetic_tag = EFS_LIT
				}
			}
			else_if = {
				limit = { tag = LUX }
				set_cosmetic_tag = EFS_LUX
			}
			else_if = {
				limit = { tag = MLT }
				set_cosmetic_tag = EFS_MLT
			}
			else_if = {
				limit = { tag = MLV }
				set_cosmetic_tag = EFS_MLV
			}
			else_if = {
				limit = { tag = MNT }
				set_cosmetic_tag = EFS_MNT
			}
			else_if = {
				limit = { tag = NOR }
				if = {
 					limit = { has_country_flag = is_SCA }
					set_cosmetic_tag = EFS_SCA
				}
				else = {
					set_cosmetic_tag = EFS_NOR
				}
			}
			else_if = {
				limit = { tag = POL }
				set_cosmetic_tag = EFS_POL
			}
			else_if = {
				limit = { tag = POR }
				if = {
					limit = { has_country_flag = is_IBR }
					set_cosmetic_tag = EFS_IBR
				}
				else = {
					set_cosmetic_tag = EFS_POR
				}
			}
			else_if = {
				limit = { tag = ROM }
				set_cosmetic_tag = EFS_ROM
			}
			else_if = {
				limit = { tag = SCL }
				set_cosmetic_tag = EFS_PAD
			}
			else_if = {
				limit = { tag = SCO }
				set_cosmetic_tag = EFS_SCO
			}
			else_if = {
				limit = { tag = SER }
				set_cosmetic_tag = EFS_SER
			}
			else_if = {
				limit = { tag = SLO }
				set_cosmetic_tag = EFS_SLO
			}
			else_if = {
				limit = { tag = SLV }
				set_cosmetic_tag = EFS_SLV
			}
			else_if = {
				limit = { tag = SPR }
				if = {
					limit = { has_country_flag = is_IBR }
					set_cosmetic_tag = EFS_IBR
				}
				else = {
					set_cosmetic_tag = EFS_SPR
				}
			}
			else_if = {
				limit = { tag = SWE }
				if = {
					limit = { has_country_flag = is_SCA }
					set_cosmetic_tag = EFS_SCA
				}
				else = {
					set_cosmetic_tag = EFS_SWE
				}
			}
			else_if = {
				limit = { tag = SWI }
				set_cosmetic_tag = EFS_SWI
			}
			else_if = {
				limit = { tag = TUR }
				set_cosmetic_tag = EFS_TUR
			}
			else_if = {
				limit = { tag = UKR }
				set_cosmetic_tag = EFS_UKR
			}
			else = {
				set_cosmetic_tag = EFS_WAL
			}

			set_country_flag = EFS_flag_change
			custom_effect_tooltip = tooltip_change_flag
		}
	}
}

USoE_Flag_Reset_Flag_category = {
	USoE_reset_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 0 }
		allowed = { }
		visible = { NOT = { has_cosmetic_tag = USoE } }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USoE_reset_flag"
			set_cosmetic_tag = USoE
			custom_effect_tooltip = tooltip_change_flag
		}
	}

	USoE_AI_reset_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		allowed = { }
		visible = {
			is_ai = yes
			OR = {
				AND = {
					has_cosmetic_tag = USoE_com
					NOT = {
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}

				AND = {
					OR = {
						has_cosmetic_tag = USoE_air
						has_cosmetic_tag = USoE_army
						has_cosmetic_tag = USoE_navy
					}
					NOT = { is_in_array = { array = ruling_party  value = 22 } }
				}

				AND = {
					OR = {
						has_cosmetic_tag = USoE_BOR
						has_cosmetic_tag = USoE_BOR_ANJ
						has_cosmetic_tag = USoE_GLU
						has_cosmetic_tag = USoE_HAB
						has_cosmetic_tag = USoE_HAN
						has_cosmetic_tag = USoE_HOH
						has_cosmetic_tag = USoE_NAP
						has_cosmetic_tag = USoE_ORA
						has_cosmetic_tag = USoE_SAV
						has_cosmetic_tag = USoE_WIN
						has_cosmetic_tag = USoE_WIT
					}
					NOT = { is_in_array = { array = ruling_party  value = 23 } }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USoE_AI_reset_flag"
			set_cosmetic_tag = USoE
			custom_effect_tooltip = tooltip_change_flag
		}
	}
}

form_ANZ_category = {
	### Integrate (ANZ) ###
	#AST
	ANZ_integrate_AST = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = AST } }
		visible = {
			NOT = { has_country_flag = integrated_AST }
		}
		available = {
			OR = {
				AST = {
					is_subject_of = ROOT
					has_war = no
				}
				is_australia_state_owned = yes
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							AST = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@AST > 50
					}
					check_variable = {
						core_resistance@AST < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANZ_integrate_AST"
			every_state = {
				limit = { is_australia_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = AST }
				annex_country = {
					target = AST
					transfer_troops = yes
				}
			}
			if = { limit = { NOT = { has_country_flag = integrated_@ROOT } } set_country_flag = integrated_@ROOT }
			if = {
				limit = { NOT = { has_country_flag = is_ANZ } }
				set_country_flag = is_ANZ
				set_global_flag = ANZ_exists
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_AST
		}
	}
	#NZL
	ANZ_integrate_NZL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = NZL } }
		visible = {
			NOT = { has_country_flag = integrated_NZL }
		}
		available = {
			OR = {
				NZL = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 750
					owns_state = 751
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							NZL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@NZL > 50
					}
					check_variable = {
						core_resistance@NZL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANZ_integrate_NZL"
			add_state_core = 750
			add_state_core = 751
			if = {
				limit = { country_exists = NZL }
				annex_country = {
					target = NZL
					transfer_troops = yes
				}
			}
			if = { limit = { NOT = { has_country_flag = integrated_@ROOT } } set_country_flag = integrated_@ROOT }
			if = {
				limit = { NOT = { has_country_flag = is_ANZ } }
				set_country_flag = is_ANZ
				set_global_flag = ANZ_exists
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NZL
		}
	}
	### Cosmetic ###
	ANZ_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_ANZ
			has_country_flag = integrated_AST
			has_country_flag = integrated_NZL
			NOT = {
				AND = {
					has_cosmetic_tag = ANZ
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = ANZ_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = ANZ_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = ANZ_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANZ_update_flag"
			#ANZ
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = ANZ
			}
			#ANZ_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = ANZ_AUTH
			}
			#ANZ_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = ANZ_AUTH_S
			}
			#ANZ_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = ANZ_AUTH_SS
			}
		}
	}
}

form_SOU_category = {
	### Integrate (SOU) ###
	# Start integrate
	SOU_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_SOU }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = SOU_integrate_trigger_tt
				BRA = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				PAR = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				BOL = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				PRU = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				ECU = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					SUR = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 878
						owns_state = 1006
					}
				}
				OR = {
					GUY = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 877
						owns_state = 1005
					}
				}
				VEN = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				COL = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				CHL = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					URG = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 893
						owns_state = 894
					}
				}
				ARG = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					TRI = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 869
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_SOU } }
				set_country_flag = is_SOU
				set_global_flag = SOU_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = SOU_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#BRA
	SOU_integrate_BRA = {
		icon = GFX_decision_generic_form_nation
		cost = 800
		days_remove = 500
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BRA } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_BRA }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = BRA_integrate_trigger_tt
				BRA = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BRA = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BRA > 50
					}
					check_variable = {
						core_resistance@BRA < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_BRA"
			hidden_effect = {
				every_state = {
					limit = { is_brazil_state = yes }
					add_core_of = ROOT
				}
				if = {
					limit = { country_exists = BRA }
					annex_country = {
						target = BRA
						transfer_troops = yes
					}
				}
			}
			custom_effect_tooltip = BRA_integrate_tt
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BRA
		}
	}
	#PAR
	SOU_integrate_PAR = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PAR } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_PAR }
		}
		available = {
			OR = {
				PAR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 895
					owns_state = 896
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PAR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PAR > 50
					}
					check_variable = {
						core_resistance@PAR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_PAR"
			add_state_core = 895
			add_state_core = 896
			if = {
				limit = { country_exists = PAR }
				annex_country = {
					target = PAR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PAR
		}
	}
	#BOL
	SOU_integrate_BOL = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BOL } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_BOL }
		}
		available = {
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BOL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BOL > 50
					}
					check_variable = {
						core_resistance@BOL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_BOL"
			every_state = {
				limit = { is_bolivia_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = BOL }
				annex_country = {
					target = BOL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BOL
		}
	}
	#PRU
	SOU_integrate_PRU = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PRU } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_PRU }
		}
		available = {
			PRU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PRU = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PRU > 50
					}
					check_variable = {
						core_resistance@PRU < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_PRU"
			every_state = {
				limit = { is_peru_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = PRU }
				annex_country = {
					target = PRU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PRU
		}
	}
	#ECU
	SOU_integrate_ECU = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ECU } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_ECU }
		}
		available = {
			ECU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							ECU = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ECU > 50
					}
					check_variable = {
						core_resistance@ECU < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_ECU"
			every_state = {
				limit = { is_ecuador_state = yes }
				add_core_of = ROOT
			}
			add_state_core = 908
			if = {
				limit = { country_exists = ECU }
				annex_country = {
					target = ECU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ECU
		}
	}
	#SUR
	SOU_integrate_SUR = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SUR } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_SUR }
		}
		available = {
			OR = {
				SUR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 878
					owns_state = 1006
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							SUR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@SUR > 50
					}
					check_variable = {
						core_resistance@SUR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_SUR"
			add_state_core = 878
			add_state_core = 1006
			if = {
				limit = { country_exists = SUR }
				annex_country = {
					target = SUR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SUR
		}
	}
	#GUY
	SOU_integrate_GUY = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = GUY } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_GUY }
		}
		available = {
			OR = {
				GUY = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 877
					owns_state = 1005
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							GUY = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@GUY > 50
					}
					check_variable = {
						core_resistance@GUY < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_GUY"
			add_state_core = 877
			add_state_core = 1005
			if = {
				limit = { country_exists = GUY }
				annex_country = {
					target = GUY
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_GUY
		}
	}
	#VEN
	SOU_integrate_VEN = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = VEN } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_VEN }
		}
		available = {
			VEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							VEN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@VEN > 50
					}
					check_variable = {
						core_resistance@VEN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_VEN"
			every_state = {
				limit = { is_venezuela_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = VEN }
				annex_country = {
					target = VEN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_VEN
		}
	}
	#COL
	SOU_integrate_COL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = COL } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_COL }
		}
		available = {
			OR = {
				COL = {
					is_subject_of = ROOT
					has_war = no
				}
				is_colombia_state_owned = yes
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							COL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@COL > 50
					}
					check_variable = {
						core_resistance@COL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_COL"
			every_state = {
				limit = { is_colombia_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = COL }
				annex_country = {
					target = COL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_COL
		}
	}
	#CHL
	SOU_integrate_CHL = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CHL } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_CHL }
		}
		available = {
			CHL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CHL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CHL > 50
					}
					check_variable = {
						core_resistance@CHL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_CHL"
			every_state = {
				limit = { is_chile_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = CHL }
				annex_country = {
					target = CHL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CHL
		}
	}
	#URG
	SOU_integrate_URG = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = URG } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_URG }
		}
		available = {
			OR = {
				URG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 893
					owns_state = 894
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							URG = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@URG > 50
					}
					check_variable = {
						core_resistance@URG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_URG"
			add_state_core = 893
			add_state_core = 894
			if = {
				limit = { country_exists = URG }
				annex_country = {
					target = URG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_URG
		}
	}
	#ARG
	SOU_integrate_ARG = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ARG } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_ARG }
		}
		available = {
			ARG = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							ARG = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ARG > 50
					}
					check_variable = {
						core_resistance@ARG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_ARG"
			every_state = {
				limit = { is_argentina_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = ARG }
				annex_country = {
					target = ARG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ARG
		}
	}
	#TRI
	SOU_integrate_TRI = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = TRI } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_TRI }
		}
		available = {
			OR = {
				TRI = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 869
				}
 				owns_state = 869
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 869
						}
					}
				}
				869 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_TRI"
			add_state_core = 869
			if = {
				limit = { country_exists = TRI }
				annex_country = {
					target = TRI
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TRI
		}
	}
	#FGU
	SOU_integrate_FGU = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { OR = { tag = FRA  tag = FGU } } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_FGU }
		}
		available = {
			OR = {
				if = {
					limit = { country_exists = FGU }
					FGU = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 67
					}
				}
				owns_state = 67
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 67
						}
					}
				}
				67 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_FGU"
			add_state_core = 67
			if = {
				limit = { country_exists = FGU }
				annex_country = {
					target = FGU
					transfer_troops = yes
				}
			}
			if = {
				limit = {
					FRA = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 67
					}
				}
				ROOT = { transfer_state = 67 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_FGU
		}
	}
	#Curacao
	SOU_integrate_Curacao = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = HOL } }
		visible = {
			has_country_flag = is_SOU
			NOT = { has_country_flag = integrated_Curacao }
		}
		available = {
			OR = {
				HOL = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 49
				}
				owns_state = 49
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 49
						}
					}
				}
				49 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_integrate_Curacao"
			add_state_core = 49
			if = {
				limit = {
					HOL = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 49
					}
				}
				ROOT = { transfer_state = 49 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_Curacao
		}
	}
	### Cosmetic ###
	SOU_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_SOU
			has_country_flag = integrated_BRA
			has_country_flag = integrated_PAR
			has_country_flag = integrated_BOL
			has_country_flag = integrated_PRU
			has_country_flag = integrated_ECU
			has_country_flag = integrated_SUR
			has_country_flag = integrated_GUY
			has_country_flag = integrated_VEN
			has_country_flag = integrated_COL
			has_country_flag = integrated_CHL
			has_country_flag = integrated_URG
			has_country_flag = integrated_ARG
			has_country_flag = integrated_TRI
			NOT = {
				OR = {
					has_cosmetic_tag = SOU
					has_cosmetic_tag = SOU1
					has_cosmetic_tag = SOU2
					has_cosmetic_tag = SOU3
					has_cosmetic_tag = SOU4
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOU_update_flag"
			#SOU
			if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 1 }
						is_in_array = { array = ruling_party  value = 2 }
						is_in_array = { array = ruling_party  value = 3 }
						is_in_array = { array = ruling_party  value = 6 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 14 }
						is_in_array = { array = ruling_party  value = 15 }
						is_in_array = { array = ruling_party  value = 16 }
						is_in_array = { array = ruling_party  value = 17 }
						is_in_array = { array = ruling_party  value = 18 }
					}
				}
				set_cosmetic_tag = SOU
			}
			#SOU1
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 5 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = SOU1
			}
			#SOU2
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = SOU2
			}
			#SOU3
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 20 }
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = SOU3
			}
			#SOU4
			else_if = {
				limit = {
					is_in_array = { array = ruling_party  value = 23 }
				}
				set_cosmetic_tag = SOU4
			}
		}
	}
}

form_HBL_category = {
	### Integrate (HBL) ###
	# Start integrate
	HBL_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_HBL }
		}
		available = {
			BEL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			LUX = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			HOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision HBL_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_HBL } }
				set_country_flag = is_HBL
				set_global_flag = HBL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = HBL_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#BEL
	HBL_integrate_BEL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BEL } }
		visible = {
			has_country_flag = is_HBL
			NOT = { has_country_flag = integrated_BEL }
		}
		available = {
			BEL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BEL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BEL > 50
					}
					check_variable = {
						core_resistance@BEL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision HBL_integrate_BEL"
			add_state_core = 50
			add_state_core = 51
			add_state_core = 52
			add_state_core = 965
			if = {
				limit = { country_exists = BEL }
				annex_country = {
					target = BEL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BEL
		}
	}
	#LUX
	HBL_integrate_LUX = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = LUX } }
		visible = {
			has_country_flag = is_HBL
			NOT = { has_country_flag = integrated_LUX }
		}
		available = {
			OR = {
				LUX = {
					is_subject_of = ROOT
					has_war = no
				}
 				owns_state = 53
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							LUX = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@LUX > 50
					}
					check_variable = {
						core_resistance@LUX < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision HBL_integrate_LUX"
			add_state_core = 53
			if = {
				limit = { country_exists = LUX }
				annex_country = {
					target = LUX
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_LUX
		}
	}
	#HOL
	HBL_integrate_HOL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = HOL } }
		visible = {
			has_country_flag = is_HBL
			NOT = { has_country_flag = integrated_HOL }
		}
		available = {
			OR = {
				HOL = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 46
					owns_state = 47
					owns_state = 48
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							HOL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@HOL > 50
					}
					check_variable = {
						core_resistance@HOL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision HBL_integrate_HOL"
			add_state_core = 46
			add_state_core = 47
			add_state_core = 48
			if = {
				limit = { country_exists = HOL }
				annex_country = {
					target = HOL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_HOL
		}
	}
	### Cosmetic ###
	HBL_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_HBL
			has_country_flag = integrated_BEL
			has_country_flag = integrated_LUX
			has_country_flag = integrated_HOL
			NOT = {
				AND = {
					has_cosmetic_tag = HBL
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = HBL_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = HBL_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = HBL_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision HBL_update_flag"
			#HBL
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = HBL
			}
			#HBL_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = HBL_AUTH
			}
			#HBL_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = HBL_AUTH_S
			}
			#HBL_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = HBL_AUTH_SS
			}
		}
	}
}

form_USNA_category = {
	### Integrate (USNA) ###
	# Start integrate
	USNA_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_USNA }
		}
		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = USA_integrate_trigger_tt
				OR = {
					USA = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 764
						owns_state = 765
						owns_state = 766
						owns_state = 767
						owns_state = 768
						owns_state = 769
						owns_state = 770
						owns_state = 771
						owns_state = 772
						owns_state = 773
						owns_state = 774
						owns_state = 775
						owns_state = 776
						owns_state = 777
						owns_state = 778
						owns_state = 779
						owns_state = 780
						owns_state = 781
						owns_state = 782
						owns_state = 783
						owns_state = 784
						owns_state = 785
						owns_state = 786
						owns_state = 787
						owns_state = 788
						owns_state = 789
						owns_state = 790
						owns_state = 791
						owns_state = 792
						owns_state = 793
						owns_state = 794
						owns_state = 795
						owns_state = 796
						owns_state = 797
						owns_state = 798
						owns_state = 799
						owns_state = 800
						owns_state = 803
						owns_state = 804
						owns_state = 805
						owns_state = 806
						owns_state = 807
						owns_state = 808
						owns_state = 809
						owns_state = 810
						owns_state = 811
					}
				}
			}
			MEX = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USNA_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_USNA } }
				set_country_flag = is_USNA
				set_global_flag = USNA_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = USNA_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#CAN
	USNA_integrate_CAN = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CAN } }
		visible = {
			has_country_flag = is_USNA
			NOT = { has_country_flag = integrated_CAN }
		}
		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CAN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CAN > 50
					}
					check_variable = {
						core_resistance@CAN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USNA_integrate_CAN"
			every_state = {
				limit = { is_canada_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = CAN }
				annex_country = {
					target = CAN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CAN
		}
	}
	#USA
	USNA_integrate_USA = {
		icon = GFX_decision_generic_form_nation
		cost = 1000
		days_remove = 730
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = USA } }
		visible = {
			has_country_flag = is_USNA
			NOT = { has_country_flag = integrated_USA }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = USA_integrate_trigger_tt
				OR = {
					USA = {
						is_subject_of = ROOT
						has_war = no
					}
					is_usa_state_mainland_owned = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							is_usa_state_mainland_owned = yes
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@USA > 50
					}
					check_variable = {
						core_resistance@USA < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USNA_integrate_USA"
			hidden_effect = {
				add_state_core = 764
				add_state_core = 765
				add_state_core = 766
				add_state_core = 767
				add_state_core = 768
				add_state_core = 769
				add_state_core = 770
				add_state_core = 771
				add_state_core = 772
				add_state_core = 773
				add_state_core = 774
				add_state_core = 775
				add_state_core = 776
				add_state_core = 777
				add_state_core = 778
				add_state_core = 779
				add_state_core = 780
				add_state_core = 781
				add_state_core = 782
				add_state_core = 783
				add_state_core = 784
				add_state_core = 785
				add_state_core = 786
				add_state_core = 787
				add_state_core = 788
				add_state_core = 789
				add_state_core = 790
				add_state_core = 791
				add_state_core = 792
				add_state_core = 793
				add_state_core = 794
				add_state_core = 795
				add_state_core = 796
				add_state_core = 797
				add_state_core = 798
				add_state_core = 799
				add_state_core = 800
				add_state_core = 803
				add_state_core = 804
				add_state_core = 805
				add_state_core = 806
				add_state_core = 807
				add_state_core = 808
				add_state_core = 809
				add_state_core = 810
				add_state_core = 811
				if = {
					limit = {
						country_exists = USA
						USA = {
							is_subject_of = ROOT
							has_war = no
						}
					}
					annex_country = {
						target = USA
						transfer_troops = yes
					}
				}
			}
			custom_effect_tooltip = USA_integrate_tt
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_USA
		}
	}
	#MEX
	USNA_integrate_MEX = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = MEX } }
		visible = {
			has_country_flag = is_USNA
			NOT = { has_country_flag = integrated_MEX }
		}
		available = {
			MEX = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							MEX = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@MEX > 50
					}
					check_variable = {
						core_resistance@MEX < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USNA_integrate_MEX"
			every_state = {
				limit = { is_mexico_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = MEX }
				annex_country = {
					target = MEX
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_MEX
		}
	}
	### Cosmetic ###
	USNA_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_USNA
			has_country_flag = integrated_CAN
			has_country_flag = integrated_USA
			has_country_flag = integrated_MEX
			NOT = {
				OR = {
					has_cosmetic_tag = USNA
					has_cosmetic_tag = USNA1
					has_cosmetic_tag = USNA2
					has_cosmetic_tag = USNA3
					has_cosmetic_tag = USNA4
					has_cosmetic_tag = USNA5
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision USNA_update_flag"
			#USNA
			if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 1 }
						is_in_array = { array = ruling_party  value = 2 }
						is_in_array = { array = ruling_party  value = 3 }
						is_in_array = { array = ruling_party  value = 6 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 14 }
						is_in_array = { array = ruling_party  value = 15 }
						is_in_array = { array = ruling_party  value = 17 }
						is_in_array = { array = ruling_party  value = 18 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = USNA
			}
			#USNA1
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 5 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = USNA1
			}
			#USNA2
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = USNA2
			}
			#USNA3
			else_if = {
				limit = {
					is_in_array = { array = ruling_party  value = 16 }
				}
				set_cosmetic_tag = USNA3
			}
			#USNA4
			else_if = {
				limit = {
					OR = {
						is_in_array = { array = ruling_party  value = 20 }
						is_in_array = { array = ruling_party  value = 21 }
					}
				}
				set_cosmetic_tag = USNA4
			}
			#USNA5
			else_if = {
				limit = {
					is_in_array = { array = ruling_party  value = 23 }
				}
				set_cosmetic_tag = USNA5
			}
		}
	}
}

form_UTS_category = {
	### Integrate (UTS) ###
	# Start integrate
	UTS_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_UTS }
		}
		available = {
			KAZ = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			UZB = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			TRK = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			KYR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_UTS } }
				set_country_flag = is_UTS
				set_global_flag = UTS_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = UTS_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#KAZ
	UTS_integrate_KAZ = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = KAZ } }
		visible = {
			has_country_flag = is_UTS
			NOT = { has_country_flag = integrated_KAZ }
		}
		available = {
			KAZ = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							KAZ = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@KAZ > 50
					}
					check_variable = {
						core_resistance@KAZ < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_KAZ"
			add_state_core = 714
			add_state_core = 715
			add_state_core = 716
			add_state_core = 717
			add_state_core = 718
			add_state_core = 719
			if = {
				limit = { country_exists = KAZ }
				annex_country = {
					target = KAZ
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_KAZ
		}
	}
	#UZB
	UTS_integrate_UZB = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = UZB } }
		visible = {
			has_country_flag = is_UTS
			NOT = { has_country_flag = integrated_UZ }
		}
		available = {
			UZB = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							UZB = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@UZB > 50
					}
					check_variable = {
						core_resistance@UZB < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_UZB"
			add_state_core = 725
			add_state_core = 726
			add_state_core = 727
			if = {
				limit = { country_exists = UZB }
				annex_country = {
					target = UZB
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_UZB
		}
	}
	#TRK
	UTS_integrate_TRK = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = TRK } }
		visible = {
			has_country_flag = is_UTS
			NOT = { has_country_flag = integrated_TRK }
		}
		available = {
			TRK = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							TRK = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@TRK > 50
					}
					check_variable = {
						core_resistance@TRK < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_TRK"
			add_state_core = 728
			add_state_core = 729
			if = {
				limit = { country_exists = TRK }
				annex_country = {
					target = TRK
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TRK
		}
	}
	#KYR
	UTS_integrate_KYR = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = KYR } }
		visible = {
			has_country_flag = is_UTS
			NOT = { has_country_flag = integrated_KYR }
		}
		available = {
			KYR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							KYR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@KYR > 50
					}
					check_variable = {
						core_resistance@KYR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_KYR"
			add_state_core = 720
			add_state_core = 721
			if = {
				limit = { country_exists = KYR }
				annex_country = {
					target = KYR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_KYR
		}
	}
	UTS_integrate_TUR = {
		icon = GFX_decision_generic_form_nation
		cost = 600
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = TUR } }
		visible = {
			has_country_flag = is_UTS
			NOT = { has_country_flag = integrated_KYR }
		}
		available = {
			TUR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							TUR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@TUR > 50
					}
					check_variable = {
						core_resistance@TUR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_integrate_TUR"
			add_state_core = 934
			add_state_core = 155
			add_state_core = 156
			add_state_core = 157
			add_state_core = 159
			add_state_core = 160
			add_state_core = 161
			add_state_core = 1032
			add_state_core = 992
			add_state_core = 162
			add_state_core = 163
			add_state_core = 935
			if = {
				limit = { country_exists = TUR }
				annex_country = {
					target = TUR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TUR
		}
	}
	### Cosmetic ###
	UTS_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_UTS
			has_country_flag = integrated_KAZ
			has_country_flag = integrated_UZB
			has_country_flag = integrated_TRK
			has_country_flag = integrated_TAJ
			has_country_flag = integrated_KYR
			NOT = {
				AND = {
					has_cosmetic_tag = UTS
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = UTS_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = UTS_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
 					has_cosmetic_tag = UTS_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision UTS_update_flag"
			#UTS
			if = {
				limit = { has_elections = yes }
 				set_cosmetic_tag = UTS
			}
			#UTS_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = UTS_AUTH
			}
			#UTS_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = UTS_AUTH_S
			}
			#UTS_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = UTS_AUTH_SS
			}
		}
	}
}

form_MAPHI_category = {
	### Integrate (MAPHI) ###
	# Start integrate
	MAPHI_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_MAPHI }
		}
		available = {
			IND = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				ACE = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 622
				}
			}
			MAY = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				BRU = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 752
			}
			OR = {
				SIN = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 530
			}
			PHI = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_MAPHI } }
				set_country_flag = is_MAPHI
				set_global_flag = MAPHI_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			custom_effect_tooltip = MAPHI_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#IND
	MAPHI_integrate_IND = {
		icon = GFX_decision_generic_form_nation
		cost = 750
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = IND } }
		visible = {
			has_country_flag = is_MAPHI
			NOT = { has_country_flag = integrated_IND }
		}
		available = {
			IND = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							IND = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@IND > 50
					}
					check_variable = {
						core_resistance@IND < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_IND"
			add_state_core = 622
			add_state_core = 623
			add_state_core = 627
			add_state_core = 629
			add_state_core = 631
			add_state_core = 634
			add_state_core = 635
			add_state_core = 636
			add_state_core = 638
			add_state_core = 639
			add_state_core = 734
			add_state_core = 936
			add_state_core = 1113
			add_state_core = 1114
			if = {
				limit = { country_exists = IND }
				annex_country = {
					target = IND
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_IND
		}
	}
	#PHI
	MAPHI_integrate_PHI = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PHI } }
		visible = {
			has_country_flag = is_MAPHI
			NOT = { has_country_flag = integrated_PHI }
		}
		available = {
			PHI = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PHI = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PHI > 50
					}
					check_variable = {
						core_resistance@PHI < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_PHI"
			add_state_core = 735
			add_state_core = 736
			add_state_core = 737
			add_state_core = 738
			add_state_core = 739
			add_state_core = 740
			if = {
				limit = { country_exists = PHI }
				annex_country = {
					target = PHI
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PHI
		}
	}
	#SIN
	MAPHI_integrate_SIN = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SIN } }
		visible = {
			has_country_flag = is_MAPHI
			NOT = { has_country_flag = integrated_SIN }
		}
		available = {
			OR = {
				SIN = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 530
				}
				owns_state = 530
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							530 = {
								is_owned_and_controlled_by = PREV
							}
						}
					}
				}
				530 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_SIN"
			add_state_core = 530
			if = {
				limit = { country_exists = SIN }
				annex_country = {
					target = SIN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SIN
		}
	}
	#MAY
	MAPHI_integrate_MAY = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = MAY } }
		visible = {
			has_country_flag = is_MAPHI
			NOT = { has_country_flag = integrated_MAY }
		}
		available = {
			MAY = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							MAY = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@MAY > 50
					}
					check_variable = {
						core_resistance@MAY < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_MAY"
			add_state_core = 527
			add_state_core = 528
			add_state_core = 529
			add_state_core = 525
			add_state_core = 1016
			if = {
				limit = { country_exists = MAY }
				annex_country = {
					target = MAY
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_MAY
		}
	}
	#BRU
	MAPHI_integrate_BRU = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BRU } }
		visible = {
			has_country_flag = is_MAPHI
			NOT = { has_country_flag = integrated_BRU }
		}
		available = {
			OR = {
				BRU = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 752
				}
				owns_state = 752
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 752
						}
					}
				}
				752 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_integrate_BRU"
			add_state_core = 752
			if = {
				limit = { country_exists = BRU }
				annex_country = {
					target = BRU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BRU
		}
	}
	### Cosmetic ###
	MAPHI_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_MAPHI
			has_country_flag = integrated_IND
			has_country_flag = integrated_PHI
			has_country_flag = integrated_SIN
			has_country_flag = integrated_MAY
			has_country_flag = integrated_BRU
			NOT = {
				AND = {
					has_cosmetic_tag = MAPHI
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = MAPHI_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = MAPHI_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
 					has_cosmetic_tag = MAPHI_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAPHI_update_flag"
			#MAPHI
			if = {
				limit = { has_elections = yes }
 				set_cosmetic_tag = MAPHI
			}
			#MAPHI_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = MAPHI_AUTH
			}
			#MAPHI_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = MAPHI_AUTH_S
			}
			#MAPHI_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = MAPHI_AUTH_SS
			}
		}
	}
}

form_INDOCHI_category = {
	### Integrate (INDOCHI) ###
	# Start integrate
	INDOCHI_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_INDOCHI }
		}
		available = {
			VIE = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			LAO = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			CBD = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision INDOCHI_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_INDOCHI } }
				set_country_flag = is_INDOCHI
				set_global_flag = INDOCHI_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = INDOCHI_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#VIE
	INDOCHI_integrate_VIE = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = VIE } }
		visible = {
			has_country_flag = is_INDOCHI
			NOT = { has_country_flag = integrated_VIE }
		}
		available = {
			VIE = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							VIE = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@VIE > 50
					}
					check_variable = {
						core_resistance@VIE < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision INDOCHI_integrate_VIE"
			add_state_core = 518
			add_state_core = 519
			add_state_core = 520
			add_state_core = 521
			add_state_core = 522
			add_state_core = 523
			add_state_core = 524
			if = {
				limit = { country_exists = VIE }
				annex_country = {
					target = VIE
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_VIE
		}
	}
	#LAO
	INDOCHI_integrate_LAO = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = LAO } }
		visible = {
			has_country_flag = is_INDOCHI
			NOT = { has_country_flag = integrated_LAO }
		}
		available = {
			LAO = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							LAO = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@LAO > 50
					}
					check_variable = {
						core_resistance@LAO < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision INDOCHI_integrate_LAO"
			add_state_core = 515
			add_state_core = 516
			add_state_core = 517
			if = {
				limit = {
					country_exists = LAO
					LAO = {
						is_subject_of = ROOT
						has_war = no
					}
				}
				annex_country = {
					target = LAO
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_LAO
		}
	}
	#CBD
	INDOCHI_integrate_CBD = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CBD } }
		visible = {
			has_country_flag = is_INDOCHI
			NOT = { has_country_flag = integrated_CBD }
		}
		available = {
			CBD = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CBD = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CBD > 50
					}
					check_variable = {
						core_resistance@CBD < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision INDOCHI_integrate_CBD"
			add_state_core = 511
			add_state_core = 512
			add_state_core = 513
			add_state_core = 514
			if = {
				limit = { country_exists = CBD }
				annex_country = {
					target = CBD
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CBD
		}
	}
	### Cosmetic ###
	INDOCHI_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_INDOCHI
			has_country_flag = integrated_VIE
			has_country_flag = integrated_LAO
			has_country_flag = integrated_CBD
			NOT = {
				AND = {
					has_cosmetic_tag = INDOCHI
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = INDOCHI_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = INDOCHI_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
 					has_cosmetic_tag = INDOCHI_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision INDOCHI_update_flag"
			#INDOCHI
			if = {
				limit = { has_elections = yes }
 				set_cosmetic_tag = INDOCHI
			}
			#INDOCHI_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = INDOCHI_AUTH
			}
			#INDOCHI_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = INDOCHI_AUTH_S
			}
			#INDOCHI_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = INDOCHI_AUTH_SS
			}
		}
	}
}

form_ANDES_category = {
	### Integrate (ANDES) ###
	# Start integrate
	ANDES_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_ANDES }
		}
		available = {
			COL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			PRU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANDES_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_ANDES } }
				set_country_flag = is_ANDES
				set_global_flag = ANDES_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = ANDES_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#COL
	ANDES_integrate_COL = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = COL } }
		visible = {
			has_country_flag = is_ANDES
			NOT = { has_country_flag = integrated_COL }
		}
		available = {
			COL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							COL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@COL > 50
					}
					check_variable = {
						core_resistance@COL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANDES_integrate_COL"
			every_state = {
				limit = { is_colombia_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = COL }
				annex_country = {
					target = COL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_COL
		}
	}
	#PRU
	ANDES_integrate_PRU = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PRU } }
		visible = {
			has_country_flag = is_ANDES
			NOT = { has_country_flag = integrated_PRU }
		}
		available = {
			PRU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PRU = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PRU > 50
					}
					check_variable = {
						core_resistance@PRU < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANDES_integrate_PRU"
			add_state_core = 900
			add_state_core = 901
			add_state_core = 902
			add_state_core = 903
			add_state_core = 904
			if = {
				limit = {
					country_exists = PRU
					PRU = {
						is_subject_of = ROOT
						has_war = no
					}
				}
				annex_country = {
					target = PRU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PRU
		}
	}
	#BOL
	ANDES_integrate_BOL = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BOL } }
		visible = {
			has_country_flag = is_ANDES
			NOT = { has_country_flag = integrated_BOL }
		}
		available = {
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BOL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BOL > 50
					}
					check_variable = {
						core_resistance@BOL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANDES_integrate_BOL"
			add_state_core = 897
			add_state_core = 898
			add_state_core = 899
			if = {
				limit = { country_exists = BOL }
				annex_country = {
					target = BOL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BOL
		}
	}
	### Cosmetic ###
	ANDES_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_ANDES
			has_country_flag = integrated_COL
			has_country_flag = integrated_PRU
			has_country_flag = integrated_BOL
			NOT = {
				AND = {
					has_cosmetic_tag = ANDES
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = ANDES_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = ANDES_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
 					has_cosmetic_tag = ANDES_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANDES_update_flag"
			#ANDES
			if = {
				limit = { has_elections = yes }
 				set_cosmetic_tag = ANDES
			}
			#ANDES_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = ANDES_AUTH
			}
			#ANDES_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = ANDES_AUTH_S
			}
			#ANDES_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = ANDES_AUTH_SS
			}
		}
	}
}

form_ANTCONF_category = {
	### Integrate (ANTCONF) ###
	# Start integrate
	ANTCONF_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_ANTCONF }
		}
		available = {
			OR = {
				CUB = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 854
					owns_state = 855
				}
			}
			OR = {
				DOM = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 859
					owns_state = 860
				}
			}
			OR = {
				HAI = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 861
					owns_state = 862
				}
			}
			OR = {
				PTR = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 815
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_ANTCONF } }
				set_country_flag = is_ANTCONF
				set_global_flag = ANTCONF_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = ANTCONF_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#CUB
	ANTCONF_integrate_CUB = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CUB } }
		visible = {
			has_country_flag = is_ANTCONF
			NOT = { has_country_flag = integrated_CUB }
		}
		available = {
			OR = {
				CUB = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 854
					owns_state = 855
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CUB = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CUB > 50
					}
					check_variable = {
						core_resistance@CUB < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_integrate_CUB"
			add_state_core = 854
			add_state_core = 855
			if = {
				limit = { country_exists = CUB }
				annex_country = {
					target = CUB
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CUB
		}
	}
	#DOM
	ANTCONF_integrate_DOM = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = DOM } }
		visible = {
			has_country_flag = is_ANTCONF
			NOT = { has_country_flag = integrated_DOM }
		}
		available = {
			OR = {
				DOM = {
					is_subject_of = ROOT
					has_war = no
				}
 				AND = {
					owns_state = 859
					owns_state = 860
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							DOM = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@DOM > 50
					}
					check_variable = {
						core_resistance@DOM < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_integrate_DOM"
			add_state_core = 859
			add_state_core = 860
			if = {
				limit = {
					country_exists = DOM
					DOM = {
						is_subject_of = ROOT
						has_war = no
					}
				}
				annex_country = {
					target = DOM
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_DOM
		}
	}
	#HAI
	ANTCONF_integrate_HAI = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = HAI } }
		visible = {
			has_country_flag = is_ANTCONF
			NOT = { has_country_flag = integrated_HAI }
		}
		available = {
			OR = {
				HAI = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 861
					owns_state = 862
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							HAI = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@HAI > 50
					}
					check_variable = {
						core_resistance@HAI < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_integrate_HAI"
			add_state_core = 861
			add_state_core = 862
			if = {
				limit = { country_exists = HAI }
				annex_country = {
					target = HAI
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_HAI
		}
	}

	ANTCONF_integrate_PTR = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PTR } }
		visible = {
			has_country_flag = is_ANTCONF
			NOT = { has_country_flag = integrated_PTR }
		}
		available = {
			OR = {
				PTR = {
					is_subject_of = ROOT
					has_war = no
				}
				owns_state = 815
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PTR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PTR > 50
					}
					check_variable = {
						core_resistance@PTR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_integrate_PTR"
			add_state_core = 815
			if = {
				limit = { country_exists = PTR }
				annex_country = {
					target = PTR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PTR
		}
	}

	### Cosmetic ###
	ANTCONF_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_ANTCONF
			has_country_flag = integrated_CUB
			has_country_flag = integrated_DOM
			has_country_flag = integrated_HAI
			NOT = {
				AND = {
					has_cosmetic_tag = ANTCONF
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = ANTCONF_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = ANTCONF_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
 					has_cosmetic_tag = ANTCONF_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ANTCONF_update_flag"
			#ANTCONF
			if = {
				limit = { has_elections = yes }
 				set_cosmetic_tag = ANTCONF
			}
			#ANTCONF_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = ANTCONF_AUTH
			}
			#ANTCONF_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = ANTCONF_AUTH_S
			}
			#ANTCONF_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = ANTCONF_AUTH_SS
			}
		}
	}
}

#CANZUK
form_CANZUK_category = {
	### Integrate ###
	# Start integrate
	CANZUK_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_CANZUK }
		}
		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			AST = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				NZL = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 750
					owns_state = 751
				}
			}
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
				}
				is_uk_state_owned = yes
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_CANZUK } }
				set_country_flag = is_CANZUK
				set_global_flag = CANZUK_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = CANZUK_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	CANZUK_integrate_CAN = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CAN } }
		visible = {
			has_country_flag = is_CANZUK
			NOT = { has_country_flag = integrated_CAN }
		}
		available = {
			CAN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CAN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CAN > 50
					}
					check_variable = {
						core_resistance@CAN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_integrate_CAN"
			every_state = {
				limit = { is_canada_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = CAN }
				annex_country = {
					target = CAN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CAN
		}
	}
	#AST
	CANZUK_integrate_AST = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = AST } }
		visible = {
			has_country_flag = is_CANZUK
			NOT = { has_country_flag = integrated_AST }
		}
		available = {
			AST = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							AST = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@AST > 50
					}
					check_variable = {
						core_resistance@AST < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_integrate_AST"
			every_state = {
				limit = { is_australia_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = AST }
				annex_country = {
					target = AST
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_AST
		}
	}
	#NZL
	CANZUK_integrate_NZL = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = NZL } }
		visible = {
			has_country_flag = is_CANZUK
			NOT = { has_country_flag = integrated_NZL }
		}
		available = {
			OR = {
				NZL = {
					is_subject_of = ROOT
					has_war = no
				}
				is_newzealand_state_owned = yes
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							NZL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@NZL > 50
					}
					check_variable = {
						core_resistance@NZL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_integrate_NZL"
			every_state = {
				limit = { is_newzealand_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = NZL }
				annex_country = {
					target = NZL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NZL
		}
	}
	#ENG
	CANZUK_integrate_ENG = {
		icon = GFX_decision_generic_form_nation
		cost = 900
		days_remove = 500
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ENG } }
		visible = {
			has_country_flag = is_CANZUK
			NOT = { has_country_flag = integrated_ENG }
		}
		available = {
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
				}
				is_uk_state_owned = yes
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							is_uk_state_owned = yes
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ENG > 50
					}
					check_variable = {
						core_resistance@ENG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_integrate_ENG"
			every_state = {
				limit = { is_uk_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = ENG }
				annex_country = {
					target = ENG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ENG
		}
	}
	### Cosmetic ###
	CANZUK_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_CANZUK
			has_country_flag = integrated_CAN
			has_country_flag = integrated_AST
			has_country_flag = integrated_NZL
			has_country_flag = integrated_ENG
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				has_cosmetic_tag = CANZUK
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CANZUK_update_flag"
			#CANZUK
			set_cosmetic_tag = CANZUK
		}
	}
}

#Rio de la Plata
form_RDLP_category = {
	### Integrate (RDLP) ###
	# Start integrate
	RDLP_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_RDLP }
		}
		available = {
			OR = {
				PAR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 895
					owns_state = 896
				}
			}
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			CHL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				URG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 893
					owns_state = 894
				}
			}
			ARG = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_RDLP } }
				set_country_flag = is_RDLP
				set_global_flag = RDLP_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = RDLP_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#PAR
	RDLP_integrate_PAR = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PAR } }
		visible = {
			has_country_flag = is_RDLP
			NOT = { has_country_flag = integrated_PAR }
		}
		available = {
			OR = {
				PAR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 895
					owns_state = 896
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							PAR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PAR > 50
					}
					check_variable = {
						core_resistance@PAR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_PAR"
			add_state_core = 895
			add_state_core = 896

			if = {
				limit = { country_exists = PAR }
				annex_country = {
					target = PAR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PAR
		}
	}
	#BOL
	RDLP_integrate_BOL = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BOL } }
		visible = {
			has_country_flag = is_RDLP
			NOT = { has_country_flag = integrated_BOL }
		}
		available = {
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BOL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BOL > 50
					}
					check_variable = {
						core_resistance@BOL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_BOL"
			add_state_core = 897
			add_state_core = 898
			add_state_core = 899
			if = {
				limit = { country_exists = BOL }
				annex_country = {
					target = BOL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BOL
		}
	}
	#CHL
	RDLP_integrate_CHL = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CHL } }
		visible = {
			has_country_flag = is_RDLP
			NOT = { has_country_flag = integrated_CHL }
		}
		available = {
			CHL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CHL = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CHL > 50
					}
					check_variable = {
						core_resistance@CHL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_CHL"
			every_state = {
				limit = { is_chile_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = CHL }
				annex_country = {
					target = CHL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CHL
		}
	}
	#URG
	RDLP_integrate_URG = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = URG } }
		visible = {
			has_country_flag = is_RDLP
			NOT = { has_country_flag = integrated_URG }
		}
		available = {
			OR = {
				URG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 893
					owns_state = 894
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							URG = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@URG > 50
					}
					check_variable = {
						core_resistance@URG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_URG"
			add_state_core = 893
			add_state_core = 894
			if = {
				limit = { country_exists = URG }
				annex_country = {
					target = URG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_URG
		}
	}
	#ARG
	RDLP_integrate_ARG = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ARG } }
		visible = {
			has_country_flag = is_RDLP
			NOT = { has_country_flag = integrated_ARG }
		}
		available = {
			ARG = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							ARG = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ARG > 50
					}
					check_variable = {
						core_resistance@ARG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_integrate_ARG"
			add_state_core = 443
			add_state_core = 446
			add_state_core = 448
			add_state_core = 449
			add_state_core = 450
			add_state_core = 453
			add_state_core = 454
			add_state_core = 457
			if = {
				limit = { country_exists = ARG }
				annex_country = {
					target = ARG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ARG
		}
	}
	### Cosmetic ###
	RDLP_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_RDLP
			has_country_flag = integrated_ARG
			has_country_flag = integrated_CHL
			has_country_flag = integrated_BOL
			has_country_flag = integrated_URG
			has_country_flag = integrated_PAR
			NOT = {
				AND = {
					has_cosmetic_tag = RDLP
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = RDLP_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = RDLP_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = RDLP_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision RDLP_update_flag"
			#RDLP
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = RDLP
			}
			#RDLP_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = RDLP_AUTH
			}
			#RDLP_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = RDLP_AUTH_S
			}
			#RDLP_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = RDLP_AUTH_SS
			}
		}
	}
}

#North Sea Empire
form_NORDEM_category = {
	### Integrate ###
	# Start integrate
	NORDEM_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_NORDEM }
		}
		available = {
			OR = {
				SWE = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 34
					owns_state = 35
					owns_state = 36
					owns_state = 439
					owns_state = 550
				}
			}
			NOR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			DEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 9
					owns_state = 10
					owns_state = 11
					owns_state = 12
					owns_state = 13
					owns_state = 14
					owns_state = 15
					owns_state = 16
					owns_state = 17
					owns_state = 437
					owns_state = 955
					owns_state = 973
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_NORDEM } }
				set_country_flag = is_NORDEM
				set_global_flag = NORDEM_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = NORDEM_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#SWE
	NORDEM_integrate_SWE = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SWE } }
		visible = {
			has_country_flag = is_NORDEM
			NOT = { has_country_flag = integrated_SWE }
		}
		available = {
			OR = {
				SWE = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 34
					owns_state = 35
					owns_state = 36
					owns_state = 439
					owns_state = 550
				}
				AND = {
					owns_state = 34
					owns_state = 35
					owns_state = 36
					owns_state = 439
					owns_state = 550
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 34
							owns_state = 35
							owns_state = 36
							owns_state = 439
							owns_state = 550
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					34 = {
						compliance > 50
						resistance < 30
					}
					35 = {
						compliance > 50
						resistance < 30
					}
					36 = {
						compliance > 50
						resistance < 30
					}
					439 = {
						compliance > 50
						resistance < 30
					}
					550 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_integrate_SWE"
			add_state_core = 34
			add_state_core = 35
			add_state_core = 36
			add_state_core = 439
			add_state_core = 550
			if = {
				limit = { country_exists = SWE }
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SWE
		}
	}

	#NOR
	NORDEM_integrate_NOR = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = NOR } }
		visible = {
			has_country_flag = is_NORDEM
			NOT = { has_country_flag = integrated_NOR }
		}
		available = {
			NOR = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							NOR = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@NOR > 50
					}
					check_variable = {
						core_resistance@NOR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_integrate_NOR"
			every_state = {
				limit = { is_norway_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = NOR }
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NOR
		}
	}

	#DEN
	NORDEM_integrate_DEN = {
		icon = GFX_decision_generic_form_nation
		cost = 400
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = DEN } }
		visible = {
			has_country_flag = is_NORDEM
			NOT = { has_country_flag = integrated_DEN }
		}
		available = {
			DEN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							DEN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@DEN > 50
					}
					check_variable = {
						core_resistance@DEN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_integrate_DEN"
			add_state_core = 2
			add_state_core = 3
			add_state_core = 4
			add_state_core = 5
			add_state_core = 6
			if = {
				limit = { country_exists = DEN }
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_DEN
		}
	}
	#ENG
	NORDEM_integrate_ENG = {
		icon = GFX_decision_generic_form_nation
		cost = 800
		days_remove = 500
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ENG } }
		visible = {
			has_country_flag = is_NORDEM
			NOT = { has_country_flag = integrated_ENG }
		}
		available = {
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 9
					owns_state = 10
					owns_state = 11
					owns_state = 12
					owns_state = 13
					owns_state = 14
					owns_state = 15
					owns_state = 16
					owns_state = 17
					owns_state = 437
					owns_state = 955
					owns_state = 973
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 9
							owns_state = 10
							owns_state = 11
							owns_state = 12
							owns_state = 13
							owns_state = 14
							owns_state = 15
							owns_state = 16
							owns_state = 17
							owns_state = 437
							owns_state = 955
							owns_state = 973
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ENG > 50
					}
					check_variable = {
						core_resistance@ENG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_integrate_ENG"
			add_state_core = 9
			add_state_core = 10
			add_state_core = 11
			add_state_core = 12
			add_state_core = 13
			add_state_core = 14
			add_state_core = 15
			add_state_core = 16
			add_state_core = 17
			add_state_core = 437
			add_state_core = 955
			add_state_core = 973
			if = {
				limit = { country_exists = ENG }
				annex_country = {
					target = ENG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ENG
		}
	}
	### Cosmetic ###
	NORDEM_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_NORDEM
			has_country_flag = integrated_DEN
			has_country_flag = integrated_ENG
			has_country_flag = integrated_NOR
			has_country_flag = integrated_SWE
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = NORDEM
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = NORDEM_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = NORDEM_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = NORDEM_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NORDEM_update_flag"
			#NORDEM
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = NORDEM
			}
			#NORDEM_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = NORDEM_AUTH
			}
			#NORDEM_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = NORDEM_AUTH_S
			}
			#NORDEM_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = NORDEM_AUTH_SS
			}
		}
	}
}

#Arab Maghreb Union
form_MAGHREB_category = {
	### Integrate ###
	# Start integrate
	MAGHREB_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_MAGHREB }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = MAGHREB_integrate_trigger_tt
				OR = {
					ALG = {
						is_subject_of = ROOT
						has_war = no
					}
					is_algeria_state_owned = yes
				}
				OR = {
					AND = {
						LBA = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = HOR
							country_exists = GNC
							country_exists = GNA
						}
					}
					AND = {
						HOR = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = GNC
							country_exists = GNA
						}
					}
					AND = {
						GNC = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = HOR
							country_exists = GNA
						}
					}
					AND = {
						GNA = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = HOR
							country_exists = GNC
						}
					}
					is_libya_state_owned = yes
				}
				MAU = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					SHA = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 372
				}
				OR = {
					MOR = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 373
						owns_state = 374
						owns_state = 375
						owns_state = 376
						owns_state = 377
						owns_state = 378
					}
				}
				TUN = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_MAGHREB } }
				set_country_flag = is_MAGHREB
				set_global_flag = MAGHREB_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = MAGHREB_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#ALG
	MAGHREB_integrate_ALG = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ALG } }
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_ALG }
		}
		available = {
			OR = {
				ALG = {
					is_subject_of = ROOT
					has_war = no
				}
				is_algeria_state_owned = yes
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							ALG = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@ALG > 50
					}
					check_variable = {
						core_resistance@ALG < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_ALG"
			every_state = {
				limit = { is_algeria_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = ALG }
				annex_country = {
					target = ALG
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ALG
		}
	}
	#LBA
	MAGHREB_integrate_LBA = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = {
			NOT = {
				tag = LBA
				tag = GNC
				tag = HOR
				tag = GNA
			}
		}
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_LBA }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = LBA_integrate_trigger_tt
				OR = {
					AND = {
						LBA = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = HOR
							country_exists = GNC
							country_exists = GNA
						}
					}
					AND = {
						HOR = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = GNC
							country_exists = GNA
						}
					}
					AND = {
						GNC = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = HOR
							country_exists = GNA
						}
					}
					AND = {
						GNA = {
							is_subject_of = ROOT
							has_war = no
						}
						NOT = {
							country_exists = LBA
							country_exists = HOR
							country_exists = GNC
						}
					}
					is_libya_state_owned = yes
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 391
							owns_state = 392
							owns_state = 393
							owns_state = 395
							owns_state = 396
							owns_state = 397
							owns_state = 579
							owns_state = 918
							owns_state = 919
							owns_state = 920
							owns_state = 1100
							owns_state = 1101
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					391 = {
						compliance > 50
						resistance < 30
					}
					392 = {
						compliance > 50
						resistance < 30
					}
					393 = {
						compliance > 50
						resistance < 30
					}
					395 = {
						compliance > 50
						resistance < 30
					}
					396 = {
						compliance > 50
						resistance < 30
					}
					397 = {
						compliance > 50
						resistance < 30
					}
					579 = {
						compliance > 50
						resistance < 30
					}
					918 = {
						compliance > 50
						resistance < 30
					}
					919 = {
						compliance > 50
						resistance < 30
					}
					920 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_LBA"
			every_state = {
				limit = { is_libya_state = yes }
				add_core_of = ROOT
			}
			if = {
				limit = { country_exists = LBA }
				annex_country = {
					target = LBA
					transfer_troops = yes
				}
			}
			if = {
				limit = { country_exists = HOR }
				annex_country = {
					target = HOR
					transfer_troops = yes
				}
			}
			if = {
				limit = { country_exists = GNC }
				annex_country = {
					target = GNC
					transfer_troops = yes
				}
			}
			if = {
				limit = { country_exists = GNA }
				annex_country = {
					target = GNA
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_LBA
		}
	}
	#MOR
	MAGHREB_integrate_MOR = {
		icon = GFX_decision_generic_form_nation
		cost = 450
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = MOR } }
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_MOR }
		}
		available = {
			OR = {
				MOR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 374
					owns_state = 375
					owns_state = 376
					owns_state = 377
					owns_state = 378
				}
			}
			custom_trigger_tooltip = {
				tooltip = general_integrate_tt
				check_variable = {
					core_compliance@MOR > 50
				}
				check_variable = {
					core_resistance@MOR < 30
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 374
							owns_state = 375
							owns_state = 376
							owns_state = 377
							owns_state = 378
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@MOR > 50
					}
					check_variable = {
						core_resistance@MOR < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_MOR"
			add_state_core = 374
			add_state_core = 375
			add_state_core = 376
			add_state_core = 377
			add_state_core = 378
			if = {
				limit = { country_exists = MOR }
				annex_country = {
					target = MOR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_MOR
		}
	}
	#SHA
	MAGHREB_integrate_SHA = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SHA } }
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_SHA }
		}
		available = {
			OR = {
				SHA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 372
					owns_state = 373
				}
				AND = {
					owns_state = 372
					owns_state = 373
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 372
							owns_state = 373
						}
					}
				}
				AND = {
					372 = {
						compliance > 50
						resistance < 30
					}
					373 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_SHA"
			add_state_core = 372
			add_state_core = 373
			if = {
				limit = { country_exists = SHA }
				annex_country = {
					target = SHA
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SHA
		}
	}
	#TUN
	MAGHREB_integrate_TUN = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = TUN } }
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_TUN }
		}
		available = {
			TUN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							TUN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@TUN > 50
					}
					check_variable = {
						core_resistance@TUN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_TUN"
			add_state_core = 388
			add_state_core = 389
			add_state_core = 390
			if = {
				limit = { country_exists = TUN }
				annex_country = {
					target = TUN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TUN
		}
	}
	#MAU
	MAGHREB_integrate_MAU = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = MAU } }
		visible = {
			has_country_flag = is_MAGHREB
			NOT = { has_country_flag = integrated_MAU }
		}
		available = {
			MAU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							MAU = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@MAU > 50
					}
					check_variable = {
						core_resistance@MAU < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_integrate_MAU"
			add_state_core = 369
			add_state_core = 370
			add_state_core = 371
			add_state_core = 413
			if = {
				limit = { country_exists = MAU }
				annex_country = {
					target = MAU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_MAU
		}
	}
	### Cosmetic ###
	MAGHREB_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_MAGHREB
			has_country_flag = integrated_ALG
			has_country_flag = integrated_LBA
			has_country_flag = integrated_MOR
			has_country_flag = integrated_SHA
			has_country_flag = integrated_MAU
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = MAGHREB
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = MAGHREB_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = MAGHREB_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = MAGHREB_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision MAGHREB_update_flag"
			#MAGHREB
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = MAGHREB
			}
			#MAGHREB_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = MAGHREB_AUTH
			}
			#MAGHREB_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = MAGHREB_AUTH_S
			}
			#MAGHREB_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = MAGHREB_AUTH_SS
			}
		}
	}
}

#West Indies Federation
form_WESTFED_category = {
	### Integrate ###
	# Start integrate
	WESTFED_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_WESTFED }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = WESTFED_integrate_trigger_tt
				OR = {
					TRI = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 869
				}
				OR = {
					GRA = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 868
				}
				OR = {
					STL = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 864
				}
				OR = {
					BAR = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 865
				}
				OR = {
					STV = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 866
				}
				OR = {
					STK = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 863
				}
				OR = {
					DMI = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 867
				}
				OR = {
					JAM = {
						is_subject_of = ROOT
						has_war = no
					}
					owns_state = 858
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_WESTFED } }
				set_country_flag = is_WESTFED
				set_global_flag = WESTFED_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = WESTFED_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#TRI
	WESTFED_integrate_TRI = {
		icon = GFX_decision_generic_form_nation
		cost = 250
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = TRI } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_TRI }
		}
		available = {
			OR = {
				TRI = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 869
				}
				owns_state = 869
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 869
						}
					}
				}
				869 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_TRI"
			add_state_core = 869
			if = {
				limit = { country_exists = TRI }
				annex_country = {
					target = TRI
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TRI
		}
	}
	#GRA
	WESTFED_integrate_GRA = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = GRA } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_GRA }
		}
		available = {
			OR = {
				GRA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 868
				}
				owns_state = 868
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 868
						}
					}
				}
				868 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_GRA"
			add_state_core = 868
			if = {
				limit = { country_exists = GRA }
				annex_country = {
					target = GRA
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_GRA
		}
	}
	#STV
	WESTFED_integrate_STV = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = STV } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_STV }
		}
		available = {
			OR = {
				STV = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 866
				}
				owns_state = 866
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 866
						}
					}
				}
				866 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_STV"
			add_state_core = 866
			if = {
				limit = { country_exists = STV }
				annex_country = {
					target = STV
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_STV
		}
	}
	#BAR
	WESTFED_integrate_BAR = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BAR } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_BAR }
		}
		available = {
			OR = {
				BAR = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 865
				}
				owns_state = 865
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 865
						}
					}
				}
				865 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_BAR"
			add_state_core = 865
			if = {
				limit = { country_exists = BAR }
				annex_country = {
					target = BAR
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BAR
		}
	}
	#STL
	WESTFED_integrate_STL = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = STL } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_STL }
		}
		available = {
			OR = {
				STL = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 864
				}
				owns_state = 864
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 864
						}
					}
				}
				864 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_STL"
			add_state_core = 864
			if = {
				limit = { country_exists = STL }
				annex_country = {
					target = STL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_STL
		}
	}
	#STK
	WESTFED_integrate_STK = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = STK } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_STK }
		}
		available = {
			OR = {
				STK = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 863
				}
				owns_state = 863
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 863
						}
					}
				}
				863 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_STK"
			add_state_core = 863
			if = {
				limit = { country_exists = STK }
				annex_country = {
					target = STK
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_STK
		}
	}
	#DMI
	WESTFED_integrate_DMI = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = DMI } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_DMI }
		}
		available = {
			OR = {
				DMI = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 867
				}
				owns_state = 867
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 867
						}
					}
				}
				867 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_DMI"
			add_state_core = 867
			if = {
				limit = { country_exists = DMI }
				annex_country = {
					target = DMI
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_DMI
		}
	}
	#JAM
	WESTFED_integrate_JAM = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = JAM } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_JAM }
		}
		available = {
			OR = {
				JAM = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 858
				}
				owns_state = 858
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 858
						}
					}
				}
				858 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_JAM"
			add_state_core = 858
			if = {
				limit = { country_exists = JAM }
				annex_country = {
					target = JAM
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_JAM
		}
	}
	#CAYMAN
	WESTFED_integrate_CAYMAN = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ENG } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_CAYMAN }
		}
		available = {
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 1007
				}
				owns_state = 1007
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 1007
						}
					}
				}
				1007 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_CAYMAN"
			add_state_core = 1007
			if = {
				limit = {
					ENG = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 1007
					}
				}
				ROOT = { transfer_state = 1007 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CAYMAN
		}
	}
	#TURKS
	WESTFED_integrate_TURKS = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ENG } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_TURKS }
		}
		available = {
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 1008
				}
				owns_state = 1008
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 1008
						}
					}
				}
				1008 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_TURKS"
			add_state_core = 1008
			if = {
				limit = {
					ENG = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 1008
					}
				}
				ROOT = { transfer_state = 1008 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_TURKS
		}
	}
	#ANTILLES
	WESTFED_integrate_ANTILLES = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ENG } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_ANTILLES }
		}
		available = {
			OR = {
				ENG = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 23
				}
				owns_state = 23
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 23
						}
					}
				}
				23 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_ANTILLES"
			add_state_core = 23
			if = {
				limit = {
					ENG = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 23
					}
				}
				ROOT = { transfer_state = 23 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_ANTILLES
		}
	}
	#GUADELOUPE
	WESTFED_integrate_GUADELOUPE = {
		icon = GFX_decision_generic_form_nation
		cost = 200
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = FRA } }
		visible = {
			has_country_flag = is_WESTFED
			NOT = { has_country_flag = integrated_GUADELOUPE }
		}
		available = {
			OR = {
				FRA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 68
				}
				owns_state = 68
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 68
						}
					}
				}
				68 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_integrate_GUADELOUPE"
			add_state_core = 68
			if = {
				limit = {
					FRA = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 68
					}
				}
				ROOT = { transfer_state = 68 }
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_GUADELOUPE
		}
	}
	### Cosmetic ###
	WESTFED_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_WESTFED
			has_country_flag = integrated_DMI
			has_country_flag = integrated_STK
			has_country_flag = integrated_STL
			has_country_flag = integrated_STV
			has_country_flag = integrated_GRA
			has_country_flag = integrated_BAR
			has_country_flag = integrated_TRI
			has_country_flag = integrated_JAM
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = WESTFED
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = WESTFED_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = WESTFED_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = WESTFED_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WESTFED_update_flag"
			#WESTFED
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = WESTFED
			}
			#WESTFED_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = WESTFED_AUTH
			}
			#WESTFED_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = WESTFED_AUTH_S
			}
			#WESTFED_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = WESTFED_AUTH_SS
			}
		}
	}
}

#Austria-Hungary
form_AUSHUN_category = {
	### Integrate ###
	# Start integrate
	AUSHUN_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_AUSHUN }
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = AUSHUN_integrate_trigger_tt
				AUS = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				HUN = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				SLV = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					ITA = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 285
						owns_state = 1061
					}
					AND = {
						owns_state = 285
						owns_state = 1061
					}
				}
				OR = {
					CRO = {
						is_subject_of = ROOT
						has_war = no
					}
					AND = {
						owns_state = 126
						owns_state = 127
					}
				}
				BOS = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				SLO = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					ROM = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 151
						owns_state = 909
						owns_state = 910
					}
					AND = {
						owns_state = 151
						owns_state = 909
						owns_state = 910
					}
				}
				CZE = {
					OR = {
						AND = {
							is_subject_of = ROOT
							has_war = no
						}
						all_core_state = {
							is_owned_and_controlled_by = ROOT
						}
					}
				}
				OR = {
					POL = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 1098
					}
					AND = {
						owns_state = 1098
					}
				}
				OR = {
					UKR = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 700
						owns_state = 701
					}
					AND = {
						owns_state = 700
						owns_state = 701
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_AUSHUN } }
				set_country_flag = is_AUSHUN
				set_global_flag = AUSHUN_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = AUSHUN_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#AUS
	AUSHUN_integrate_AUS = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = AUS } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_AUS }
		}
		available = {
			AUS = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							AUS = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@AUS > 50
					}
					check_variable = {
						core_resistance@AUS < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_AUS"
			add_state_core = 75
			add_state_core = 76
			add_state_core = 286
			if = {
				limit = { country_exists = AUS }
				annex_country = {
					target = AUS
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_AUS
		}
	}
	#HUN
	AUSHUN_integrate_HUN = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = HUN } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_HUN }
		}
		available = {
			HUN = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							HUN = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@HUN > 50
					}
					check_variable = {
						core_resistance@HUN < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_HUN"
			add_state_core = 121
			add_state_core = 122
			add_state_core = 123
			add_state_core = 999
			if = {
				limit = { country_exists = HUN }
				annex_country = {
					target = HUN
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_HUN
		}
	}
	#SLV
	AUSHUN_integrate_SLV = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SLV } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_SLV }
		}
		available = {
			OR = {
				SLV = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 124
					owns_state = 125
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							SLV = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@SLV > 50
					}
					check_variable = {
						core_resistance@SLV < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_SLV"
			add_state_core = 124
			add_state_core = 125
			if = {
				limit = { country_exists = SLV }
				annex_country = {
					target = SLV
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SLV
		}
	}
	#NORTHITA
	AUSHUN_integrate_NORTHITA = {
		icon = GFX_decision_generic_form_nation
		cost = 150
		days_remove = 180
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ITA } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_NORTHITA }
		}
		available = {
			OR = {
				ITA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 285
					owns_state = 1061
				}
				AND = {
					owns_state = 285
					owns_state = 1061
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 285
							owns_state = 1061
						}
					}
				}
				AND = {
					285 = {
						compliance > 50
						resistance < 30
					}
					1061 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_NORTHITA"
			add_state_core = 285
			add_state_core = 1061
			if = {
				limit = {
					ITA = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 285
						owns_state = 1061
					}
				}
				ROOT = {
					transfer_state = 285
					transfer_state = 1061
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NORTHITA
		}
	}
	#CRO
	AUSHUN_integrate_CRO = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CRO } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_CRO }
		}
		available = {
			OR = {
				CRO = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 126
					owns_state = 127
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CRO = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CRO > 50
					}
					check_variable = {
						core_resistance@CRO < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_CRO"
			add_state_core = 126
			add_state_core = 127
			if = {
				limit = { country_exists = CRO }
				annex_country = {
					target = CRO
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CRO
		}
	}
	#BOS
	AUSHUN_integrate_BOS = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BOS } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_BOS }
		}
		available = {
			BOS = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							BOS = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BOS > 50
					}
					check_variable = {
						core_resistance@BOS < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_BOS"
			add_state_core = 128
			add_state_core = 129
			add_state_core = 1051
			add_state_core = 1052
			add_state_core = 1054
			if = {
				limit = { country_exists = BOS }
				annex_country = {
					target = BOS
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BOS
		}
	}
	#SLO
	AUSHUN_integrate_SLO = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = SLO } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_SLO }
		}
		available = {
			OR = {
				SLO = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 119
					owns_state = 120
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							SLO = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@SLO > 50
					}
					check_variable = {
						core_resistance@SLO < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_SLO"
			add_state_core = 119
			add_state_core = 120
			if = {
				limit = { country_exists = SLO }
				annex_country = {
					target = SLO
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_SLO
		}
	}
	#AUSROM
	AUSHUN_integrate_AUSROM = {
		icon = GFX_decision_generic_form_nation
		cost = 350
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = ROM } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_AUSROM }
		}
		available = {
			OR = {
				ROM = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 151
					owns_state = 909
					owns_state = 910
				}
				AND = {
					owns_state = 151
					owns_state = 909
					owns_state = 910
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 151
							owns_state = 909
							owns_state = 910
						}
					}
				}
				AND = {
					151 = {
						compliance > 50
						resistance < 30
					}
					909 = {
						compliance > 50
						resistance < 30
					}
					910 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_AUSROM"
			add_state_core = 151
			add_state_core = 909
			add_state_core = 910
			if = {
				limit = {
					ROM = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 151
						owns_state = 909
						owns_state = 910
					}
				}
				ROOT = {
					transfer_state = 151
					transfer_state = 909
					transfer_state = 910
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_AUSROM
		}
	}
	#CZE
	AUSHUN_integrate_CZE = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CZE } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_CZE }
		}
		available = {
			CZE = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							CZE = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@CZE > 50
					}
					check_variable = {
						core_resistance@CZE < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_CZE"
			add_state_core = 117
			add_state_core = 118
			add_state_core = 1017
			add_state_core = 1018
			if = {
				limit = { country_exists = CZE }
				annex_country = {
					target = CZE
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_CZE
		}
	}
	#AUSPOL
	AUSHUN_integrate_AUSPOL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = POL } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_AUSPOL }
		}
		available = {
			OR = {
				POL = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 1098
				}
				AND = {
					owns_state = 1098
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 1098
						}
					}
				}
				AND = {
					1098 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_AUSPOL"
			add_state_core = 1098
			if = {
				limit = {
					POL = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 1098
					}
				}
				ROOT = {
					transfer_state = 1098
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_AUSPOL
		}
	}
	#WESTUKR
	AUSHUN_integrate_WESTUKR = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = UKR } }
		visible = {
			has_country_flag = is_AUSHUN
			NOT = { has_country_flag = integrated_WESTUKR }
		}
		available = {
			OR = {
				UKR = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 700
					owns_state = 701
				}
				AND = {
					owns_state = 700
					owns_state = 701
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 700
							owns_state = 701
						}
					}
				}
				AND = {
					700 = {
						compliance > 50
						resistance < 30
					}
					701 = {
						compliance > 50
						resistance < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_integrate_WESTUKR"
			add_state_core = 700
			add_state_core = 701
			if = {
				limit = {
					UKR = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 700
						owns_state = 701
					}
				}
				ROOT = {
					transfer_state = 700
					transfer_state = 701
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_WESTUKR
		}
	}
	### Cosmetic ###
	AUSHUN_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_AUSHUN
			has_country_flag = integrated_AUS
			has_country_flag = integrated_HUN
			has_country_flag = integrated_SLV
			has_country_flag = integrated_NORTHITA
			has_country_flag = integrated_CRO
			has_country_flag = integrated_BOS
			has_country_flag = integrated_SLO
			has_country_flag = integrated_AUSROM
			has_country_flag = integrated_CZE
			has_country_flag = integrated_AUSPOL
			has_country_flag = integrated_WESTUKR
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = AUSHUN
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = AUSHUN_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = AUSHUN_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = AUSHUN_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUSHUN_update_flag"
			#AUSHUN
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = AUSHUN
			}
			#AUSHUN_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = AUSHUN_AUTH
			}
			#AUSHUN_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = AUSHUN_AUTH_S
			}
			#AUSHUN_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = AUSHUN_AUTH_SS
			}
		}
	}
}

#Peru-Bolivian Confederation
form_PBL_category = {
	### Integrate ###
	# Start integrate
	PBL_integrate_start = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = { factor = 10 }
		visible = {
			NOT = { has_country_flag = is_PBL }
		}
		available = {
			PRU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			OR = {
				BRA = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 1022
				}
			}
			OR = {
				CHL = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 950
					owns_state = 949
				}
			}
			OR = {
				PAR = {
					is_subject_of = ROOT
					has_war = no
				}
				AND = {
					owns_state = 896
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_start"
			if = {
				limit = { NOT = { has_country_flag = is_PBL } }
				set_country_flag = is_PBL
				set_global_flag = PBL_exists
				clr_country_flag = dynamic_flag
				clr_country_flag = dynamic_rebel_flag
			}
			set_country_flag = integrated_@ROOT
			custom_effect_tooltip = PBL_start_integrate_tt
			custom_effect_tooltip = general_integrate_tt
		}
	}
	#PRU
	PBL_integrate_PRU = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PRU } }
		visible = {
			has_country_flag = is_PBL
			NOT = { has_country_flag = integrated_PRU }
		}
		available = {
			PRU = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							AUS = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@PRU > 50
					}
					check_variable = {
						core_resistance@PRU < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_PRU"
			add_state_core = 900
			add_state_core = 901
			add_state_core = 902
			add_state_core = 903
			add_state_core = 904
			if = {
				limit = { country_exists = PRU }
				annex_country = {
					target = PRU
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_PRU
		}
	}
	#BOL
	PBL_integrate_BOL = {
		icon = GFX_decision_generic_form_nation
		cost = 500
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BOL } }
		visible = {
			has_country_flag = is_PBL
			NOT = { has_country_flag = integrated_BOL }
		}
		available = {
			BOL = {
				OR = {
					AND = {
						is_subject_of = ROOT
						has_war = no
					}
					all_core_state = {
						is_owned_and_controlled_by = ROOT
					}
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							AUS = {
								all_core_state = {
									is_owned_and_controlled_by = PREV.PREV
								}
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = general_integrate_tt
					check_variable = {
						core_compliance@BOL > 50
					}
					check_variable = {
						core_resistance@BOL < 30
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_BOL"
			add_state_core = 897
			add_state_core = 898
			add_state_core = 899
			if = {
				limit = { country_exists = BOL }
				annex_country = {
					target = BOL
					transfer_troops = yes
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_BOL
		}
	}
	#WESTPAR
	PBL_integrate_WESTPAR = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = PAR } }
		visible = {
			has_country_flag = is_PBL
			NOT = { has_country_flag = integrated_WESTPAR }
		}
		available = {
			OR = {
				PAR = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 896
				}
				owns_state = 896
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 896
						}
					}
				}
				896 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_WESTPAR"
			add_state_core = 896
			if = {
				limit = {
					PAR = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 896
					}
				}
				ROOT = {
					transfer_state = 896
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_WESTPAR
		}
	}
	#WESTBRA
	PBL_integrate_WESTBRA = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = BRA } }
		visible = {
			has_country_flag = is_PBL
			NOT = { has_country_flag = integrated_WESTBRA }
		}
		available = {
			OR = {
				BRA = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 1022
				}
				owns_state = 1022
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 1022
						}
					}
				}
				1022 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_WESTBRA"
			add_state_core = 1022
			if = {
				limit = {
					BRA = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 1022
					}
				}
				ROOT = {
					transfer_state = 1022
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_WESTBRA
		}
	}
	#NORTHCHL
	PBL_integrate_NORTHCHL = {
		icon = GFX_decision_generic_form_nation
		cost = 300
		days_remove = 365
		ai_will_do = { factor = 10 }
		allowed = { NOT = { tag = CHL } }
		visible = {
			has_country_flag = is_PBL
			NOT = { has_country_flag = integrated_NORTHCHL }
		}
		available = {
			OR = {
				CHL = {
					is_subject_of = ROOT
					has_war = no
					owns_state = 950
					owns_state = 949
				}
				AND = {
					owns_state = 950
					owns_state = 949
				}
			}
			if = {
				limit = {
					NOT = {
						any_subject_country = {
							owns_state = 949
							owns_state = 950
						}
					}
				}
				949 = {
					compliance > 50
					resistance < 30
				}
				950 = {
					compliance > 50
					resistance < 30
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_integrate_NORTHCHL"
			add_state_core = 949
			add_state_core = 950
			if = {
				limit = {
					CHL = {
						is_subject_of = ROOT
						has_war = no
						owns_state = 949
						owns_state = 950
					}
				}
				ROOT = {
					transfer_state = 949
					transfer_state = 950
				}
			}
			clr_country_flag = dynamic_flag
			clr_country_flag = dynamic_rebel_flag
			set_country_flag = integrated_NORTHCHL
		}
	}
	### Cosmetic ###
	PBL_update_flag = {
		icon = GFX_decision_generic_form_nation
		cost = 0
		ai_will_do = { factor = 1 }
		visible = {
			has_country_flag = is_PBL
			has_country_flag = integrated_PRU
			has_country_flag = integrated_BOL
			has_country_flag = integrated_WESTPAR
			has_country_flag = integrated_WESTBRA
			has_country_flag = integrated_NORTHCHL
			NOT = {
				AND = {
					has_global_flag = european_federation
					has_idea = EU_member
				}
				AND = {
					has_cosmetic_tag = PBL
					has_elections = yes
				}
				AND = {
					has_cosmetic_tag = PBL_AUTH
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				AND = {
					has_cosmetic_tag = PBL_AUTH_S
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				AND = {
					has_cosmetic_tag = PBL_AUTH_SS
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PBL_update_flag"
			#PBL
			if = {
				limit = { has_elections = yes }
				set_cosmetic_tag = PBL
			}
			#PBL_AUTH
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 0 }
						is_in_array = { array = ruling_party  value = 7 }
						is_in_array = { array = ruling_party  value = 13 }
						is_in_array = { array = ruling_party  value = 22 }
					}
				}
				set_cosmetic_tag = PBL_AUTH
			}
			#PBL_AUTH_S
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 10 }
						is_in_array = { array = ruling_party  value = 23 }
						is_in_array = { array = ruling_party  value = 4 }
						is_in_array = { array = ruling_party  value = 19 }
					}
				}
				set_cosmetic_tag = PBL_AUTH_S
			}
			#PBL_AUTH_SS
			else_if = {
				limit = {
					has_elections = no
					OR = {
						is_in_array = { array = ruling_party  value = 21 }
						is_in_array = { array = ruling_party  value = 8 }
						is_in_array = { array = ruling_party  value = 9 }
						is_in_array = { array = ruling_party  value = 11 }
					}
				}
				set_cosmetic_tag = PBL_AUTH_SS
			}
		}
	}
}