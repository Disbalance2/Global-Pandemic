SPR_the_regions_of_spain = {
	## Basque Shit
	# Revolt Against Spain
	SPR_basque_revolt_against_spain_mission = {
		visible = {
			owns_state = 88
			88 = { is_core_of = NAV }
			NOT = { has_country_flag = NAV_revolted_against_spain }
		}
		activation = {
			NAV = { NOT = { has_war_with = SPR } }
			check_variable = { SPR_culture_opinion^1 < 21 }
			NOT = { NAV = { is_subject_of = SPR } }
			86 = { is_core_of = NAV }
			NOT = { has_country_flag = NAV_revolted_against_spain }
		}
		available = {
			owns_state = 88
			OR = {
				88 = { is_core_of = NAV }
				CAT = { is_subject_of = SPR }
				custom_trigger_tooltip = {
					tooltip = SPR_basque_opinion_above_20_tt
					check_variable = { SPR_culture_opinion^1 > 20 }
				}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				state = 88
			}
		}

		days_mission_timeout = 100
		is_good = no

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: mission complete_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.01 }
			add_relative_party_popularity = yes
			add_political_power = 25
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.075 }
			add_relative_party_popularity = yes
			set_country_flag = NAV_revolted_against_spain
			NAV = {
				set_country_flag = NAV_revolted_against_spain
				transfer_state = 88
				inherit_technology = SPR
				division_template = {
					name = "Basque Infantry"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						L_Inf_Bat = { x = 0 y = 2 }
						L_Inf_Bat = { x = 0 y = 3 }
					}
					support = {
						L_Engi_Comp = { x = 0 y = 0 }
						L_Recce_Comp = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Vitoria Company\" division_template = \"Basque Infantry\" start_experience_factor = 0.5"
						owner = NAV
						prioritize_location = 3735
					}
					create_unit = {
						division = "name = \"1st Bilbao Company\" division_template = \"Basque Infantry\" start_experience_factor = 0.5"
						owner = NAV
						prioritize_location = 740
					}
					create_unit = {
						division = "name = \"1st Erumia Company\" division_template = \"Basque Infantry\" start_experience_factor = 0.5"
						owner = NAV
						prioritize_location = 6756
					}
				}
				declare_war_on = {
					target = SPR
					type = take_core_state
					generator = { 88 }
				}
			}
		}
	}

	# Targeted Subsidies
	SPR_basque_targeted_subsidies_decision = {
		allowed = { original_tag = SPR }
		visible = {
			owns_state = 88
			88 = { is_core_of = NAV }
		}

		available = {
			20_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 90
		days_re_enable = 15

		modifier = {
			tax_gain_multiplier_modifier = -0.05
			political_power_factor = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_basque_targeted_subsidies_decisions"
			set_temp_variable = { culture_index = 1 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}
	}

	# Revoke Basque Citizenship
	SPR_revoke_basque_citizenship_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_country_flag = SPR_bilbao_convention_crush_basque
			has_country_flag = SPR_revoke_citizenship_northerner_flag
			88 = { is_core_of = NAV }
		}

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 100

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_revoke_basque_citizenship_decision"
			88 = { remove_core_of = NAV }
			add_stability = -0.05
			custom_effect_tooltip = SPR_all_culture_decrease_10_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -10 }
					SPR_modify_cultural_opinion = yes
				}
			}
			set_country_flag = SPR_revoked_basque_citizenship_flag
		}
	}

	## Catalonian Shit
	# Revolt Against Spain
	SPR_catalonian_revolt_against_spain_mission = {
		visible = {
			owns_state = 86
			86 = { is_core_of = CAT }
			NOT = { has_country_flag = CAT_revolted_against_spain }
		}
		activation = {
			CAT = { NOT = { has_war_with = SPR } }
			check_variable = { SPR_culture_opinion^0 < 21 }
			NOT = { CAT = { is_subject_of = SPR } }
			86 = { is_core_of = CAT }
			NOT = { has_country_flag = CAT_revolted_against_spain }
		}
		available = {
			owns_state = 86
			OR = {
				NOT = { 86 = { is_core_of = CAT } }
				CAT = { is_subject_of = SPR }
				custom_trigger_tooltip = {
					tooltip = SPR_catalonian_opinion_above_20_tt
					check_variable = { SPR_culture_opinion^0 > 20 }
				}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				state = 86
			}
		}

		days_mission_timeout = 10
		is_good = no

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: mission complete_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.01 }
			add_relative_party_popularity = yes
			add_political_power = 25
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.075 }
			add_relative_party_popularity = yes
			set_country_flag = CAT_revolted_against_spain
			CAT = {
				set_country_flag = CAT_revolted_against_spain
				transfer_state = 86
				inherit_technology = SPR
				division_template = {
					name = "Catalonian Infantry"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						L_Inf_Bat = { x = 0 y = 2 }
						L_Inf_Bat = { x = 0 y = 3 }
					}
					support = {
						L_Engi_Comp = { x = 0 y = 0 }
						L_Recce_Comp = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Barcelonian Company\" division_template = \"Catalonian Infantry\" start_experience_factor = 0.5"
						owner = CAT
						prioritize_location = 3899
					}
					create_unit = {
						division = "name = \"2nd Barcelonian Company\" division_template = \"Catalonian Infantry\" start_experience_factor = 0.5"
						owner = CAT
						prioritize_location = 872
					}
					create_unit = {
						division = "name = \"3rd Barcelonian Company\" division_template = \"Catalonian Infantry\" start_experience_factor = 0.5"
						owner = CAT
						prioritize_location = 6836
					}
					create_unit = {
						division = "name = \"4th Barcelonian Company\" division_template = \"Catalonian Infantry\" start_experience_factor = 0.5"
						owner = CAT
						prioritize_location = 6066
					}
					create_unit = {
						division = "name = \"5th Barcelonian Company\" division_template = \"Catalonian Infantry\" start_experience_factor = 0.5"
						owner = CAT
						prioritize_location = 9764
					}
				}
				declare_war_on = {
					target = SPR
					type = take_core_state
					generator = { 86 }
				}
			}
		}
	}
	# Targeted Subsidies
	SPR_catalonian_targeted_subsidies_decision = {
		allowed = { original_tag = SPR }
		visible = {
			owns_state = 86
			86 = { is_core_of = CAT }
		}

		available = {
			20_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 90
		days_re_enable = 15

		modifier = {
			tax_gain_multiplier_modifier = -0.05
			political_power_factor = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_basque_targeted_subsidies_decisions"
			set_temp_variable = { culture_index = 0 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}
	}
	# Revoke Catalonian Citizenship
	SPR_revoke_catalonian_citizenship_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_country_flag = SPR_barcelona_crush_the_catalans
			has_country_flag = SPR_revoke_citizenship_southerner_flag
			86 = { is_core_of = CAT }
		}

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 100

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_revoke_catalonian_citizenship_decision"
			86 = { remove_core_of = CAT }
			add_stability = -0.05
			custom_effect_tooltip = SPR_all_culture_decrease_10_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -10 }
					SPR_modify_cultural_opinion = yes
				}
			}
			set_country_flag = SPR_revoked_catalonian_citizenship_flag
		}
	}
	## Galicia Stuff
	# Revolt Against Spain
	SPR_galician_revolt_against_spain_mission = {
		visible = {
			OR = {
				owns_state = 944
				owns_state = 1055
			}
			OR = {
				944 = { is_core_of = GAL }
				1055 = { is_core_of = GAL }
			}
			NOT = { has_country_flag = GAL_revolted_against_spain }
		}
		activation = {
			GAL = { NOT = { has_war_with = SPR } }
			check_variable = { SPR_culture_opinion^3 < 21 }
			NOT = { GAL = { is_subject_of = SPR } }
			OR = {
				944 = { is_core_of = GAL }
				1055 = { is_core_of = GAL }
			}
			NOT = { has_country_flag = GAL_revolted_against_spain }
		}
		available = {
			OR = {
				owns_state = 944
				owns_state = 1055
			}
			OR = {
				if = {
					limit = {
						owns_state = 944
						owns_state = 1055
					}
					AND = {
						NOT = { 944 = { is_core_of = GAL } }
						NOT = { 1055 = { is_core_of = GAL } }
					}
				}
				else_if = {
					limit = {
						owns_state = 944
						NOT = { owns_state = 1055 }
					}
					NOT = { 944 = { is_core_of = GAL } }
				}
				else_if = {
					limit = {
						owns_state = 1055
						NOT = { owns_state = 944 }
					}
					NOT = { 1055 = { is_core_of = GAL } }
				}
				GAL = { is_subject_of = SPR }
				custom_trigger_tooltip = {
					tooltip = SPR_galician_opinion_above_20_tt
					check_variable = { SPR_culture_opinion^3 > 20 }
				}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				state = 944
				state = 1055
			}
		}

		days_mission_timeout = 100
		is_good = no

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: mission complete_effect SPR_galician_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.01 }
			add_relative_party_popularity = yes
			add_political_power = 25
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect SPR_galician_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.075 }
			add_relative_party_popularity = yes
			set_country_flag = GAL_revolted_against_spain
			GAL = {
				set_country_flag = GAL_revolted_against_spain
				if = { limit = { SPR = { owns_state = 944 } }
					transfer_state = 944
				}
				if = { limit = { SPR = { owns_state = 1055 } }
					transfer_state = 1055
				}
				inherit_technology = SPR
				division_template = {
					name = "Galician Infantry"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						L_Inf_Bat = { x = 0 y = 2 }
						L_Inf_Bat = { x = 0 y = 3 }
					}
					support = {
						L_Engi_Comp = { x = 0 y = 0 }
						L_Recce_Comp = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Lugo Company\" division_template = \"Galician Infantry\" start_experience_factor = 0.5"
						owner = GAL
						prioritize_location = 6764
					}
					create_unit = {
						division = "name = \"2nd Lugo Company\" division_template = \"Galician Infantry\" start_experience_factor = 0.5"
						owner = GAL
						prioritize_location = 729
					}
					create_unit = {
						division = "name = \"3rd Lugo Company\" division_template = \"Galician Infantry\" start_experience_factor = 0.5"
						owner = GAL
						prioritize_location = 11840
					}
				}
				if = {
					limit = { owns_state = 1055 }
					1055 = {
						create_unit = {
							division = "name = \"1st Porto Company\" division_template = \"Galician Infantry\" start_experience_factor = 0.5"
							owner = GAL
							prioritize_location = 877
						}
					}
				}
				declare_war_on = {
					target = SPR
					type = take_core_state
					generator = { 944 }
				}
			}
		}
	}
	# Targeted Subsidies
	SPR_galician_targeted_subsidies_decision = {
		allowed = { original_tag = SPR }
		visible = {
			owns_state = 944
			944 = { is_core_of = GAL }
		}

		available = {
			20_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 90
		days_re_enable = 15

		modifier = {
			tax_gain_multiplier_modifier = -0.05
			political_power_factor = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_basque_targeted_subsidies_decisions"
			set_temp_variable = { culture_index = 2 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}
	}

	# Revoke Galician Citizenship
	SPR_revoke_galician_citizenship_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_country_flag = SPR_lugo_convention_crush_galegos
			has_country_flag = SPR_revoke_citizenship_northerner_flag
			OR = {
				944 = { is_core_of = GAL }
				if = { limit = { owns_state = 1055 }
					1055 = { is_core_of = GAL }
				}
			}
		}

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 100

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_revoke_galician_citizenship_decision"
			944 = { remove_core_of = GAL }
			if = { limit = { owns_state = 1055 }
				1055 = { remove_core_of = GAL }
			}
			add_stability = -0.05
			custom_effect_tooltip = SPR_all_culture_decrease_10_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -10 }
					SPR_modify_cultural_opinion = yes
				}
			}
			set_country_flag = SPR_revoked_galician_citizenship_flag
		}
	}

	## Andalucia Shit
	# Revolt Against Spain
	SPR_andalucia_revolt_against_spain_mission = {
		visible = {
			owns_state = 93
			93 = { is_core_of = SPA }
			NOT = { has_country_flag = SPA_revolted_against_spain }
		}
		activation = {
			SPA = { NOT = { has_war_with = SPR } }
			check_variable = { SPR_culture_opinion^1 < 21 }
			NOT = { SPA = { is_subject_of = SPR } }
			93 = { is_core_of = SPA }
			NOT = { has_country_flag = SPA_revolted_against_spain }
		}
		available = {
			owns_state = 93
			OR = {
				NOT = { 93 = { is_core_of = SPA } }
				SPA = { is_subject_of = SPA }
				custom_trigger_tooltip = {
					tooltip = SPR_andalucia_opinion_above_20_tt
					check_variable = { SPR_culture_opinion^3 > 20 }
				}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				state = 93
			}
		}

		days_mission_timeout = 100
		is_good = no

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: mission complete_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.01 }
			add_relative_party_popularity = yes
			add_political_power = 25
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: mission timeout_effect SPR_basque_revolt_against_spain_mission"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.075 }
			add_relative_party_popularity = yes
			set_country_flag = SPA_revolted_against_spain
			SPA = {
				set_country_flag = SPA_revolted_against_spain
				transfer_state = 93
				inherit_technology = SPR
				division_template = {
					name = "Andalucian Infantry"
					is_locked = yes
					regiments = {
						L_Inf_Bat = { x = 0 y = 0 }
						L_Inf_Bat = { x = 0 y = 1 }
						L_Inf_Bat = { x = 0 y = 2 }
						L_Inf_Bat = { x = 0 y = 3 }
					}
					support = {
						L_Engi_Comp = { x = 0 y = 0 }
						L_Recce_Comp = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Seville Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 11749
					}
					create_unit = {
						division = "name = \"2nd Seville Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 7098
					}
					create_unit = {
						division = "name = \"3rd Seville Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 9891
					}
					create_unit = {
						division = "name = \"4th Seville Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 3810
					}
					create_unit = {
						division = "name = \"1st Malaga Corps\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 3871
					}
					create_unit = {
						division = "name = \"2nd Malaga Corps\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 950
					}
					create_unit = {
						division = "name = \"3rd Malaga Corps\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 1192
					}
					create_unit = {
						division = "name = \"1st Granada Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 11956
					}
					create_unit = {
						division = "name = \"2nd Granada Company\" division_template = \"Andalucian Infantry\" start_experience_factor = 0.5"
						owner = SPA
						prioritize_location = 4065
					}
				}
				declare_war_on = {
					target = SPR
					type = take_core_state
					generator = { 93 }
				}
			}
		}
	}

	# Targeted Subsidies
	SPR_andalucian_targeted_subsidies_decision = {
		allowed = { original_tag = SPR }
		visible = {
			owns_state = 93
			93 = { is_core_of = SPA }
		}

		available = {
			20_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 90
		days_re_enable = 15

		modifier = {
			tax_gain_multiplier_modifier = -0.05
			political_power_factor = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_basque_targeted_subsidies_decisions"
			set_temp_variable = { culture_index = 3 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}
	}

	# Revoke Andalusian Citizenship
	SPR_revoke_andalucian_citizenship_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_country_flag = SPR_seville_crush_the_andalucia
			has_country_flag = SPR_revoke_citizenship_southerner_flag
			93 = { is_core_of = SPA }
		}

		available = {
			OR = {
				nationalist_fascists_are_in_power_or_coalition = yes
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
				nationalist_monarchists_are_in_power_or_coalition = yes
			}
			40_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 100

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_revoke_catalonian_citizenship_decision"
			93 = { remove_core_of = SPA }
			add_stability = -0.05
			custom_effect_tooltip = SPR_all_culture_decrease_10_tt
			# 5% increase to all culture opinions and a explanation of what they are for
			hidden_effect = {
				for_each_loop = {
					array = SPR_culture_opinion
					set_temp_variable = { culture_index = i }
					set_temp_variable = { cultural_opinion = -10 }
					SPR_modify_cultural_opinion = yes
				}
			}
			set_country_flag = SPR_revoked_andalucian_citizenship_flag
		}
	}

	## Canarios Shit
	SPR_canarios_targeted_subsidies_decision = {
		allowed = { original_tag = SPR }
		visible = {
			owns_state = 95
			95 = { is_core_of = SPA }
		}

		available = {
			20_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 90
		days_re_enable = 15

		modifier = {
			tax_gain_multiplier_modifier = -0.05
			political_power_factor = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_canarios_targeted_subsidies_decision"
			set_temp_variable = { culture_index = 4 }
			set_temp_variable = { cultural_opinion = 3 }
			SPR_modify_cultural_opinion = yes
		}
	}

	## Cultura Content
	SPR_challenge_the_court_ban_bull_mission = {
		allowed = { always = no }
		available = { always = no }
		activation = { always = no }

		days_mission_timeout = 180
		selectable_mission = no
		fire_only_once = yes
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_challenge_the_court_ban_bull_mission"
			set_temp_variable = { temp_success_rate = 25 }
			set_temp_variable = { popularity = 30 }
			multiply_temp_variable = { popularity = government_coalition_strength }
			add_to_temp_variable = { temp_success_rate = popularity }
			set_temp_variable = { temp_failure_rate = 75 }
			subtract_from_temp_variable = { temp_failure_rate = popularity }

			if = { limit = { has_country_flag = SPR_pro_ban_campaign }
				add_to_temp_variable = { temp_success_rate = 5 }
				subtract_from_temp_variable = { temp_failure_rate = 5 }
			}

			random_list = {
				temp_success_rate = {
					custom_effect_tooltip = SPR_change_is_upheld
					set_country_flag = SPR_banfighting_is_upheld
				}
				temp_failure_rate = {
					custom_effect_tooltip = SPR_change_is_unconstiutiuonal
					set_country_flag = SPR_banfighting_is_unconstitutional
				}
			}

			country_event = { id = spain.53 }
		}
	}
	SPR_challenge_the_court_killing_bull_mission = {
		allowed = { always = no }
		available = { always = no }
		activation = { always = no }

		days_mission_timeout = 180
		selectable_mission = no
		fire_only_once = yes
		fixed_random_seed = no
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_challenge_the_court_killing_bull_mission"
			set_temp_variable = { temp_success_rate = 25 }
			set_temp_variable = { popularity = 30 }
			multiply_temp_variable = { popularity = government_coalition_strength }
			add_to_temp_variable = { temp_success_rate = popularity }
			set_temp_variable = { temp_failure_rate = 75 }
			subtract_from_temp_variable = { temp_failure_rate = popularity }

			if = { limit = { has_country_flag = SPR_pro_ban_campaign }
				add_to_temp_variable = { temp_success_rate = 5 }
				subtract_from_temp_variable = { temp_failure_rate = 5 }
			}

			random_list = {
				temp_success_rate = {
					custom_effect_tooltip = SPR_change_is_upheld
					set_country_flag = SPR_bankilling_is_upheld
				}
				temp_failure_rate = {
					custom_effect_tooltip = SPR_change_is_unconstiutiuonal
					set_country_flag = SPR_bankilling_is_unconstitutional
				}
			}

			country_event = { id = spain.53 }
		}
	}

	SPR_support_the_cause_decision = {
		allowed = { original_tag = SPR }
		visible = {
			OR = {
				has_active_mission = SPR_challenge_the_court_ban_bull_mission
				has_active_mission = SPR_challenge_the_court_killing_bull_mission
			}
		}

		cost = 75

		days_remove = 45
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_support_the_cause_decision"
			set_country_flag = SPR_pro_ban_campaign
			custom_effect_tooltip = SPR_pro_ban_campaign_tt

			set_temp_variable = { treasury_change = -5 }
			modify_treasury_effect = yes
		}
	}

	SPR_codify_the_ban_into_law_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_active_mission = SPR_challenge_the_court_ban_bull_mission
		}

		available = {
			60_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 90
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_codify_the_ban_into_law"
			remove_mission = SPR_challenge_the_court_ban_bull_mission
		}
	}

	SPR_codify_the_killing_of_the_bull_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_active_mission = SPR_challenge_the_court_killing_bull_mission
		}
		available = {
			50_percent_government_popularity = yes
		}

		cost = 150

		days_remove = 90
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_codify_the_ban_into_law"
			remove_mission = SPR_challenge_the_court_killing_bull_mission
		}
	}

	SPR_hold_a_referendum_on_bull_question_decision = {
		allowed = { original_tag = SPR }
		visible = {
			OR = {
				has_active_mission = SPR_challenge_the_court_ban_bull_mission
				has_active_mission = SPR_challenge_the_court_killing_bull_mission
			}
		}

		available = {
			if = { limit = { has_active_mission = SPR_challenge_the_court_ban_bull_mission }
				custom_trigger_tooltip = {
					tooltip = court_mission_ban_has_more_than_three_months
					check_variable = { var:days_mission_timeout@SPR_challenge_the_court_ban_bull_mission > 89 }
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = court_mission_has_more_than_three_months
					check_variable = { var:days_mission_timeout@SPR_challenge_the_court_killing_bull_mission > 89 }
				}
			}
			30_percent_government_popularity = yes
		}

		cost = 100
		days_remove = 90
		fire_only_once = yes
		fixed_random_seed = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_hold_a_referendum_on_bull_question_decision"
			if = { limit = { has_active_mission = SPR_challenge_the_court_ban_bull_mission }
				remove_mission = SPR_challenge_the_court_ban_bull_mission
			}
			else = {
				remove_mission = SPR_challenge_the_court_killing_bull_mission
			}
			country_event = { id = spain.54 }
		}
	}
}

SPR_monarchist_spain = {
	SPR_spawn_new_guardia_real_decision = {
		allowed = { original_tag = SPR }
		visible = {
			OR = {
				nationalist_monarchists_are_in_power = yes
				western_autocrats_are_in_power = yes
			}
			has_completed_focus = SPR_expand_royal_guard
		}

		available = {
			# Add Tooltip Variable that says you can't have more than 10 units in general
		}

		days_remove = 90
		days_re_enable = 90

		cost = 25

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_spawn_new_guardia_real_decision"
			if = { limit = { NOT = { has_completed_focus = SPR_guardia_real } }
				capital_scope = {
					create_unit = {
						division = " name = \"Guardia Real\" division_template = \"Guardia Real\" start_experience_factor = 0.5"
						owner = SPR
						prioritize_location = 3938
					}
				}
			}
			else = {
				capital_scope = {
					create_unit = {
						division = " name = \"Guardia Real\" division_template = \"Expanded Guardia Real\" start_experience_factor = 0.5"
						owner = SPR
						prioritize_location = 3938
					}
				}
			}
		}
	}

	SPR_a_just_tax_decision = {
		allowed = { original_tag = SPR }
		visible = {
			nationalist_monarchists_are_in_power = yes
			has_completed_focus = SPR_the_throne_and_the_state
		}

		days_remove = 180
		days_re_enable = 180

		modifier = {
			nationalist_drift = -0.05
			population_tax_income_multiplier_modifier = -0.15
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_a_just_tax_decision"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = 0.03 }
			modify_treasury_effect = yes
		}
	}

	SPR_a_divine_right_decision = {
		allowed = { original_tag = SPR }
		visible = {
			nationalist_monarchists_are_in_power = yes
			has_completed_focus = SPR_divine_right
		}

		days_remove = 90
		days_re_enable = 45

		cost = 50

		modifier = {
			political_power_factor = -0.15
			nationalist_drift = 0.05
			nationalist_outlook_campaign_cost_modifier = -0.15
		}
	}

	SPR_install_the_carlists_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_question_of_thrones
			has_country_flag = SPR_carlists_chosen
		}

		available = {
			emerging_anarchist_communism_not_in_power_or_coalition = yes
			emerging_communist_state_not_in_power_or_coalition = yes
			neutrality_neutral_social_not_in_power_or_coalition = yes
			neutrality_neutral_communism_not_in_power_or_coalition = yes
			40_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 60

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_install_the_carlists_decision"
			set_country_flag = SPR_carlist_rising
			custom_effect_tooltip = SPR_carlists_ascend_to_throne_tt
			# should set the leaders to the Carlists
			set_variable = { Monarchist_leader = 3 }
			set_variable = { Western_Autocracy_leader = 3 }
		}

	}

	# The New Elections
	SPR_remove_our_coalition_partner_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_new_elections
			western_autocrats_are_in_power = yes
			OR = {
				nationalist_fascist_are_in_coalition = yes
				nationalist_right_wing_populists_are_in_coalition = yes
				western_conservatism_are_in_coalition = yes
				western_social_democrats_are_in_coalition = yes
			}
		}

		cost = 150

		days_remove = 30
		days_re_enable = 30

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_remove_our_coalition_partner_decision"
			if = { limit = { nationalist_fascist_are_in_coalition = yes }
				hidden_effect = {
					# remove_ideas = {

					# }
				}
				remove_from_array = { gov_coalition_array = 21 }
			}
			else_if = { limit = { nationalist_right_wing_populists_are_in_coalition = yes }
				hidden_effect = {
					# remove_ideas = {

					# }
				}
				remove_from_array = { gov_coalition_array = 20 }
			}
			else_if = { limit = { western_conservatism_are_in_coalition = yes }
				hidden_effect = {
					remove_ideas = {
						SPR_family_first_idea
						SPR_conservative_education_reforms_idea
						SPR_spanish_deregulation_idea
						SPR_spanish_intervention_abroad_idea
						SPR_the_spanish_patriot_act_idea_lar
						SPR_the_spanish_patriot_act_idea
						SPR_longer_work_less_siesta_idea
						SPR_unionization_of_faith_idea
					}
				}
				remove_from_array = { gov_coalition_array = 1 }
			}
			else_if = { limit = { western_social_democrats_are_in_coalition = yes }
				hidden_effect = {
					# remove_ideas = {

					# }
				}
				remove_from_array = { gov_coalition_array = 3 }
			}
		}
	}

	SPR_add_conservatism_into_coalition_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_new_elections
			western_autocrats_are_in_power = yes
			NOT = { western_conservatism_are_in_coalition = yes }
		}

		available = {
			NOT = {
				western_social_democrats_are_in_coalition = yes
				nationalist_fascist_are_in_coalition = yes
				nationalist_right_wing_populists_are_in_coalition = yes
			}
		}

		cost = 100

		days_re_enable = 45
		days_remove = 90

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_add_conservatism_into_coalition_decision"
			set_temp_variable = { add_col_one = 1 }
			add_coalition_members_effect = yes
			if = { limit = { has_completed_focus = SPR_party_of_the_people }
				add_ideas = SPR_a_party_of_the_people_idea
			}
			if = { limit = { has_completed_focus = SPR_conservative_education_reforms }
				add_ideas = SPR_conservative_education_reforms_idea
			}
			if = { limit = { has_completed_focus = SPR_revised_military_interventionism }
				add_ideas = SPR_spanish_intervention_abroad_idea
			}
			if = { limit = { has_completed_focus = SPR_family_first }
				add_ideas = SPR_family_first_idea
			}
			if = { limit = { has_completed_focus = SPR_the_welfare_state }
				add_ideas = SPR_the_conservative_welfare_state_idea
			}
			if = {
				limit = {
					has_completed_focus = SPR_unionization_of_faith
					OR = {
						has_idea = communist_cadres
						has_idea = labour_unions
					}
				}
				add_ideas = SPR_unionization_of_faith_idea
			}
		}
	}

	SPR_add_socialism_into_coalition_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_new_elections
			western_autocrats_are_in_power = yes
			NOT = { western_social_democrats_are_in_coalition = yes }
		}

		available = {
			NOT = {
				western_conservatism_are_in_coalition = yes
				nationalist_fascist_are_in_coalition = yes
				nationalist_right_wing_populists_are_in_coalition = yes
			}
		}

		cost = 100

		days_re_enable = 45
		days_remove = 90

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_add_conservatism_into_coalition_decision"
			set_temp_variable = { add_col_one = 3 }
			add_coalition_members_effect = yes
			# TODO: Need to add more permanent ideas for this path
		}
	}

	SPR_add_nat_fascism_into_coalition_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_new_elections
			western_autocrats_are_in_power = yes
			NOT = { nationalist_fascist_are_in_coalition = yes }
		}

		available = {
			NOT = {
				western_conservatism_are_in_coalition = yes
				western_social_democrats_are_in_coalition = yes
				nationalist_right_wing_populists_are_in_coalition = yes
			}
		}

		cost = 100

		days_re_enable = 45
		days_remove = 90

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_add_conservatism_into_coalition_decision"
			set_temp_variable = { add_col_one = 21 }
			add_coalition_members_effect = yes
			if = { limit = { has_completed_focus = SPR_the_youth_front }
				add_ideas = SPR_the_falangist_youth_front_idea
			}
			if = { limit = { has_completed_focus = SPR_the_hands_of_the_few }
				add_ideas = SPR_the_hands_of_the_few_idea
			}
		}
	}

	SPR_add_nat_rwp_into_coalition_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_new_elections
			western_autocrats_are_in_power = yes
			NOT = { nationalist_right_wing_populists_are_in_coalition = yes }
		}

		available = {
			NOT = {
				western_conservatism_are_in_coalition = yes
				western_social_democrats_are_in_coalition = yes
				nationalist_fascist_are_in_coalition = yes
			}
		}

		cost = 100

		days_re_enable = 45
		days_remove = 90

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_add_nat_rwp_into_coalition_decision"
			set_temp_variable = { add_col_one = 20 }
			add_coalition_members_effect = yes
			if = { limit = { has_completed_focus = SPR_the_natalist_view }
				add_ideas = SPR_the_natalist_view_idea
			}
			if = { limit = { has_completed_focus = SPR_reinforce_the_castle_doctrine }
				add_ideas = SPR_the_castle_doctrine_idea
			}
			if = { limit = { has_completed_focus = SPR_authoritarianism_by_law }
				add_ideas = SPR_rigged_elections_idea
			}
			if = { limit = { has_completed_focus = SPR_anti_immigration_policies }
				add_ideas = SPR_anti_immigration_policies_idea
			}
			if = { limit = { has_completed_focus = SPR_the_identity_of_spain }
				add_ideas = SPR_the_true_identity_of_spain_idea
			}
			if = { limit = { has_completed_focus = SPR_state_sponsored_unions }
				add_ideas = SPR_state_sponsored_unions_idea
			}
			if = { limit = { has_completed_focus = SPR_unionization_of_faith }
				add_ideas = SPR_unionization_of_faith_idea
			}
		}

	}
}

SPR_political_policy_category = {
	SPR_file_a_motion_of_no_confidence = {
		allowed = { original_tag = SPR }
		visible = { has_completed_focus = SPR_the_republic }

		available = {
			NOT = { has_country_flag = SPR_filed_a_motion_of_no_confidence }
		}
		cost = 100

		days_remove = 60
		days_re_enable = 1

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_file_a_motion_of_no_confidence"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.01 }
			add_relative_party_popularity = yes
			set_country_flag = { flag = SPR_filed_a_motion_of_no_confidence value = 1 days = 365 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_file_a_motion_of_no_confidence"
			country_event = { id = MD4_election_campaign.0 }

			custom_effect_tooltip = SPR_file_a_motion_of_no_confidence_tt
		}
	}
	SPR_political_support_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_the_republic
			NOT = { has_completed_focus = SPR_the_old_ways }
		}

		cost = 50

		days_remove = 45
		days_re_enable = 45

		modifier = {
			political_power_factor = -0.15
			tax_gain_multiplier_modifier = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_political_support_decision"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = 0.04 }
			set_temp_variable = { temp_outlook_increase = 0.03 }
			add_relative_party_popularity = yes
		}
	}

	SPR_exploit_the_union_decision = {
		allowed = { original_tag = SPR }
		visible = {
			OR = {
				if = { limit = { has_completed_focus = SPR_the_new_elections }
					western_autocrats_are_in_power = yes
				}
				nationalist_right_wing_populists_are_in_power_or_coalition = yes
			}
			has_completed_focus = SPR_a_party_with_a_union
		}

		available = {
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			30_percent_government_popularity = yes
		}

		cost = 50

		days_remove = 120
		days_re_enable = 90

		modifier = {
			political_power_factor = -0.20
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_exploit_the_union_decision"
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = 0.008 }
			modify_treasury_effect = yes
			set_temp_variable = { temp_opinion = -5 }
			change_labour_unions_opinion = yes
			change_farmers_opinion = yes
			set_temp_variable = { party_index = 20 }
			set_temp_variable = { party_popularity_increase = -0.02 }
			set_temp_variable = { temp_outlook_increase = 0.02 }
			add_relative_party_popularity = yes
		}
	}

	SPR_tap_the_bank_funds_decision = {
		allowed = { original_tag = SPR }
		visible = { has_completed_focus = SPR_a_state_bank }

		available = {
			NOT = { has_active_mission = bankruptcy_incoming_collapse }
		}
		cost = 50

		days_remove = 180
		days_re_enable = 5

		modifier = {
			stability_weekly = -0.001
			democratic_drift = -0.05
			neutrality_drift = -0.05
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_file_a_motion_of_no_confidence"
			set_party_index_to_ruling_party = yes
			set_temp_variable = { party_popularity_increase = -0.01 }
			add_relative_party_popularity = yes
			set_temp_variable = { treasury_change = gdp_total }
			multiply_temp_variable = { treasury_change = -0.025 }
			modify_treasury_effect = yes
			set_temp_variable = { int_investment_change = treasury_change }
			multiply_temp_variable = { int_investment_change = -1.25 }
			modify_international_investment_effect = yes
			random_list = {
				30 = {
					increase_corruption = yes
				}
				70 = {

				}
			}
		}
	}

	SPR_encourage_communist_neighbors_decision = {
		allowed = { original_tag = SPR }
		visible = {
			OR = {
				neutrality_neutral_communism_in_power_or_coalition = yes
				emerging_communist_state_in_power_or_coalition = yes
			}
			has_completed_focus = SPR_communist_everywhere
		}

		cost = 75

		days_remove = 30
		days_re_enable = 30

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_encourage_communist_neighbors_decision"
			every_neighbor_country = {
				limit = {
					NOT = {
						neutrality_neutral_communism_are_in_coalition = yes
						emerging_communist_state_are_in_coalition = yes
					}
				}
				set_temp_variable = { party_index = 4 }
				set_temp_variable = { party_popularity_increase = 0.025 }
				set_temp_variable = { temp_outlook_increase = 0.025 }
				add_relative_party_popularity = yes
				set_temp_variable = { party_index = 19 }
				add_relative_party_popularity = yes
			}
		}
	}

	SPR_unban_the_monarchy_decision = {
		allowed = { original_tag = SPR }
		visible = {
			NOT = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			has_global_flag = SPR_chavy_deposition_of_monarchs_flag
		}

		available = {
			NOT = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			30_percent_government_popularity = yes
		}

		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_unban_the_monarchy_decision"
			clr_country_flag = party0_banned
			clr_country_flag = party23_banned
			custom_effect_tooltip = SPR_monarchs_unbanned_tt
		}
	}

	# Replace Policies
	SPR_conservatism_policy_replacer_decision = {
		allowed = { original_tag = SPR }
		visible = {
			NOT = { western_autocrats_are_in_power = yes }
			OR = {
				western_conservatism_are_in_power_or_coalition = yes
				neutrality_neutral_conservatism_in_power_or_coalition = yes
			}
			OR = {
				has_completed_focus = SPR_party_of_the_people
				has_completed_focus = SPR_the_welfare_state
			}
			NOT = {
				OR = {
					has_idea = SPR_a_party_of_the_people_idea
					has_idea = SPR_the_conservative_welfare_state_idea
				}
			}
		}

		available = {
			OR = {
				western_conservatism_are_in_power_or_coalition = yes
				neutrality_neutral_conservatism_in_power_or_coalition = yes
			}
		}

		days_remove = 30
		fire_only_once = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_conservatism_policy_replacer_decision"
			if = {
				limit = {
					NOT = { has_idea = SPR_a_party_of_the_people_idea }
					has_completed_focus = SPR_party_of_the_people
				}
				add_ideas = SPR_a_party_of_the_people_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_the_conservative_welfare_state_idea }
					has_completed_focus = SPR_the_welfare_state
				}
				add_ideas = SPR_the_conservative_welfare_state_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_family_first_idea }
					has_completed_focus = SPR_family_first
				}
				add_ideas = SPR_family_first_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_unionization_of_faith_idea }
					has_completed_focus = SPR_unionization_of_faith
				}
				add_ideas = SPR_unionization_of_faith_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_spanish_intervention_abroad_idea }
					has_completed_focus = SPR_revised_military_interventionism
				}
				add_ideas = SPR_spanish_intervention_abroad_idea
			}
			if = {
				limit = {
					has_completed_focus = SPR_spanish_patriot_act
					NOT = { has_idea = SPR_the_spanish_patriot_act_idea_lar }
					NOT = { has_idea = SPR_the_spanish_patriot_act_idea }
				}
				if = { limit = { has_dlc = "La Resistance" }
					add_ideas = SPR_the_spanish_patriot_act_idea_lar
					if = { limit = { has_intelligence_agency = no }
						create_intelligence_agency = {
							name = "National Intelligence Centre (CNI)"
							icon = GFX_intelligence_agency_logo_spr
						}
					}
				}
				else = {
					add_ideas = SPR_the_spanish_patriot_act_idea
				}
			}

			# Unique Custom Party Content
			if = {
				limit = {
					OR = {
						western_conservatism_are_in_power = yes
						neutrality_neutral_conservatism_are_in_power = yes
					}
				}
				# Golden Shares
				if = { limit = { has_completed_focus = SPR_revival_of_golden_shares }
					add_ideas = SPR_revival_of_golden_share2_idea
				}
				else_if = { limit = { has_completed_focus = SPR_the_iberian_standards }
					add_ideas = SPR_revival_of_golden_share_idea
				}
			}
		}
	}

	SPR_rwp_policy_replacer_decisions = {
		allowed = { original_tag = SPR }
		visible = {
			NOT = { western_autocrats_are_in_power = yes }
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
			OR = {
				has_completed_focus = SPR_the_natalist_view
				has_completed_focus = SPR_pin_parental_education
				has_completed_focus = SPR_rise_of_nativism
			}
			NOT = {
				OR = {
					has_idea = SPR_the_natalist_view_idea
					has_idea = SPR_parental_choice_on_all_topics_idea
					has_idea = SPR_parental_choice_on_controversial_idea
					has_idea = SPR_a_harsh_nativism_stance_idea
					has_idea = SPR_a_soft_nativism_stance_idea
				}
			}
		}

		available = {
			nationalist_right_wing_populists_are_in_power_or_coalition = yes
		}

		days_remove = 30
		fire_only_once = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_rwp_policy_replacer_decisions"
			if = {
				limit = {
					NOT = { has_idea = SPR_the_natalist_view_idea }
					has_completed_focus = SPR_the_natalist_view
				}
				add_ideas = SPR_the_natalist_view_idea
			}
			if = { limit = { has_completed_focus = SPR_pin_parental_education }
				if = {
					limit = {
						NOT = { has_idea = SPR_parental_choice_on_all_topics_idea }
						has_country_flag = SPR_pin_parental_education_full_flag
					}
					add_ideas = SPR_parental_choice_on_all_topics_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_parental_choice_on_controversial_idea }
						has_country_flag = SPR_pin_parental_education_controversial_flag
					}
					add_ideas = SPR_parental_choice_on_controversial_idea
				}
			}
			if = { limit = { has_completed_focus = SPR_rise_of_nativism }
				if = {
					limit = {
						NOT = { has_idea = SPR_a_harsh_nativism_stance_idea }
						has_country_flag = SPR_harsh_nativism_stance_flag
					}
					add_ideas = SPR_a_harsh_nativism_stance_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_a_soft_nativism_stance_idea }
						has_country_flag = SPR_soft_nativism_stance_flag
					}
					add_ideas = SPR_a_soft_nativism_stance_idea
				}
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_the_castle_doctrine_idea }
					has_completed_focus = SPR_reinforce_the_castle_doctrine
				}
				add_ideas = SPR_the_castle_doctrine_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_anti_immigration_policies_idea }
					has_completed_focus = SPR_anti_immigration_policies
				}
				add_ideas = SPR_anti_immigration_policies_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_funding_for_police_idea }
					has_completed_focus = SPR_funding_for_police
				}
				add_ideas = SPR_funding_for_police_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_state_sponsored_unions_idea }
					has_completed_focus = SPR_state_sponsored_unions
				}
				add_ideas = SPR_state_sponsored_unions_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_unionization_of_faith_idea }
					has_completed_focus = SPR_unionization_of_faith
				}
				add_ideas = SPR_unionization_of_faith_idea
			}

			# Unique Party Effects
			if = {
				limit = {
					nationalist_right_wing_populists_are_in_power = yes
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_true_identity_of_spain_idea }
						has_completed_focus = SPR_the_identity_of_spain
					}
					add_ideas = SPR_the_true_identity_of_spain_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_true_identity_of_spain_soft1_idea }
						has_completed_focus = SPR_a_softer_stance
					}
					swap_ideas = {
						remove_idea = SPR_the_true_identity_of_spain_idea
						add_idea = SPR_the_true_identity_of_spain_soft1_idea
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_true_identity_of_spain_soft2_idea }
						has_completed_focus = SPR_negotiate_with_the_parties
					}
					swap_ideas = {
						remove_idea = SPR_the_true_identity_of_spain_soft1_idea
						add_idea = SPR_the_true_identity_of_spain_soft2_idea
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_true_identity_of_spain_harsh1_idea }
						has_completed_focus = SPR_eliminate_separatism
					}
					swap_ideas = {
						remove_idea = SPR_the_true_identity_of_spain_idea
						add_idea = SPR_the_true_identity_of_spain_harsh1_idea
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_true_identity_of_spain_harsh2_idea }
						has_completed_focus = SPR_ban_the_parties
					}
					swap_ideas = {
						remove_idea = SPR_the_true_identity_of_spain_harsh1_idea
						add_idea = SPR_the_true_identity_of_spain_harsh2_idea
					}
				}
			}
		}
	}

	SPR_falangists_policy_replacer_decision = {
		allowed = { original_tag = SPR }
		visible = {
			NOT = { western_autocrats_are_in_power = yes }
			nationalist_fascists_are_in_power_or_coalition = yes
			OR = {
				has_completed_focus = SPR_the_youth_front
				has_completed_focus = SPR_return_of_francoism
				has_completed_focus = SPR_spanish_first
			}
			NOT = {
				has_idea = SPR_the_falangist_youth_front_idea
			}
		}

		available = {
			nationalist_fascists_are_in_power_or_coalition = yes
		}

		days_remove = 30
		fire_only_once = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_falangists_policy_replacer_decision"
			if = {
				limit = {
					has_completed_focus = SPR_the_youth_front
					NOT = { has_idea = SPR_the_falangist_youth_front_idea }
				}
				add_ideas = SPR_the_falangist_youth_front_idea
			}
			if = {
				limit = {
					has_completed_focus = SPR_role_of_the_woman
				}
				if = {
					limit = {
						has_country_flag = SPR_women_homefront_idea_flag
						NOT = { has_idea = SPR_women_belong_on_the_homefront_idea }
					}
					add_ideas = SPR_women_belong_on_the_homefront_idea
				}
				if = {
					limit = {
						has_country_flag = SPR_women_choose_idea_flag
						NOT = { has_idea = SPR_women_choose_idea }
					}
					add_ideas = SPR_women_choose_idea
				}
			}
			if = {
				limit = {
					has_completed_focus = SPR_the_hands_of_the_few
					NOT = { has_idea = SPR_the_hands_of_the_few_idea }
				}
				add_ideas = SPR_the_hands_of_the_few_idea
			}

			# Unique Party Only Ideas
			if = { limit = { nationalist_fascist_are_in_power = yes }
				if = {
					limit = {
						NOT = { has_idea = SPR_pride_of_the_army_idea }
						has_completed_focus = SPR_nation_of_pride
					}
					add_ideas = SPR_pride_of_the_army_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_pride_of_the_army2_idea }
						has_completed_focus = SPR_pride_in_the_army
					}
					swap_ideas = {
						remove_idea = SPR_pride_of_the_army_idea
						add_idea = SPR_pride_of_the_army2_idea
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_una_espana_y_granda_libre_idea }
						has_completed_focus = SPR_glory_to_spain
					}
					add_ideas = SPR_una_espana_y_granda_libre_idea
				}

			}

		}
	}


	SPR_socialism_policy_replacer_decision = {
		allowed = { original_tag = SPR }

		visible = {
			NOT = { western_autocrats_are_in_power = yes }
			OR = {
				western_socialism_are_in_power_or_coalition = yes
				western_liberal_are_in_power_or_coalition = yes
				neutrality_neutral_social_in_power_or_coalition = yes
				emerging_anarchist_communism_in_power_or_coalition = yes
			}
			OR = {
				has_completed_focus = SPR_a_keynesian_take
				has_completed_focus = SPR_decommodify_the_basics
			}
			NOT = {
				OR = {
					has_idea = SPR_keynesian_economic_idea
					has_idea = SPR_decommdify_the_basics_idea
				}
			}
		}

		available = {
			OR = {
				western_socialism_are_in_power_or_coalition = yes
				western_liberal_are_in_power_or_coalition = yes
				neutrality_neutral_social_in_power_or_coalition = yes
				emerging_anarchist_communism_in_power_or_coalition = yes
			}
		}

		days_remove = 30
		fire_only_once = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_socialism_policy_replacer_decision"
			if = {
				limit = {
					NOT = { has_idea = SPR_decommdify_the_basics_idea }
					has_completed_focus = SPR_decommodify_the_basics
				}
				add_ideas = SPR_decommdify_the_basics_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_keynesian_economic_idea }
					has_completed_focus = SPR_a_keynesian_take
				}
				add_ideas = SPR_keynesian_economic_idea
			}

			# Unique
			if = {
				limit = {
					OR = {
						western_social_democrats_are_in_power = yes
						western_liberals_are_in_power = yes
						neutrality_neutral_social_are_in_power = yes
						emerging_anarchist_communism_are_in_power = yes
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_collectiveness_egalitarianism_idea }
						NOT = { has_idea = SPR_collectiveness_egalitarianism2_idea }
						has_completed_focus = SPR_the_heart_of_the_collective
					}
					add_ideas = SPR_collectiveness_egalitarianism_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_scandinavians_style_idea }
						has_completed_focus = SPR_analyze_the_scandinavians
					}
					add_ideas = SPR_the_scandinavians_style_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_end_the_loophole_idea }
						has_completed_focus = SPR_tax_the_rich
					}
					add_ideas = SPR_end_the_loophole_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_peoples_spain_idea }
						has_completed_focus = SPR_the_peoples_spain
					}
					add_ideas = SPR_the_peoples_spain_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_regulate_the_markets_idea }
						has_completed_focus = SPR_regulate_the_markets
					}
					add_ideas = SPR_regulate_the_markets_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_separation_of_church_and_state_idea }
						has_completed_focus = SPR_separation_of_church_and_state
					}
					add_ideas = SPR_separation_of_church_and_state_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_collectiveness_egalitarianism2_idea }
						has_completed_focus = SPR_analyze_the_scandinavians
					}
					swap_ideas = {
						remove_idea = SPR_collectiveness_egalitarianism_idea
						add_idea = SPR_collectiveness_egalitarianism2_idea
					}
				}
			}
		}
	}

	SPR_communist_policy_replacer_decision = {
		allowed = { original_tag = SPR }

		visible = {
			NOT = { western_autocrats_are_in_power = yes }
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
			OR = {
				has_completed_focus = SPR_marxist_education
				has_completed_focus = SPR_in_support_of_the_worker
			}
			NOT = {
				OR = {
					has_idea = SPR_marxist_reeducation_idea
					has_idea = SPR_the_rights_of_the_worker_idea
				}
			}
		}

		available = {
			OR = {
				emerging_communist_state_in_power_or_coalition = yes
				neutrality_neutral_communism_in_power_or_coalition = yes
			}
		}

		days_remove = 30
		fire_only_once = no

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_socialism_policy_replacer_decision"
			if = {
				limit = {
					NOT = { has_idea = SPR_the_rights_of_the_worker_idea }
					NOT = { has_idea = SPR_the_rights_of_the_worker1_idea }
					NOT = { has_idea = SPR_the_rights_of_the_worker2_idea }
					has_completed_focus = SPR_in_support_of_the_worker
				}
				add_ideas = SPR_the_rights_of_the_worker_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_the_rights_of_the_worker1_idea }
					has_completed_focus = SPR_collectively_owned
				}
				swap_ideas = {
					remove_idea = SPR_the_rights_of_the_worker_idea
					add_idea = SPR_the_rights_of_the_worker1_idea
				}
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_the_rights_of_the_worker2_idea }
					has_completed_focus = SPR_redistribution_of_wealth
				}
				swap_ideas = {
					remove_idea = SPR_the_rights_of_the_worker1_idea
					add_idea = SPR_the_rights_of_the_worker2_idea
				}
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_communistic_research_idea }
					NOT = { has_idea = SPR_communistic_research2_idea }
					has_completed_focus = SPR_the_material
				}
				add_ideas = SPR_communistic_research_idea
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_communistic_research2_idea }
					has_completed_focus = SPR_the_technical_base
				}
				swap_ideas = {
					remove_idea = SPR_communistic_research_idea
					add_idea = SPR_communistic_research2_idea
				}
			}
			if = {
				limit = {
					NOT = { has_idea = SPR_the_emancipation_of_the_woman_idea }
					has_completed_focus = SPR_the_emancipation_of_the_woman
				}
				add_ideas = SPR_the_emancipation_of_the_woman_idea
			}

			# Unique
			if = {
				limit = {
					OR = {
						emerging_communist_state_are_in_power = yes
						neutrality_neutral_communism_are_in_power = yes
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_peoples_militias_idea }
						has_completed_focus = SPR_the_peoples_militias
					}
					add_ideas = SPR_the_peoples_militias_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_culture_of_proletarianism_idea }
						NOT = { has_idea = SPR_the_culture_of_proletarianism2_idea }
						has_completed_focus = SPR_the_culture_of_proletarianism
					}
					add_ideas = SPR_the_culture_of_proletarianism_idea
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_the_culture_of_proletarianism2_idea }
						has_completed_focus = SPR_the_red_rose
					}
					swap_ideas = {
						remove_idea = SPR_the_culture_of_proletarianism_idea
						add_idea = SPR_the_culture_of_proletarianism2_idea
					}
				}
				if = {
					limit = {
						NOT = { has_idea = SPR_union_of_working_youth_idea }
						has_completed_focus = SPR_union_of_working_youth
					}
					add_ideas = SPR_union_of_working_youth_idea
				}
			}
		}
	}
}

SPR_foreign_recruitment = {
	SPR_spawn_new_foreign_legion_decision = {
		allowed = { original_tag = SPR }
		visible = { has_completed_focus = SPR_the_foreign_legion }

		available = {
			custom_trigger_tooltip = {
				tooltip = SPR_deployed_legion_tt
				check_variable = { SPR_deployed_legions < SPR_legion_cap }
			}
		}

		days_remove = 90
		days_re_enable = 90

		cost = 25

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_spawn_foreign_legion_decision"
			94 = {
				create_unit = {
					division = " name = \"Foreign Legion Tercio\" division_template = \"Foreign Legion Tercio\" start_experience_factor = 0.5"
					owner = SPR
					prioritize_location = 12038
				}

				add_to_variable = { SPR_deployed_legions = 1 }
			}
		}
	}

	SPR_spawn_new_regulares_decision = {
		allowed = { original_tag = SPR }
		visible = {
			has_completed_focus = SPR_expand_the_regulares
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = SPR_deployed_regulares_tt
				check_variable = { SPR_deployed_regulares < SPR_regulare_cap }
			}
		}

		days_remove = 90
		days_re_enable = 90

		cost = 25

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_spawn_new_regulares_decision"
			if = { limit = { NOT = { has_completed_focus = SPR_expand_the_regulares } }
				495 = {
					create_unit = {
						division = " name = \"Regulares Group\" division_template = \"Regulares Group\" start_experience_factor = 0.5"
						owner = SPR
					}
				}

				add_to_variable = { SPR_deployed_regulares = 1 }
			}
			else = {
				495 = {
					create_unit = {
						division = " name = \"Regulares Brigade\" division_template = \"Regulares Brigade\" start_experience_factor = 0.5"
						owner = SPR
					}
				}

				add_to_variable = { SPR_deployed_regulares = 1 }
			}
		}
	}
}